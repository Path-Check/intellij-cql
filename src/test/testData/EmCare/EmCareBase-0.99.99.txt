Cql Language file(0,6239)
  PsiComment(COMMENT)('/*\n@author: Patrick Delcroix\n@description: This library is part of the project EmCare Project, its allows standardisation for the observation processing\n*/')(0,155)
  PsiWhiteSpace('\n\n')(155,157)
  Library(Library)(157,5104)
    LibraryDefinition(LibraryDefinition)(157,193)
      PsiElement('library')('library')(157,164)
      PsiWhiteSpace(' ')(164,165)
      QualifiedIdentifier(QualifiedIdentifier)(165,175)
        Identifier(Identifier)(165,175)
          PsiElement(IDENTIFIER)('EmCareBase')(165,175)
      PsiWhiteSpace(' ')(175,176)
      PsiElement('version')('version')(176,183)
      PsiWhiteSpace(' ')(183,184)
      VersionSpecifier(VersionSpecifier)(184,193)
        PsiElement(STRING)(''0.99.99'')(184,193)
    PsiWhiteSpace('\n\n')(193,195)
    Definition(Definition)(195,221)
      UsingDefinition(UsingDefinition)(195,221)
        PsiElement('using')('using')(195,200)
        PsiWhiteSpace(' ')(200,201)
        QualifiedIdentifier(QualifiedIdentifier)(201,205)
          Identifier(Identifier)(201,205)
            PsiElement(IDENTIFIER)('FHIR')(201,205)
        PsiWhiteSpace(' ')(205,206)
        PsiElement('version')('version')(206,213)
        PsiWhiteSpace(' ')(213,214)
        VersionSpecifier(VersionSpecifier)(214,221)
          PsiElement(STRING)(''4.0.1'')(214,221)
    PsiWhiteSpace('\n\n')(221,223)
    Definition(Definition)(223,258)
      IncludeDefinition(IncludeDefinition)(223,258)
        PsiElement('include')('include')(223,230)
        PsiWhiteSpace(' ')(230,231)
        QualifiedIdentifier(QualifiedIdentifier)(231,242)
          Identifier(Identifier)(231,242)
            PsiElement(IDENTIFIER)('FHIRHelpers')(231,242)
        PsiWhiteSpace(' ')(242,243)
        PsiElement('version')('version')(243,250)
        PsiWhiteSpace(' ')(250,251)
        VersionSpecifier(VersionSpecifier)(251,258)
          PsiElement(STRING)(''4.0.1'')(251,258)
    PsiWhiteSpace('\n\n\n')(258,261)
    Statement(Statement)(261,278)
      ContextDefinition(ContextDefinition)(261,278)
        PsiElement('context')('context')(261,268)
        PsiWhiteSpace(' ')(268,269)
        Identifier(Identifier)(269,278)
          PsiElement(IDENTIFIER)('Encounter')(269,278)
    PsiWhiteSpace('\n\n')(278,280)
    PsiComment(LINE_COMMENT)('// *********************   PatientHasObservationDuringEncounter *********************/')(280,366)
    PsiWhiteSpace('\n')(366,367)
    PsiComment(LINE_COMMENT)('// obs and value : return value')(367,398)
    PsiWhiteSpace('\n')(398,399)
    PsiComment(LINE_COMMENT)('// obs and no value: return true')(399,431)
    PsiWhiteSpace('\n')(431,432)
    PsiComment(LINE_COMMENT)('// obs cancelled (not found) : return false')(432,475)
    PsiWhiteSpace('\n')(475,476)
    PsiComment(LINE_COMMENT)('// obs not found : return null')(476,506)
    PsiWhiteSpace('\n\n')(506,508)
    Statement(Statement)(508,587)
      ExpressionDefinition(ExpressionDefinition)(508,587)
        PsiElement('define')('define')(508,514)
        PsiWhiteSpace(' ')(514,515)
        Identifier(Identifier)(515,520)
          PsiElement(QUOTEDIDENTIFIER)('"Yes"')(515,520)
        PsiElement(':')(':')(520,521)
        PsiWhiteSpace('\n  ')(521,524)
        TermExpression(TermExpression)(524,587)
          TermExpressionTerm(TermExpressionTerm)(524,587)
            InvocationTerm(InvocationTerm)(524,587)
              FunctionInvocation(FunctionInvocation)(524,587)
                Function(Function)(524,587)
                  ReferentialIdentifier(ReferentialIdentifier)(524,530)
                    Identifier(Identifier)(524,530)
                      PsiElement(IDENTIFIER)('coding')(524,530)
                  PsiElement('(')('(')(530,531)
                  ParamList(ParamList)(531,586)
                    TermExpression(TermExpression)(531,536)
                      TermExpressionTerm(TermExpressionTerm)(531,536)
                        LiteralTerm(LiteralTerm)(531,536)
                          StringLiteral(StringLiteral)(531,536)
                            PsiElement(STRING)(''yes'')(531,536)
                    PsiElement(',')(',')(536,537)
                    PsiWhiteSpace(' ')(537,538)
                    TermExpression(TermExpression)(538,586)
                      TermExpressionTerm(TermExpressionTerm)(538,586)
                        LiteralTerm(LiteralTerm)(538,586)
                          StringLiteral(StringLiteral)(538,586)
                            PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(538,586)
                  PsiElement(')')(')')(586,587)
    PsiWhiteSpace('\n\n')(587,589)
    Statement(Statement)(589,666)
      ExpressionDefinition(ExpressionDefinition)(589,666)
        PsiElement('define')('define')(589,595)
        PsiWhiteSpace(' ')(595,596)
        Identifier(Identifier)(596,600)
          PsiElement(QUOTEDIDENTIFIER)('"No"')(596,600)
        PsiElement(':')(':')(600,601)
        PsiWhiteSpace('\n  ')(601,604)
        TermExpression(TermExpression)(604,666)
          TermExpressionTerm(TermExpressionTerm)(604,666)
            InvocationTerm(InvocationTerm)(604,666)
              FunctionInvocation(FunctionInvocation)(604,666)
                Function(Function)(604,666)
                  ReferentialIdentifier(ReferentialIdentifier)(604,610)
                    Identifier(Identifier)(604,610)
                      PsiElement(IDENTIFIER)('coding')(604,610)
                  PsiElement('(')('(')(610,611)
                  ParamList(ParamList)(611,665)
                    TermExpression(TermExpression)(611,615)
                      TermExpressionTerm(TermExpressionTerm)(611,615)
                        LiteralTerm(LiteralTerm)(611,615)
                          StringLiteral(StringLiteral)(611,615)
                            PsiElement(STRING)(''no'')(611,615)
                    PsiElement(',')(',')(615,616)
                    PsiWhiteSpace(' ')(616,617)
                    TermExpression(TermExpression)(617,665)
                      TermExpressionTerm(TermExpressionTerm)(617,665)
                        LiteralTerm(LiteralTerm)(617,665)
                          StringLiteral(StringLiteral)(617,665)
                            PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(617,665)
                  PsiElement(')')(')')(665,666)
    PsiWhiteSpace('\n\n')(666,668)
    Statement(Statement)(668,1015)
      FunctionDefinition(FunctionDefinition)(668,1015)
        PsiElement('define')('define')(668,674)
        PsiWhiteSpace(' ')(674,675)
        PsiElement('function')('function')(675,683)
        PsiWhiteSpace(' ')(683,684)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(684,700)
          Identifier(Identifier)(684,700)
            PsiElement(IDENTIFIER)('assesObservation')(684,700)
        PsiElement('(')('(')(700,701)
        OperandDefinition(OperandDefinition)(701,716)
          ReferentialIdentifier(ReferentialIdentifier)(701,704)
            Identifier(Identifier)(701,704)
              PsiElement(IDENTIFIER)('Obs')(701,704)
          PsiWhiteSpace(' ')(704,705)
          TypeSpecifier(TypeSpecifier)(705,716)
            NamedTypeSpecifier(NamedTypeSpecifier)(705,716)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(705,716)
                ReferentialIdentifier(ReferentialIdentifier)(705,716)
                  Identifier(Identifier)(705,716)
                    PsiElement(IDENTIFIER)('Observation')(705,716)
        PsiElement(')')(')')(716,717)
        PsiElement(':')(':')(717,718)
        PsiWhiteSpace('\n  ')(718,721)
        FunctionBody(FunctionBody)(721,1015)
          TermExpression(TermExpression)(721,1015)
            CaseExpressionTerm(CaseExpressionTerm)(721,1015)
              PsiElement('case')('case')(721,725)
              PsiWhiteSpace('\n      ')(725,732)
              CaseExpressionItem(CaseExpressionItem)(732,758)
                PsiElement('when')('when')(732,736)
                PsiWhiteSpace('  ')(736,738)
                EqualityExpression(EqualityExpression)(738,748)
                  TermExpression(TermExpression)(738,741)
                    TermExpressionTerm(TermExpressionTerm)(738,741)
                      InvocationTerm(InvocationTerm)(738,741)
                        MemberInvocation(MemberInvocation)(738,741)
                          ReferentialIdentifier(ReferentialIdentifier)(738,741)
                            Identifier(Identifier)(738,741)
                              PsiElement(IDENTIFIER)('Obs')(738,741)
                  PsiWhiteSpace(' ')(741,742)
                  PsiElement('=')('=')(742,743)
                  PsiWhiteSpace(' ')(743,744)
                  TermExpression(TermExpression)(744,748)
                    TermExpressionTerm(TermExpressionTerm)(744,748)
                      LiteralTerm(LiteralTerm)(744,748)
                        NullLiteral(NullLiteral)(744,748)
                          PsiElement('null')('null')(744,748)
                PsiWhiteSpace(' ')(748,749)
                PsiElement('then')('then')(749,753)
                PsiWhiteSpace(' ')(753,754)
                TermExpression(TermExpression)(754,758)
                  TermExpressionTerm(TermExpressionTerm)(754,758)
                    LiteralTerm(LiteralTerm)(754,758)
                      NullLiteral(NullLiteral)(754,758)
                        PsiElement('null')('null')(754,758)
              PsiWhiteSpace('\n      ')(758,765)
              CaseExpressionItem(CaseExpressionItem)(765,809)
                PsiElement('when')('when')(765,769)
                PsiWhiteSpace('  ')(769,771)
                MembershipExpression(MembershipExpression)(771,799)
                  TermExpression(TermExpression)(771,781)
                    InvocationExpressionTerm(InvocationExpressionTerm)(771,781)
                      TermExpressionTerm(TermExpressionTerm)(771,774)
                        InvocationTerm(InvocationTerm)(771,774)
                          MemberInvocation(MemberInvocation)(771,774)
                            ReferentialIdentifier(ReferentialIdentifier)(771,774)
                              Identifier(Identifier)(771,774)
                                PsiElement(IDENTIFIER)('Obs')(771,774)
                      PsiElement('.')('.')(774,775)
                      QualifiedMemberInvocation(QualifiedMemberInvocation)(775,781)
                        ReferentialIdentifier(ReferentialIdentifier)(775,781)
                          Identifier(Identifier)(775,781)
                            PsiElement(IDENTIFIER)('status')(775,781)
                  PsiWhiteSpace(' ')(781,782)
                  PsiElement('in')('in')(782,784)
                  PsiWhiteSpace('  ')(784,786)
                  TermExpression(TermExpression)(786,799)
                    TermExpressionTerm(TermExpressionTerm)(786,799)
                      ListSelectorTerm(ListSelectorTerm)(786,799)
                        ListSelector(ListSelector)(786,799)
                          PsiElement('{')('{')(786,787)
                          TermExpression(TermExpression)(787,798)
                            TermExpressionTerm(TermExpressionTerm)(787,798)
                              LiteralTerm(LiteralTerm)(787,798)
                                StringLiteral(StringLiteral)(787,798)
                                  PsiElement(STRING)(''cancelled'')(787,798)
                          PsiElement('}')('}')(798,799)
                PsiWhiteSpace(' ')(799,800)
                PsiElement('then')('then')(800,804)
                PsiWhiteSpace(' ')(804,805)
                TermExpression(TermExpression)(805,809)
                  TermExpressionTerm(TermExpressionTerm)(805,809)
                    InvocationTerm(InvocationTerm)(805,809)
                      MemberInvocation(MemberInvocation)(805,809)
                        ReferentialIdentifier(ReferentialIdentifier)(805,809)
                          Identifier(Identifier)(805,809)
                            PsiElement(QUOTEDIDENTIFIER)('"No"')(805,809)
              PsiWhiteSpace('\n      ')(809,816)
              CaseExpressionItem(CaseExpressionItem)(816,850)
                PsiElement('when')('when')(816,820)
                PsiWhiteSpace(' ')(820,821)
                BooleanExpression(BooleanExpression)(821,838)
                  TermExpression(TermExpression)(821,830)
                    InvocationExpressionTerm(InvocationExpressionTerm)(821,830)
                      TermExpressionTerm(TermExpressionTerm)(821,824)
                        InvocationTerm(InvocationTerm)(821,824)
                          MemberInvocation(MemberInvocation)(821,824)
                            ReferentialIdentifier(ReferentialIdentifier)(821,824)
                              Identifier(Identifier)(821,824)
                                PsiElement(IDENTIFIER)('Obs')(821,824)
                      PsiElement('.')('.')(824,825)
                      QualifiedMemberInvocation(QualifiedMemberInvocation)(825,830)
                        ReferentialIdentifier(ReferentialIdentifier)(825,830)
                          Identifier(Identifier)(825,830)
                            PsiElement(IDENTIFIER)('value')(825,830)
                  PsiWhiteSpace(' ')(830,831)
                  PsiElement('is')('is')(831,833)
                  PsiWhiteSpace(' ')(833,834)
                  PsiElement('null')('null')(834,838)
                PsiWhiteSpace(' ')(838,839)
                PsiElement('then')('then')(839,843)
                PsiWhiteSpace('  ')(843,845)
                TermExpression(TermExpression)(845,850)
                  TermExpressionTerm(TermExpressionTerm)(845,850)
                    InvocationTerm(InvocationTerm)(845,850)
                      MemberInvocation(MemberInvocation)(845,850)
                        ReferentialIdentifier(ReferentialIdentifier)(845,850)
                          Identifier(Identifier)(845,850)
                            PsiElement(QUOTEDIDENTIFIER)('"Yes"')(845,850)
              PsiWhiteSpace('\n      ')(850,857)
              CaseExpressionItem(CaseExpressionItem)(857,919)
                PsiElement('when')('when')(857,861)
                PsiWhiteSpace(' ')(861,862)
                AndExpression(AndExpression)(862,908)
                  TypeExpression(TypeExpression)(862,887)
                    TermExpression(TermExpression)(862,871)
                      InvocationExpressionTerm(InvocationExpressionTerm)(862,871)
                        TermExpressionTerm(TermExpressionTerm)(862,865)
                          InvocationTerm(InvocationTerm)(862,865)
                            MemberInvocation(MemberInvocation)(862,865)
                              ReferentialIdentifier(ReferentialIdentifier)(862,865)
                                Identifier(Identifier)(862,865)
                                  PsiElement(IDENTIFIER)('Obs')(862,865)
                        PsiElement('.')('.')(865,866)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(866,871)
                          ReferentialIdentifier(ReferentialIdentifier)(866,871)
                            Identifier(Identifier)(866,871)
                              PsiElement(IDENTIFIER)('value')(866,871)
                    PsiWhiteSpace(' ')(871,872)
                    PsiElement('is')('is')(872,874)
                    PsiWhiteSpace(' ')(874,875)
                    TypeSpecifier(TypeSpecifier)(875,887)
                      NamedTypeSpecifier(NamedTypeSpecifier)(875,887)
                        Qualifier(Qualifier)(875,879)
                          Identifier(Identifier)(875,879)
                            PsiElement(IDENTIFIER)('FHIR')(875,879)
                        PsiElement('.')('.')(879,880)
                        ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(880,887)
                          ReferentialIdentifier(ReferentialIdentifier)(880,887)
                            Identifier(Identifier)(880,887)
                              PsiElement(IDENTIFIER)('boolean')(880,887)
                  PsiWhiteSpace(' ')(887,888)
                  PsiElement('and')('and')(888,891)
                  PsiWhiteSpace(' ')(891,892)
                  EqualityExpression(EqualityExpression)(892,908)
                    TermExpression(TermExpression)(892,901)
                      InvocationExpressionTerm(InvocationExpressionTerm)(892,901)
                        TermExpressionTerm(TermExpressionTerm)(892,895)
                          InvocationTerm(InvocationTerm)(892,895)
                            MemberInvocation(MemberInvocation)(892,895)
                              ReferentialIdentifier(ReferentialIdentifier)(892,895)
                                Identifier(Identifier)(892,895)
                                  PsiElement(IDENTIFIER)('Obs')(892,895)
                        PsiElement('.')('.')(895,896)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(896,901)
                          ReferentialIdentifier(ReferentialIdentifier)(896,901)
                            Identifier(Identifier)(896,901)
                              PsiElement(IDENTIFIER)('value')(896,901)
                    PsiWhiteSpace(' ')(901,902)
                    PsiElement('=')('=')(902,903)
                    PsiWhiteSpace(' ')(903,904)
                    TermExpression(TermExpression)(904,908)
                      TermExpressionTerm(TermExpressionTerm)(904,908)
                        LiteralTerm(LiteralTerm)(904,908)
                          BooleanLiteral(BooleanLiteral)(904,908)
                            PsiElement('true')('true')(904,908)
                PsiWhiteSpace(' ')(908,909)
                PsiElement('then')('then')(909,913)
                PsiWhiteSpace(' ')(913,914)
                TermExpression(TermExpression)(914,919)
                  TermExpressionTerm(TermExpressionTerm)(914,919)
                    InvocationTerm(InvocationTerm)(914,919)
                      MemberInvocation(MemberInvocation)(914,919)
                        ReferentialIdentifier(ReferentialIdentifier)(914,919)
                          Identifier(Identifier)(914,919)
                            PsiElement(QUOTEDIDENTIFIER)('"Yes"')(914,919)
              PsiWhiteSpace('\n      ')(919,926)
              CaseExpressionItem(CaseExpressionItem)(926,988)
                PsiElement('when')('when')(926,930)
                PsiWhiteSpace(' ')(930,931)
                AndExpression(AndExpression)(931,978)
                  TypeExpression(TypeExpression)(931,956)
                    TermExpression(TermExpression)(931,940)
                      InvocationExpressionTerm(InvocationExpressionTerm)(931,940)
                        TermExpressionTerm(TermExpressionTerm)(931,934)
                          InvocationTerm(InvocationTerm)(931,934)
                            MemberInvocation(MemberInvocation)(931,934)
                              ReferentialIdentifier(ReferentialIdentifier)(931,934)
                                Identifier(Identifier)(931,934)
                                  PsiElement(IDENTIFIER)('Obs')(931,934)
                        PsiElement('.')('.')(934,935)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(935,940)
                          ReferentialIdentifier(ReferentialIdentifier)(935,940)
                            Identifier(Identifier)(935,940)
                              PsiElement(IDENTIFIER)('value')(935,940)
                    PsiWhiteSpace(' ')(940,941)
                    PsiElement('is')('is')(941,943)
                    PsiWhiteSpace(' ')(943,944)
                    TypeSpecifier(TypeSpecifier)(944,956)
                      NamedTypeSpecifier(NamedTypeSpecifier)(944,956)
                        Qualifier(Qualifier)(944,948)
                          Identifier(Identifier)(944,948)
                            PsiElement(IDENTIFIER)('FHIR')(944,948)
                        PsiElement('.')('.')(948,949)
                        ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(949,956)
                          ReferentialIdentifier(ReferentialIdentifier)(949,956)
                            Identifier(Identifier)(949,956)
                              PsiElement(IDENTIFIER)('boolean')(949,956)
                  PsiWhiteSpace(' ')(956,957)
                  PsiElement('and')('and')(957,960)
                  PsiWhiteSpace(' ')(960,961)
                  EqualityExpression(EqualityExpression)(961,978)
                    TermExpression(TermExpression)(961,970)
                      InvocationExpressionTerm(InvocationExpressionTerm)(961,970)
                        TermExpressionTerm(TermExpressionTerm)(961,964)
                          InvocationTerm(InvocationTerm)(961,964)
                            MemberInvocation(MemberInvocation)(961,964)
                              ReferentialIdentifier(ReferentialIdentifier)(961,964)
                                Identifier(Identifier)(961,964)
                                  PsiElement(IDENTIFIER)('Obs')(961,964)
                        PsiElement('.')('.')(964,965)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(965,970)
                          ReferentialIdentifier(ReferentialIdentifier)(965,970)
                            Identifier(Identifier)(965,970)
                              PsiElement(IDENTIFIER)('value')(965,970)
                    PsiWhiteSpace(' ')(970,971)
                    PsiElement('=')('=')(971,972)
                    PsiWhiteSpace(' ')(972,973)
                    TermExpression(TermExpression)(973,978)
                      TermExpressionTerm(TermExpressionTerm)(973,978)
                        LiteralTerm(LiteralTerm)(973,978)
                          BooleanLiteral(BooleanLiteral)(973,978)
                            PsiElement('false')('false')(973,978)
                PsiWhiteSpace(' ')(978,979)
                PsiElement('then')('then')(979,983)
                PsiWhiteSpace(' ')(983,984)
                TermExpression(TermExpression)(984,988)
                  TermExpressionTerm(TermExpressionTerm)(984,988)
                    InvocationTerm(InvocationTerm)(984,988)
                      MemberInvocation(MemberInvocation)(984,988)
                        ReferentialIdentifier(ReferentialIdentifier)(984,988)
                          Identifier(Identifier)(984,988)
                            PsiElement(QUOTEDIDENTIFIER)('"No"')(984,988)
              PsiWhiteSpace('\n      ')(988,995)
              PsiElement('else')('else')(995,999)
              PsiWhiteSpace(' ')(999,1000)
              TermExpression(TermExpression)(1000,1009)
                InvocationExpressionTerm(InvocationExpressionTerm)(1000,1009)
                  TermExpressionTerm(TermExpressionTerm)(1000,1003)
                    InvocationTerm(InvocationTerm)(1000,1003)
                      MemberInvocation(MemberInvocation)(1000,1003)
                        ReferentialIdentifier(ReferentialIdentifier)(1000,1003)
                          Identifier(Identifier)(1000,1003)
                            PsiElement(IDENTIFIER)('Obs')(1000,1003)
                  PsiElement('.')('.')(1003,1004)
                  QualifiedMemberInvocation(QualifiedMemberInvocation)(1004,1009)
                    ReferentialIdentifier(ReferentialIdentifier)(1004,1009)
                      Identifier(Identifier)(1004,1009)
                        PsiElement(IDENTIFIER)('value')(1004,1009)
              PsiWhiteSpace('\n  ')(1009,1012)
              PsiElement('end')('end')(1012,1015)
    PsiWhiteSpace('\n\n')(1015,1017)
    Statement(Statement)(1017,1311)
      FunctionDefinition(FunctionDefinition)(1017,1311)
        PsiElement('define')('define')(1017,1023)
        PsiWhiteSpace(' ')(1023,1024)
        PsiElement('function')('function')(1024,1032)
        PsiWhiteSpace(' ')(1032,1033)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1033,1062)
          Identifier(Identifier)(1033,1062)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(1033,1062)
        PsiElement('(')('(')(1062,1063)
        OperandDefinition(OperandDefinition)(1063,1080)
          ReferentialIdentifier(ReferentialIdentifier)(1063,1069)
            Identifier(Identifier)(1063,1069)
              PsiElement(IDENTIFIER)('idlist')(1063,1069)
          PsiWhiteSpace(' ')(1069,1070)
          TypeSpecifier(TypeSpecifier)(1070,1080)
            ListTypeSpecifier(ListTypeSpecifier)(1070,1080)
              PsiElement('List')('List')(1070,1074)
              PsiElement('<')('<')(1074,1075)
              TypeSpecifier(TypeSpecifier)(1075,1079)
                NamedTypeSpecifier(NamedTypeSpecifier)(1075,1079)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1075,1079)
                    ReferentialIdentifier(ReferentialIdentifier)(1075,1079)
                      KeywordIdentifier(KeywordIdentifier)(1075,1079)
                        PsiElement('code')('code')(1075,1079)
              PsiElement('>')('>')(1079,1080)
        PsiElement(',')(',')(1080,1081)
        PsiWhiteSpace(' ')(1081,1082)
        OperandDefinition(OperandDefinition)(1082,1101)
          ReferentialIdentifier(ReferentialIdentifier)(1082,1092)
            KeywordIdentifier(KeywordIdentifier)(1082,1092)
              PsiElement('codesystem')('codesystem')(1082,1092)
          PsiWhiteSpace(' ')(1092,1093)
          TypeSpecifier(TypeSpecifier)(1093,1101)
            NamedTypeSpecifier(NamedTypeSpecifier)(1093,1101)
              Qualifier(Qualifier)(1093,1097)
                Identifier(Identifier)(1093,1097)
                  PsiElement(IDENTIFIER)('FHIR')(1093,1097)
              PsiElement('.')('.')(1097,1098)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1098,1101)
                ReferentialIdentifier(ReferentialIdentifier)(1098,1101)
                  Identifier(Identifier)(1098,1101)
                    PsiElement(IDENTIFIER)('url')(1098,1101)
        PsiElement(')')(')')(1101,1102)
        PsiElement(':')(':')(1102,1103)
        PsiWhiteSpace('\n  ')(1103,1106)
        FunctionBody(FunctionBody)(1106,1311)
          TermExpression(TermExpression)(1106,1311)
            IfThenElseExpressionTerm(IfThenElseExpressionTerm)(1106,1311)
              PsiElement('if')('if')(1106,1108)
              PsiWhiteSpace(' ')(1108,1109)
              BooleanExpression(BooleanExpression)(1109,1171)
                TermExpression(TermExpression)(1109,1163)
                  TermExpressionTerm(TermExpressionTerm)(1109,1163)
                    InvocationTerm(InvocationTerm)(1109,1163)
                      FunctionInvocation(FunctionInvocation)(1109,1163)
                        Function(Function)(1109,1163)
                          ReferentialIdentifier(ReferentialIdentifier)(1109,1142)
                            Identifier(Identifier)(1109,1142)
                              PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1109,1142)
                          PsiElement('(')('(')(1142,1143)
                          ParamList(ParamList)(1143,1162)
                            TermExpression(TermExpression)(1143,1149)
                              TermExpressionTerm(TermExpressionTerm)(1143,1149)
                                InvocationTerm(InvocationTerm)(1143,1149)
                                  MemberInvocation(MemberInvocation)(1143,1149)
                                    ReferentialIdentifier(ReferentialIdentifier)(1143,1149)
                                      Identifier(Identifier)(1143,1149)
                                        PsiElement(IDENTIFIER)('idlist')(1143,1149)
                            PsiWhiteSpace(' ')(1149,1150)
                            PsiElement(',')(',')(1150,1151)
                            PsiWhiteSpace(' ')(1151,1152)
                            TermExpression(TermExpression)(1152,1162)
                              TermExpressionTerm(TermExpressionTerm)(1152,1162)
                                InvocationTerm(InvocationTerm)(1152,1162)
                                  MemberInvocation(MemberInvocation)(1152,1162)
                                    ReferentialIdentifier(ReferentialIdentifier)(1152,1162)
                                      KeywordIdentifier(KeywordIdentifier)(1152,1162)
                                        PsiElement('codesystem')('codesystem')(1152,1162)
                          PsiElement(')')(')')(1162,1163)
                PsiWhiteSpace(' ')(1163,1164)
                PsiElement('is')('is')(1164,1166)
                PsiWhiteSpace(' ')(1166,1167)
                PsiElement('null')('null')(1167,1171)
              PsiWhiteSpace(' ')(1171,1172)
              PsiElement('then')('then')(1172,1176)
              PsiWhiteSpace('\n      ')(1176,1183)
              TermExpression(TermExpression)(1183,1239)
                TermExpressionTerm(TermExpressionTerm)(1183,1239)
                  InvocationTerm(InvocationTerm)(1183,1239)
                    FunctionInvocation(FunctionInvocation)(1183,1239)
                      Function(Function)(1183,1239)
                        ReferentialIdentifier(ReferentialIdentifier)(1183,1216)
                          Identifier(Identifier)(1183,1216)
                            PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1183,1216)
                        PsiElement('(')('(')(1216,1217)
                        ParamList(ParamList)(1217,1236)
                          TermExpression(TermExpression)(1217,1223)
                            TermExpressionTerm(TermExpressionTerm)(1217,1223)
                              InvocationTerm(InvocationTerm)(1217,1223)
                                MemberInvocation(MemberInvocation)(1217,1223)
                                  ReferentialIdentifier(ReferentialIdentifier)(1217,1223)
                                    Identifier(Identifier)(1217,1223)
                                      PsiElement(IDENTIFIER)('idlist')(1217,1223)
                          PsiWhiteSpace(' ')(1223,1224)
                          PsiElement(',')(',')(1224,1225)
                          PsiWhiteSpace(' ')(1225,1226)
                          TermExpression(TermExpression)(1226,1236)
                            TermExpressionTerm(TermExpressionTerm)(1226,1236)
                              InvocationTerm(InvocationTerm)(1226,1236)
                                MemberInvocation(MemberInvocation)(1226,1236)
                                  ReferentialIdentifier(ReferentialIdentifier)(1226,1236)
                                    KeywordIdentifier(KeywordIdentifier)(1226,1236)
                                      PsiElement('codesystem')('codesystem')(1226,1236)
                        PsiWhiteSpace('  ')(1236,1238)
                        PsiElement(')')(')')(1238,1239)
              PsiWhiteSpace('\n  ')(1239,1242)
              PsiElement('else')('else')(1242,1246)
              PsiWhiteSpace('\n    ')(1246,1251)
              TermExpression(TermExpression)(1251,1311)
                TermExpressionTerm(TermExpressionTerm)(1251,1311)
                  InvocationTerm(InvocationTerm)(1251,1311)
                    FunctionInvocation(FunctionInvocation)(1251,1311)
                      Function(Function)(1251,1311)
                        ReferentialIdentifier(ReferentialIdentifier)(1251,1288)
                          Identifier(Identifier)(1251,1288)
                            PsiElement(IDENTIFIER)('GetObservationDuringEncounterNotFound')(1251,1288)
                        PsiElement('(')('(')(1288,1289)
                        ParamList(ParamList)(1289,1308)
                          TermExpression(TermExpression)(1289,1295)
                            TermExpressionTerm(TermExpressionTerm)(1289,1295)
                              InvocationTerm(InvocationTerm)(1289,1295)
                                MemberInvocation(MemberInvocation)(1289,1295)
                                  ReferentialIdentifier(ReferentialIdentifier)(1289,1295)
                                    Identifier(Identifier)(1289,1295)
                                      PsiElement(IDENTIFIER)('idlist')(1289,1295)
                          PsiWhiteSpace(' ')(1295,1296)
                          PsiElement(',')(',')(1296,1297)
                          PsiWhiteSpace(' ')(1297,1298)
                          TermExpression(TermExpression)(1298,1308)
                            TermExpressionTerm(TermExpressionTerm)(1298,1308)
                              InvocationTerm(InvocationTerm)(1298,1308)
                                MemberInvocation(MemberInvocation)(1298,1308)
                                  ReferentialIdentifier(ReferentialIdentifier)(1298,1308)
                                    KeywordIdentifier(KeywordIdentifier)(1298,1308)
                                      PsiElement('codesystem')('codesystem')(1298,1308)
                        PsiWhiteSpace('  ')(1308,1310)
                        PsiElement(')')(')')(1310,1311)
    PsiWhiteSpace('\n\n\n')(1311,1314)
    Statement(Statement)(1314,1654)
      FunctionDefinition(FunctionDefinition)(1314,1654)
        PsiElement('define')('define')(1314,1320)
        PsiWhiteSpace(' ')(1320,1321)
        PsiElement('function')('function')(1321,1329)
        PsiWhiteSpace(' ')(1329,1330)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1330,1363)
          Identifier(Identifier)(1330,1363)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1330,1363)
        PsiElement('(')('(')(1363,1364)
        OperandDefinition(OperandDefinition)(1364,1381)
          ReferentialIdentifier(ReferentialIdentifier)(1364,1370)
            Identifier(Identifier)(1364,1370)
              PsiElement(IDENTIFIER)('idlist')(1364,1370)
          PsiWhiteSpace(' ')(1370,1371)
          TypeSpecifier(TypeSpecifier)(1371,1381)
            ListTypeSpecifier(ListTypeSpecifier)(1371,1381)
              PsiElement('List')('List')(1371,1375)
              PsiElement('<')('<')(1375,1376)
              TypeSpecifier(TypeSpecifier)(1376,1380)
                NamedTypeSpecifier(NamedTypeSpecifier)(1376,1380)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1376,1380)
                    ReferentialIdentifier(ReferentialIdentifier)(1376,1380)
                      KeywordIdentifier(KeywordIdentifier)(1376,1380)
                        PsiElement('code')('code')(1376,1380)
              PsiElement('>')('>')(1380,1381)
        PsiElement(',')(',')(1381,1382)
        PsiWhiteSpace(' ')(1382,1383)
        OperandDefinition(OperandDefinition)(1383,1402)
          ReferentialIdentifier(ReferentialIdentifier)(1383,1393)
            KeywordIdentifier(KeywordIdentifier)(1383,1393)
              PsiElement('codesystem')('codesystem')(1383,1393)
          PsiWhiteSpace(' ')(1393,1394)
          TypeSpecifier(TypeSpecifier)(1394,1402)
            NamedTypeSpecifier(NamedTypeSpecifier)(1394,1402)
              Qualifier(Qualifier)(1394,1398)
                Identifier(Identifier)(1394,1398)
                  PsiElement(IDENTIFIER)('FHIR')(1394,1398)
              PsiElement('.')('.')(1398,1399)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1399,1402)
                ReferentialIdentifier(ReferentialIdentifier)(1399,1402)
                  Identifier(Identifier)(1399,1402)
                    PsiElement(IDENTIFIER)('url')(1399,1402)
        PsiElement(')')(')')(1402,1403)
        PsiElement(':')(':')(1403,1404)
        PsiWhiteSpace('\n      ')(1404,1411)
        FunctionBody(FunctionBody)(1411,1654)
          TermExpression(TermExpression)(1411,1654)
            TermExpressionTerm(TermExpressionTerm)(1411,1654)
              InvocationTerm(InvocationTerm)(1411,1654)
                FunctionInvocation(FunctionInvocation)(1411,1654)
                  Function(Function)(1411,1654)
                    ReferentialIdentifier(ReferentialIdentifier)(1411,1415)
                      Identifier(Identifier)(1411,1415)
                        PsiElement(IDENTIFIER)('Last')(1411,1415)
                    PsiElement('(')('(')(1415,1416)
                    ParamList(ParamList)(1416,1653)
                      QueryExpression(QueryExpression)(1416,1653)
                        Query(Query)(1416,1653)
                          SourceClause(SourceClause)(1416,1432)
                            AliasedQuerySource(AliasedQuerySource)(1416,1432)
                              QuerySource(QuerySource)(1416,1430)
                                Retrieve(Retrieve)(1416,1430)
                                  PsiElement('[')('[')(1416,1417)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(1417,1428)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1417,1428)
                                      ReferentialIdentifier(ReferentialIdentifier)(1417,1428)
                                        Identifier(Identifier)(1417,1428)
                                          PsiElement(IDENTIFIER)('Observation')(1417,1428)
                                  PsiWhiteSpace(' ')(1428,1429)
                                  PsiElement(']')(']')(1429,1430)
                              PsiWhiteSpace(' ')(1430,1431)
                              Alias(Alias)(1431,1432)
                                Identifier(Identifier)(1431,1432)
                                  PsiElement(IDENTIFIER)('O')(1431,1432)
                          PsiWhiteSpace('\n        ')(1432,1441)
                          WhereClause(WhereClause)(1441,1653)
                            PsiElement('where')('where')(1441,1446)
                            PsiWhiteSpace(' ')(1446,1447)
                            AndExpression(AndExpression)(1447,1653)
                              AndExpression(AndExpression)(1447,1560)
                                EqualityExpression(EqualityExpression)(1447,1501)
                                  TermExpression(TermExpression)(1447,1486)
                                    TermExpressionTerm(TermExpressionTerm)(1447,1486)
                                      InvocationTerm(InvocationTerm)(1447,1486)
                                        FunctionInvocation(FunctionInvocation)(1447,1486)
                                          Function(Function)(1447,1486)
                                            ReferentialIdentifier(ReferentialIdentifier)(1447,1451)
                                              Identifier(Identifier)(1447,1451)
                                                PsiElement(IDENTIFIER)('Last')(1447,1451)
                                            PsiElement('(')('(')(1451,1452)
                                            ParamList(ParamList)(1452,1485)
                                              TermExpression(TermExpression)(1452,1485)
                                                TermExpressionTerm(TermExpressionTerm)(1452,1485)
                                                  InvocationTerm(InvocationTerm)(1452,1485)
                                                    FunctionInvocation(FunctionInvocation)(1452,1485)
                                                      Function(Function)(1452,1485)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1452,1457)
                                                          Identifier(Identifier)(1452,1457)
                                                            PsiElement(IDENTIFIER)('Split')(1452,1457)
                                                        PsiElement('(')('(')(1457,1458)
                                                        ParamList(ParamList)(1458,1484)
                                                          TermExpression(TermExpression)(1458,1479)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(1458,1479)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(1458,1469)
                                                                TermExpressionTerm(TermExpressionTerm)(1458,1459)
                                                                  InvocationTerm(InvocationTerm)(1458,1459)
                                                                    MemberInvocation(MemberInvocation)(1458,1459)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(1458,1459)
                                                                        Identifier(Identifier)(1458,1459)
                                                                          PsiElement(IDENTIFIER)('O')(1458,1459)
                                                                PsiElement('.')('.')(1459,1460)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(1460,1469)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(1460,1469)
                                                                    Identifier(Identifier)(1460,1469)
                                                                      PsiElement(IDENTIFIER)('encounter')(1460,1469)
                                                              PsiElement('.')('.')(1469,1470)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(1470,1479)
                                                                ReferentialIdentifier(ReferentialIdentifier)(1470,1479)
                                                                  Identifier(Identifier)(1470,1479)
                                                                    PsiElement(IDENTIFIER)('reference')(1470,1479)
                                                          PsiElement(',')(',')(1479,1480)
                                                          PsiWhiteSpace(' ')(1480,1481)
                                                          TermExpression(TermExpression)(1481,1484)
                                                            TermExpressionTerm(TermExpressionTerm)(1481,1484)
                                                              LiteralTerm(LiteralTerm)(1481,1484)
                                                                StringLiteral(StringLiteral)(1481,1484)
                                                                  PsiElement(STRING)(''/'')(1481,1484)
                                                        PsiElement(')')(')')(1484,1485)
                                            PsiElement(')')(')')(1485,1486)
                                  PsiWhiteSpace(' ')(1486,1487)
                                  PsiElement('=')('=')(1487,1488)
                                  PsiWhiteSpace(' ')(1488,1489)
                                  TermExpression(TermExpression)(1489,1501)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1489,1501)
                                      TermExpressionTerm(TermExpressionTerm)(1489,1498)
                                        InvocationTerm(InvocationTerm)(1489,1498)
                                          MemberInvocation(MemberInvocation)(1489,1498)
                                            ReferentialIdentifier(ReferentialIdentifier)(1489,1498)
                                              Identifier(Identifier)(1489,1498)
                                                PsiElement(IDENTIFIER)('Encounter')(1489,1498)
                                      PsiElement('.')('.')(1498,1499)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1499,1501)
                                        ReferentialIdentifier(ReferentialIdentifier)(1499,1501)
                                          Identifier(Identifier)(1499,1501)
                                            PsiElement(IDENTIFIER)('id')(1499,1501)
                                PsiWhiteSpace('\n        ')(1501,1510)
                                PsiElement('and')('and')(1510,1513)
                                PsiWhiteSpace(' ')(1513,1514)
                                MembershipExpression(MembershipExpression)(1514,1560)
                                  TermExpression(TermExpression)(1514,1522)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1514,1522)
                                      TermExpressionTerm(TermExpressionTerm)(1514,1515)
                                        InvocationTerm(InvocationTerm)(1514,1515)
                                          MemberInvocation(MemberInvocation)(1514,1515)
                                            ReferentialIdentifier(ReferentialIdentifier)(1514,1515)
                                              Identifier(Identifier)(1514,1515)
                                                PsiElement(IDENTIFIER)('O')(1514,1515)
                                      PsiElement('.')('.')(1515,1516)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1516,1522)
                                        ReferentialIdentifier(ReferentialIdentifier)(1516,1522)
                                          Identifier(Identifier)(1516,1522)
                                            PsiElement(IDENTIFIER)('status')(1516,1522)
                                  PsiWhiteSpace(' ')(1522,1523)
                                  PsiElement('in')('in')(1523,1525)
                                  PsiWhiteSpace(' ')(1525,1526)
                                  TermExpression(TermExpression)(1526,1560)
                                    TermExpressionTerm(TermExpressionTerm)(1526,1560)
                                      ListSelectorTerm(ListSelectorTerm)(1526,1560)
                                        ListSelector(ListSelector)(1526,1560)
                                          PsiElement('{')('{')(1526,1527)
                                          PsiWhiteSpace(' ')(1527,1528)
                                          TermExpression(TermExpression)(1528,1535)
                                            TermExpressionTerm(TermExpressionTerm)(1528,1535)
                                              LiteralTerm(LiteralTerm)(1528,1535)
                                                StringLiteral(StringLiteral)(1528,1535)
                                                  PsiElement(STRING)(''final'')(1528,1535)
                                          PsiElement(',')(',')(1535,1536)
                                          PsiWhiteSpace(' ')(1536,1537)
                                          TermExpression(TermExpression)(1537,1546)
                                            TermExpressionTerm(TermExpressionTerm)(1537,1546)
                                              LiteralTerm(LiteralTerm)(1537,1546)
                                                StringLiteral(StringLiteral)(1537,1546)
                                                  PsiElement(STRING)(''amended'')(1537,1546)
                                          PsiElement(',')(',')(1546,1547)
                                          PsiWhiteSpace(' ')(1547,1548)
                                          TermExpression(TermExpression)(1548,1559)
                                            TermExpressionTerm(TermExpressionTerm)(1548,1559)
                                              LiteralTerm(LiteralTerm)(1548,1559)
                                                StringLiteral(StringLiteral)(1548,1559)
                                                  PsiElement(STRING)(''corrected'')(1548,1559)
                                          PsiElement('}')('}')(1559,1560)
                              PsiWhiteSpace('\n        ')(1560,1569)
                              PsiElement('and')('and')(1569,1572)
                              PsiWhiteSpace(' ')(1572,1573)
                              ExistenceExpression(ExistenceExpression)(1573,1653)
                                PsiElement('exists')('exists')(1573,1579)
                                TermExpression(TermExpression)(1579,1653)
                                  TermExpressionTerm(TermExpressionTerm)(1579,1653)
                                    ParenthesizedTerm(ParenthesizedTerm)(1579,1653)
                                      PsiElement('(')('(')(1579,1580)
                                      QueryExpression(QueryExpression)(1580,1652)
                                        Query(Query)(1580,1652)
                                          SourceClause(SourceClause)(1580,1595)
                                            AliasedQuerySource(AliasedQuerySource)(1580,1595)
                                              QuerySource(QuerySource)(1580,1593)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(1580,1593)
                                                  QualifierExpression(QualifierExpression)(1580,1581)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1580,1581)
                                                      Identifier(Identifier)(1580,1581)
                                                        PsiElement(IDENTIFIER)('O')(1580,1581)
                                                  PsiElement('.')('.')(1581,1582)
                                                  QualifierExpression(QualifierExpression)(1582,1586)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1582,1586)
                                                      KeywordIdentifier(KeywordIdentifier)(1582,1586)
                                                        PsiElement('code')('code')(1582,1586)
                                                  PsiElement('.')('.')(1586,1587)
                                                  ReferentialIdentifier(ReferentialIdentifier)(1587,1593)
                                                    Identifier(Identifier)(1587,1593)
                                                      PsiElement(IDENTIFIER)('coding')(1587,1593)
                                              PsiWhiteSpace(' ')(1593,1594)
                                              Alias(Alias)(1594,1595)
                                                Identifier(Identifier)(1594,1595)
                                                  PsiElement(IDENTIFIER)('C')(1594,1595)
                                          PsiWhiteSpace(' ')(1595,1596)
                                          WhereClause(WhereClause)(1596,1652)
                                            PsiElement('where')('where')(1596,1601)
                                            PsiWhiteSpace(' ')(1601,1602)
                                            AndExpression(AndExpression)(1602,1652)
                                              MembershipExpression(MembershipExpression)(1602,1618)
                                                TermExpression(TermExpression)(1602,1608)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1602,1608)
                                                    TermExpressionTerm(TermExpressionTerm)(1602,1603)
                                                      InvocationTerm(InvocationTerm)(1602,1603)
                                                        MemberInvocation(MemberInvocation)(1602,1603)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1602,1603)
                                                            Identifier(Identifier)(1602,1603)
                                                              PsiElement(IDENTIFIER)('C')(1602,1603)
                                                    PsiElement('.')('.')(1603,1604)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1604,1608)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1604,1608)
                                                        KeywordIdentifier(KeywordIdentifier)(1604,1608)
                                                          PsiElement('code')('code')(1604,1608)
                                                PsiWhiteSpace(' ')(1608,1609)
                                                PsiElement('in')('in')(1609,1611)
                                                PsiWhiteSpace(' ')(1611,1612)
                                                TermExpression(TermExpression)(1612,1618)
                                                  TermExpressionTerm(TermExpressionTerm)(1612,1618)
                                                    InvocationTerm(InvocationTerm)(1612,1618)
                                                      MemberInvocation(MemberInvocation)(1612,1618)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1612,1618)
                                                          Identifier(Identifier)(1612,1618)
                                                            PsiElement(IDENTIFIER)('idlist')(1612,1618)
                                              PsiWhiteSpace('\n        ')(1618,1627)
                                              PsiElement('and')('and')(1627,1630)
                                              PsiWhiteSpace(' ')(1630,1631)
                                              EqualityExpression(EqualityExpression)(1631,1652)
                                                TermExpression(TermExpression)(1631,1639)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1631,1639)
                                                    TermExpressionTerm(TermExpressionTerm)(1631,1632)
                                                      InvocationTerm(InvocationTerm)(1631,1632)
                                                        MemberInvocation(MemberInvocation)(1631,1632)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1631,1632)
                                                            Identifier(Identifier)(1631,1632)
                                                              PsiElement(IDENTIFIER)('C')(1631,1632)
                                                    PsiElement('.')('.')(1632,1633)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1633,1639)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1633,1639)
                                                        Identifier(Identifier)(1633,1639)
                                                          PsiElement(IDENTIFIER)('system')(1633,1639)
                                                PsiWhiteSpace(' ')(1639,1640)
                                                PsiElement('=')('=')(1640,1641)
                                                PsiWhiteSpace(' ')(1641,1642)
                                                TermExpression(TermExpression)(1642,1652)
                                                  TermExpressionTerm(TermExpressionTerm)(1642,1652)
                                                    InvocationTerm(InvocationTerm)(1642,1652)
                                                      MemberInvocation(MemberInvocation)(1642,1652)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1642,1652)
                                                          KeywordIdentifier(KeywordIdentifier)(1642,1652)
                                                            PsiElement('codesystem')('codesystem')(1642,1652)
                                      PsiElement(')')(')')(1652,1653)
                    PsiElement(')')(')')(1653,1654)
    PsiWhiteSpace('\n\n\n')(1654,1657)
    Statement(Statement)(1657,1985)
      FunctionDefinition(FunctionDefinition)(1657,1985)
        PsiElement('define')('define')(1657,1663)
        PsiWhiteSpace(' ')(1663,1664)
        PsiElement('function')('function')(1664,1672)
        PsiWhiteSpace(' ')(1672,1673)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1673,1710)
          Identifier(Identifier)(1673,1710)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounterNotFound')(1673,1710)
        PsiElement('(')('(')(1710,1711)
        OperandDefinition(OperandDefinition)(1711,1728)
          ReferentialIdentifier(ReferentialIdentifier)(1711,1717)
            Identifier(Identifier)(1711,1717)
              PsiElement(IDENTIFIER)('idlist')(1711,1717)
          PsiWhiteSpace(' ')(1717,1718)
          TypeSpecifier(TypeSpecifier)(1718,1728)
            ListTypeSpecifier(ListTypeSpecifier)(1718,1728)
              PsiElement('List')('List')(1718,1722)
              PsiElement('<')('<')(1722,1723)
              TypeSpecifier(TypeSpecifier)(1723,1727)
                NamedTypeSpecifier(NamedTypeSpecifier)(1723,1727)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1723,1727)
                    ReferentialIdentifier(ReferentialIdentifier)(1723,1727)
                      KeywordIdentifier(KeywordIdentifier)(1723,1727)
                        PsiElement('code')('code')(1723,1727)
              PsiElement('>')('>')(1727,1728)
        PsiElement(',')(',')(1728,1729)
        PsiWhiteSpace(' ')(1729,1730)
        OperandDefinition(OperandDefinition)(1730,1749)
          ReferentialIdentifier(ReferentialIdentifier)(1730,1740)
            KeywordIdentifier(KeywordIdentifier)(1730,1740)
              PsiElement('codesystem')('codesystem')(1730,1740)
          PsiWhiteSpace(' ')(1740,1741)
          TypeSpecifier(TypeSpecifier)(1741,1749)
            NamedTypeSpecifier(NamedTypeSpecifier)(1741,1749)
              Qualifier(Qualifier)(1741,1745)
                Identifier(Identifier)(1741,1745)
                  PsiElement(IDENTIFIER)('FHIR')(1741,1745)
              PsiElement('.')('.')(1745,1746)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1746,1749)
                ReferentialIdentifier(ReferentialIdentifier)(1746,1749)
                  Identifier(Identifier)(1746,1749)
                    PsiElement(IDENTIFIER)('url')(1746,1749)
        PsiElement(')')(')')(1749,1750)
        PsiElement(':')(':')(1750,1751)
        PsiWhiteSpace('\n      ')(1751,1758)
        FunctionBody(FunctionBody)(1758,1985)
          TermExpression(TermExpression)(1758,1985)
            TermExpressionTerm(TermExpressionTerm)(1758,1985)
              InvocationTerm(InvocationTerm)(1758,1985)
                FunctionInvocation(FunctionInvocation)(1758,1985)
                  Function(Function)(1758,1985)
                    ReferentialIdentifier(ReferentialIdentifier)(1758,1762)
                      Identifier(Identifier)(1758,1762)
                        PsiElement(IDENTIFIER)('Last')(1758,1762)
                    PsiElement('(')('(')(1762,1763)
                    ParamList(ParamList)(1763,1984)
                      QueryExpression(QueryExpression)(1763,1984)
                        Query(Query)(1763,1984)
                          SourceClause(SourceClause)(1763,1778)
                            AliasedQuerySource(AliasedQuerySource)(1763,1778)
                              QuerySource(QuerySource)(1763,1776)
                                Retrieve(Retrieve)(1763,1776)
                                  PsiElement('[')('[')(1763,1764)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(1764,1775)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1764,1775)
                                      ReferentialIdentifier(ReferentialIdentifier)(1764,1775)
                                        Identifier(Identifier)(1764,1775)
                                          PsiElement(IDENTIFIER)('Observation')(1764,1775)
                                  PsiElement(']')(']')(1775,1776)
                              PsiWhiteSpace(' ')(1776,1777)
                              Alias(Alias)(1777,1778)
                                Identifier(Identifier)(1777,1778)
                                  PsiElement(IDENTIFIER)('O')(1777,1778)
                          PsiWhiteSpace('\n        ')(1778,1787)
                          WhereClause(WhereClause)(1787,1984)
                            PsiElement('where')('where')(1787,1792)
                            PsiWhiteSpace(' ')(1792,1793)
                            AndExpression(AndExpression)(1793,1984)
                              AndExpression(AndExpression)(1793,1887)
                                EqualityExpression(EqualityExpression)(1793,1847)
                                  TermExpression(TermExpression)(1793,1832)
                                    TermExpressionTerm(TermExpressionTerm)(1793,1832)
                                      InvocationTerm(InvocationTerm)(1793,1832)
                                        FunctionInvocation(FunctionInvocation)(1793,1832)
                                          Function(Function)(1793,1832)
                                            ReferentialIdentifier(ReferentialIdentifier)(1793,1797)
                                              Identifier(Identifier)(1793,1797)
                                                PsiElement(IDENTIFIER)('Last')(1793,1797)
                                            PsiElement('(')('(')(1797,1798)
                                            ParamList(ParamList)(1798,1831)
                                              TermExpression(TermExpression)(1798,1831)
                                                TermExpressionTerm(TermExpressionTerm)(1798,1831)
                                                  InvocationTerm(InvocationTerm)(1798,1831)
                                                    FunctionInvocation(FunctionInvocation)(1798,1831)
                                                      Function(Function)(1798,1831)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1798,1803)
                                                          Identifier(Identifier)(1798,1803)
                                                            PsiElement(IDENTIFIER)('Split')(1798,1803)
                                                        PsiElement('(')('(')(1803,1804)
                                                        ParamList(ParamList)(1804,1830)
                                                          TermExpression(TermExpression)(1804,1825)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(1804,1825)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(1804,1815)
                                                                TermExpressionTerm(TermExpressionTerm)(1804,1805)
                                                                  InvocationTerm(InvocationTerm)(1804,1805)
                                                                    MemberInvocation(MemberInvocation)(1804,1805)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(1804,1805)
                                                                        Identifier(Identifier)(1804,1805)
                                                                          PsiElement(IDENTIFIER)('O')(1804,1805)
                                                                PsiElement('.')('.')(1805,1806)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(1806,1815)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(1806,1815)
                                                                    Identifier(Identifier)(1806,1815)
                                                                      PsiElement(IDENTIFIER)('encounter')(1806,1815)
                                                              PsiElement('.')('.')(1815,1816)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(1816,1825)
                                                                ReferentialIdentifier(ReferentialIdentifier)(1816,1825)
                                                                  Identifier(Identifier)(1816,1825)
                                                                    PsiElement(IDENTIFIER)('reference')(1816,1825)
                                                          PsiElement(',')(',')(1825,1826)
                                                          PsiWhiteSpace(' ')(1826,1827)
                                                          TermExpression(TermExpression)(1827,1830)
                                                            TermExpressionTerm(TermExpressionTerm)(1827,1830)
                                                              LiteralTerm(LiteralTerm)(1827,1830)
                                                                StringLiteral(StringLiteral)(1827,1830)
                                                                  PsiElement(STRING)(''/'')(1827,1830)
                                                        PsiElement(')')(')')(1830,1831)
                                            PsiElement(')')(')')(1831,1832)
                                  PsiWhiteSpace(' ')(1832,1833)
                                  PsiElement('=')('=')(1833,1834)
                                  PsiWhiteSpace(' ')(1834,1835)
                                  TermExpression(TermExpression)(1835,1847)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1835,1847)
                                      TermExpressionTerm(TermExpressionTerm)(1835,1844)
                                        InvocationTerm(InvocationTerm)(1835,1844)
                                          MemberInvocation(MemberInvocation)(1835,1844)
                                            ReferentialIdentifier(ReferentialIdentifier)(1835,1844)
                                              Identifier(Identifier)(1835,1844)
                                                PsiElement(IDENTIFIER)('Encounter')(1835,1844)
                                      PsiElement('.')('.')(1844,1845)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1845,1847)
                                        ReferentialIdentifier(ReferentialIdentifier)(1845,1847)
                                          Identifier(Identifier)(1845,1847)
                                            PsiElement(IDENTIFIER)('id')(1845,1847)
                                PsiWhiteSpace('\n          ')(1847,1858)
                                PsiElement('and')('and')(1858,1861)
                                PsiWhiteSpace(' ')(1861,1862)
                                MembershipExpression(MembershipExpression)(1862,1887)
                                  TermExpression(TermExpression)(1862,1870)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1862,1870)
                                      TermExpressionTerm(TermExpressionTerm)(1862,1863)
                                        InvocationTerm(InvocationTerm)(1862,1863)
                                          MemberInvocation(MemberInvocation)(1862,1863)
                                            ReferentialIdentifier(ReferentialIdentifier)(1862,1863)
                                              Identifier(Identifier)(1862,1863)
                                                PsiElement(IDENTIFIER)('O')(1862,1863)
                                      PsiElement('.')('.')(1863,1864)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1864,1870)
                                        ReferentialIdentifier(ReferentialIdentifier)(1864,1870)
                                          Identifier(Identifier)(1864,1870)
                                            PsiElement(IDENTIFIER)('status')(1864,1870)
                                  PsiWhiteSpace(' ')(1870,1871)
                                  PsiElement('in')('in')(1871,1873)
                                  PsiWhiteSpace(' ')(1873,1874)
                                  TermExpression(TermExpression)(1874,1887)
                                    TermExpressionTerm(TermExpressionTerm)(1874,1887)
                                      ListSelectorTerm(ListSelectorTerm)(1874,1887)
                                        ListSelector(ListSelector)(1874,1887)
                                          PsiElement('{')('{')(1874,1875)
                                          TermExpression(TermExpression)(1875,1886)
                                            TermExpressionTerm(TermExpressionTerm)(1875,1886)
                                              LiteralTerm(LiteralTerm)(1875,1886)
                                                StringLiteral(StringLiteral)(1875,1886)
                                                  PsiElement(STRING)(''cancelled'')(1875,1886)
                                          PsiElement('}')('}')(1886,1887)
                              PsiWhiteSpace('\n          ')(1887,1898)
                              PsiElement('and')('and')(1898,1901)
                              PsiWhiteSpace(' ')(1901,1902)
                              ExistenceExpression(ExistenceExpression)(1902,1984)
                                PsiElement('exists')('exists')(1902,1908)
                                TermExpression(TermExpression)(1908,1984)
                                  TermExpressionTerm(TermExpressionTerm)(1908,1984)
                                    ParenthesizedTerm(ParenthesizedTerm)(1908,1984)
                                      PsiElement('(')('(')(1908,1909)
                                      QueryExpression(QueryExpression)(1909,1983)
                                        Query(Query)(1909,1983)
                                          SourceClause(SourceClause)(1909,1924)
                                            AliasedQuerySource(AliasedQuerySource)(1909,1924)
                                              QuerySource(QuerySource)(1909,1922)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(1909,1922)
                                                  QualifierExpression(QualifierExpression)(1909,1910)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1909,1910)
                                                      Identifier(Identifier)(1909,1910)
                                                        PsiElement(IDENTIFIER)('O')(1909,1910)
                                                  PsiElement('.')('.')(1910,1911)
                                                  QualifierExpression(QualifierExpression)(1911,1915)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1911,1915)
                                                      KeywordIdentifier(KeywordIdentifier)(1911,1915)
                                                        PsiElement('code')('code')(1911,1915)
                                                  PsiElement('.')('.')(1915,1916)
                                                  ReferentialIdentifier(ReferentialIdentifier)(1916,1922)
                                                    Identifier(Identifier)(1916,1922)
                                                      PsiElement(IDENTIFIER)('coding')(1916,1922)
                                              PsiWhiteSpace(' ')(1922,1923)
                                              Alias(Alias)(1923,1924)
                                                Identifier(Identifier)(1923,1924)
                                                  PsiElement(IDENTIFIER)('C')(1923,1924)
                                          PsiWhiteSpace(' ')(1924,1925)
                                          WhereClause(WhereClause)(1925,1983)
                                            PsiElement('where')('where')(1925,1930)
                                            PsiWhiteSpace(' ')(1930,1931)
                                            AndExpression(AndExpression)(1931,1983)
                                              MembershipExpression(MembershipExpression)(1931,1947)
                                                TermExpression(TermExpression)(1931,1937)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1931,1937)
                                                    TermExpressionTerm(TermExpressionTerm)(1931,1932)
                                                      InvocationTerm(InvocationTerm)(1931,1932)
                                                        MemberInvocation(MemberInvocation)(1931,1932)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1931,1932)
                                                            Identifier(Identifier)(1931,1932)
                                                              PsiElement(IDENTIFIER)('C')(1931,1932)
                                                    PsiElement('.')('.')(1932,1933)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1933,1937)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1933,1937)
                                                        KeywordIdentifier(KeywordIdentifier)(1933,1937)
                                                          PsiElement('code')('code')(1933,1937)
                                                PsiWhiteSpace(' ')(1937,1938)
                                                PsiElement('in')('in')(1938,1940)
                                                PsiWhiteSpace(' ')(1940,1941)
                                                TermExpression(TermExpression)(1941,1947)
                                                  TermExpressionTerm(TermExpressionTerm)(1941,1947)
                                                    InvocationTerm(InvocationTerm)(1941,1947)
                                                      MemberInvocation(MemberInvocation)(1941,1947)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1941,1947)
                                                          Identifier(Identifier)(1941,1947)
                                                            PsiElement(IDENTIFIER)('idlist')(1941,1947)
                                              PsiWhiteSpace('\n          ')(1947,1958)
                                              PsiElement('and')('and')(1958,1961)
                                              PsiWhiteSpace(' ')(1961,1962)
                                              EqualityExpression(EqualityExpression)(1962,1983)
                                                TermExpression(TermExpression)(1962,1970)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1962,1970)
                                                    TermExpressionTerm(TermExpressionTerm)(1962,1963)
                                                      InvocationTerm(InvocationTerm)(1962,1963)
                                                        MemberInvocation(MemberInvocation)(1962,1963)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1962,1963)
                                                            Identifier(Identifier)(1962,1963)
                                                              PsiElement(IDENTIFIER)('C')(1962,1963)
                                                    PsiElement('.')('.')(1963,1964)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1964,1970)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1964,1970)
                                                        Identifier(Identifier)(1964,1970)
                                                          PsiElement(IDENTIFIER)('system')(1964,1970)
                                                PsiWhiteSpace(' ')(1970,1971)
                                                PsiElement('=')('=')(1971,1972)
                                                PsiWhiteSpace(' ')(1972,1973)
                                                TermExpression(TermExpression)(1973,1983)
                                                  TermExpressionTerm(TermExpressionTerm)(1973,1983)
                                                    InvocationTerm(InvocationTerm)(1973,1983)
                                                      MemberInvocation(MemberInvocation)(1973,1983)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1973,1983)
                                                          KeywordIdentifier(KeywordIdentifier)(1973,1983)
                                                            PsiElement('codesystem')('codesystem')(1973,1983)
                                      PsiElement(')')(')')(1983,1984)
                    PsiElement(')')(')')(1984,1985)
    PsiWhiteSpace('\n\n')(1985,1987)
    Statement(Statement)(1987,2332)
      FunctionDefinition(FunctionDefinition)(1987,2332)
        PsiElement('define')('define')(1987,1993)
        PsiWhiteSpace(' ')(1993,1994)
        PsiElement('function')('function')(1994,2002)
        PsiWhiteSpace(' ')(2002,2003)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2003,2038)
          Identifier(Identifier)(2003,2038)
            PsiElement(IDENTIFIER)('GetNumberObservationDuringEncounter')(2003,2038)
        PsiElement('(')('(')(2038,2039)
        OperandDefinition(OperandDefinition)(2039,2056)
          ReferentialIdentifier(ReferentialIdentifier)(2039,2045)
            Identifier(Identifier)(2039,2045)
              PsiElement(IDENTIFIER)('idlist')(2039,2045)
          PsiWhiteSpace(' ')(2045,2046)
          TypeSpecifier(TypeSpecifier)(2046,2056)
            ListTypeSpecifier(ListTypeSpecifier)(2046,2056)
              PsiElement('List')('List')(2046,2050)
              PsiElement('<')('<')(2050,2051)
              TypeSpecifier(TypeSpecifier)(2051,2055)
                NamedTypeSpecifier(NamedTypeSpecifier)(2051,2055)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2051,2055)
                    ReferentialIdentifier(ReferentialIdentifier)(2051,2055)
                      KeywordIdentifier(KeywordIdentifier)(2051,2055)
                        PsiElement('code')('code')(2051,2055)
              PsiElement('>')('>')(2055,2056)
        PsiElement(',')(',')(2056,2057)
        PsiWhiteSpace(' ')(2057,2058)
        OperandDefinition(OperandDefinition)(2058,2077)
          ReferentialIdentifier(ReferentialIdentifier)(2058,2068)
            KeywordIdentifier(KeywordIdentifier)(2058,2068)
              PsiElement('codesystem')('codesystem')(2058,2068)
          PsiWhiteSpace(' ')(2068,2069)
          TypeSpecifier(TypeSpecifier)(2069,2077)
            NamedTypeSpecifier(NamedTypeSpecifier)(2069,2077)
              Qualifier(Qualifier)(2069,2073)
                Identifier(Identifier)(2069,2073)
                  PsiElement(IDENTIFIER)('FHIR')(2069,2073)
              PsiElement('.')('.')(2073,2074)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2074,2077)
                ReferentialIdentifier(ReferentialIdentifier)(2074,2077)
                  Identifier(Identifier)(2074,2077)
                    PsiElement(IDENTIFIER)('url')(2074,2077)
        PsiElement(')')(')')(2077,2078)
        PsiElement(':')(':')(2078,2079)
        PsiWhiteSpace('\n  ')(2079,2082)
        FunctionBody(FunctionBody)(2082,2332)
          TermExpression(TermExpression)(2082,2332)
            TermExpressionTerm(TermExpressionTerm)(2082,2332)
              InvocationTerm(InvocationTerm)(2082,2332)
                FunctionInvocation(FunctionInvocation)(2082,2332)
                  Function(Function)(2082,2332)
                    ReferentialIdentifier(ReferentialIdentifier)(2082,2087)
                      Identifier(Identifier)(2082,2087)
                        PsiElement(IDENTIFIER)('Count')(2082,2087)
                    PsiElement('(')('(')(2087,2088)
                    PsiWhiteSpace('\n    ')(2088,2093)
                    ParamList(ParamList)(2093,2331)
                      QueryExpression(QueryExpression)(2093,2331)
                        Query(Query)(2093,2331)
                          SourceClause(SourceClause)(2093,2108)
                            AliasedQuerySource(AliasedQuerySource)(2093,2108)
                              QuerySource(QuerySource)(2093,2106)
                                Retrieve(Retrieve)(2093,2106)
                                  PsiElement('[')('[')(2093,2094)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(2094,2105)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2094,2105)
                                      ReferentialIdentifier(ReferentialIdentifier)(2094,2105)
                                        Identifier(Identifier)(2094,2105)
                                          PsiElement(IDENTIFIER)('Observation')(2094,2105)
                                  PsiElement(']')(']')(2105,2106)
                              PsiWhiteSpace(' ')(2106,2107)
                              Alias(Alias)(2107,2108)
                                Identifier(Identifier)(2107,2108)
                                  PsiElement(IDENTIFIER)('O')(2107,2108)
                          PsiWhiteSpace('\n        ')(2108,2117)
                          WhereClause(WhereClause)(2117,2331)
                            PsiElement('where')('where')(2117,2122)
                            PsiWhiteSpace(' ')(2122,2123)
                            AndExpression(AndExpression)(2123,2331)
                              AndExpression(AndExpression)(2123,2236)
                                EqualityExpression(EqualityExpression)(2123,2177)
                                  TermExpression(TermExpression)(2123,2162)
                                    TermExpressionTerm(TermExpressionTerm)(2123,2162)
                                      InvocationTerm(InvocationTerm)(2123,2162)
                                        FunctionInvocation(FunctionInvocation)(2123,2162)
                                          Function(Function)(2123,2162)
                                            ReferentialIdentifier(ReferentialIdentifier)(2123,2127)
                                              Identifier(Identifier)(2123,2127)
                                                PsiElement(IDENTIFIER)('Last')(2123,2127)
                                            PsiElement('(')('(')(2127,2128)
                                            ParamList(ParamList)(2128,2161)
                                              TermExpression(TermExpression)(2128,2161)
                                                TermExpressionTerm(TermExpressionTerm)(2128,2161)
                                                  InvocationTerm(InvocationTerm)(2128,2161)
                                                    FunctionInvocation(FunctionInvocation)(2128,2161)
                                                      Function(Function)(2128,2161)
                                                        ReferentialIdentifier(ReferentialIdentifier)(2128,2133)
                                                          Identifier(Identifier)(2128,2133)
                                                            PsiElement(IDENTIFIER)('Split')(2128,2133)
                                                        PsiElement('(')('(')(2133,2134)
                                                        ParamList(ParamList)(2134,2160)
                                                          TermExpression(TermExpression)(2134,2155)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(2134,2155)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(2134,2145)
                                                                TermExpressionTerm(TermExpressionTerm)(2134,2135)
                                                                  InvocationTerm(InvocationTerm)(2134,2135)
                                                                    MemberInvocation(MemberInvocation)(2134,2135)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(2134,2135)
                                                                        Identifier(Identifier)(2134,2135)
                                                                          PsiElement(IDENTIFIER)('O')(2134,2135)
                                                                PsiElement('.')('.')(2135,2136)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(2136,2145)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(2136,2145)
                                                                    Identifier(Identifier)(2136,2145)
                                                                      PsiElement(IDENTIFIER)('encounter')(2136,2145)
                                                              PsiElement('.')('.')(2145,2146)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(2146,2155)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2146,2155)
                                                                  Identifier(Identifier)(2146,2155)
                                                                    PsiElement(IDENTIFIER)('reference')(2146,2155)
                                                          PsiElement(',')(',')(2155,2156)
                                                          PsiWhiteSpace(' ')(2156,2157)
                                                          TermExpression(TermExpression)(2157,2160)
                                                            TermExpressionTerm(TermExpressionTerm)(2157,2160)
                                                              LiteralTerm(LiteralTerm)(2157,2160)
                                                                StringLiteral(StringLiteral)(2157,2160)
                                                                  PsiElement(STRING)(''/'')(2157,2160)
                                                        PsiElement(')')(')')(2160,2161)
                                            PsiElement(')')(')')(2161,2162)
                                  PsiWhiteSpace(' ')(2162,2163)
                                  PsiElement('=')('=')(2163,2164)
                                  PsiWhiteSpace(' ')(2164,2165)
                                  TermExpression(TermExpression)(2165,2177)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(2165,2177)
                                      TermExpressionTerm(TermExpressionTerm)(2165,2174)
                                        InvocationTerm(InvocationTerm)(2165,2174)
                                          MemberInvocation(MemberInvocation)(2165,2174)
                                            ReferentialIdentifier(ReferentialIdentifier)(2165,2174)
                                              Identifier(Identifier)(2165,2174)
                                                PsiElement(IDENTIFIER)('Encounter')(2165,2174)
                                      PsiElement('.')('.')(2174,2175)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(2175,2177)
                                        ReferentialIdentifier(ReferentialIdentifier)(2175,2177)
                                          Identifier(Identifier)(2175,2177)
                                            PsiElement(IDENTIFIER)('id')(2175,2177)
                                PsiWhiteSpace('\n        ')(2177,2186)
                                PsiElement('and')('and')(2186,2189)
                                PsiWhiteSpace(' ')(2189,2190)
                                MembershipExpression(MembershipExpression)(2190,2236)
                                  TermExpression(TermExpression)(2190,2198)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(2190,2198)
                                      TermExpressionTerm(TermExpressionTerm)(2190,2191)
                                        InvocationTerm(InvocationTerm)(2190,2191)
                                          MemberInvocation(MemberInvocation)(2190,2191)
                                            ReferentialIdentifier(ReferentialIdentifier)(2190,2191)
                                              Identifier(Identifier)(2190,2191)
                                                PsiElement(IDENTIFIER)('O')(2190,2191)
                                      PsiElement('.')('.')(2191,2192)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(2192,2198)
                                        ReferentialIdentifier(ReferentialIdentifier)(2192,2198)
                                          Identifier(Identifier)(2192,2198)
                                            PsiElement(IDENTIFIER)('status')(2192,2198)
                                  PsiWhiteSpace(' ')(2198,2199)
                                  PsiElement('in')('in')(2199,2201)
                                  PsiWhiteSpace(' ')(2201,2202)
                                  TermExpression(TermExpression)(2202,2236)
                                    TermExpressionTerm(TermExpressionTerm)(2202,2236)
                                      ListSelectorTerm(ListSelectorTerm)(2202,2236)
                                        ListSelector(ListSelector)(2202,2236)
                                          PsiElement('{')('{')(2202,2203)
                                          PsiWhiteSpace(' ')(2203,2204)
                                          TermExpression(TermExpression)(2204,2211)
                                            TermExpressionTerm(TermExpressionTerm)(2204,2211)
                                              LiteralTerm(LiteralTerm)(2204,2211)
                                                StringLiteral(StringLiteral)(2204,2211)
                                                  PsiElement(STRING)(''final'')(2204,2211)
                                          PsiElement(',')(',')(2211,2212)
                                          PsiWhiteSpace(' ')(2212,2213)
                                          TermExpression(TermExpression)(2213,2222)
                                            TermExpressionTerm(TermExpressionTerm)(2213,2222)
                                              LiteralTerm(LiteralTerm)(2213,2222)
                                                StringLiteral(StringLiteral)(2213,2222)
                                                  PsiElement(STRING)(''amended'')(2213,2222)
                                          PsiElement(',')(',')(2222,2223)
                                          PsiWhiteSpace(' ')(2223,2224)
                                          TermExpression(TermExpression)(2224,2235)
                                            TermExpressionTerm(TermExpressionTerm)(2224,2235)
                                              LiteralTerm(LiteralTerm)(2224,2235)
                                                StringLiteral(StringLiteral)(2224,2235)
                                                  PsiElement(STRING)(''corrected'')(2224,2235)
                                          PsiElement('}')('}')(2235,2236)
                              PsiWhiteSpace('\n        ')(2236,2245)
                              PsiElement('and')('and')(2245,2248)
                              PsiWhiteSpace(' ')(2248,2249)
                              ExistenceExpression(ExistenceExpression)(2249,2331)
                                PsiElement('exists')('exists')(2249,2255)
                                TermExpression(TermExpression)(2255,2331)
                                  TermExpressionTerm(TermExpressionTerm)(2255,2331)
                                    ParenthesizedTerm(ParenthesizedTerm)(2255,2331)
                                      PsiElement('(')('(')(2255,2256)
                                      TermExpression(TermExpression)(2256,2330)
                                        TermExpressionTerm(TermExpressionTerm)(2256,2330)
                                          ParenthesizedTerm(ParenthesizedTerm)(2256,2330)
                                            PsiElement('(')('(')(2256,2257)
                                            QueryExpression(QueryExpression)(2257,2329)
                                              Query(Query)(2257,2329)
                                                SourceClause(SourceClause)(2257,2272)
                                                  AliasedQuerySource(AliasedQuerySource)(2257,2272)
                                                    QuerySource(QuerySource)(2257,2270)
                                                      QualifiedIdentifierExpression(QualifiedIdentifierExpression)(2257,2270)
                                                        QualifierExpression(QualifierExpression)(2257,2258)
                                                          ReferentialIdentifier(ReferentialIdentifier)(2257,2258)
                                                            Identifier(Identifier)(2257,2258)
                                                              PsiElement(IDENTIFIER)('O')(2257,2258)
                                                        PsiElement('.')('.')(2258,2259)
                                                        QualifierExpression(QualifierExpression)(2259,2263)
                                                          ReferentialIdentifier(ReferentialIdentifier)(2259,2263)
                                                            KeywordIdentifier(KeywordIdentifier)(2259,2263)
                                                              PsiElement('code')('code')(2259,2263)
                                                        PsiElement('.')('.')(2263,2264)
                                                        ReferentialIdentifier(ReferentialIdentifier)(2264,2270)
                                                          Identifier(Identifier)(2264,2270)
                                                            PsiElement(IDENTIFIER)('coding')(2264,2270)
                                                    PsiWhiteSpace(' ')(2270,2271)
                                                    Alias(Alias)(2271,2272)
                                                      Identifier(Identifier)(2271,2272)
                                                        PsiElement(IDENTIFIER)('C')(2271,2272)
                                                PsiWhiteSpace(' ')(2272,2273)
                                                WhereClause(WhereClause)(2273,2329)
                                                  PsiElement('where')('where')(2273,2278)
                                                  PsiWhiteSpace(' ')(2278,2279)
                                                  AndExpression(AndExpression)(2279,2329)
                                                    MembershipExpression(MembershipExpression)(2279,2295)
                                                      TermExpression(TermExpression)(2279,2285)
                                                        InvocationExpressionTerm(InvocationExpressionTerm)(2279,2285)
                                                          TermExpressionTerm(TermExpressionTerm)(2279,2280)
                                                            InvocationTerm(InvocationTerm)(2279,2280)
                                                              MemberInvocation(MemberInvocation)(2279,2280)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2279,2280)
                                                                  Identifier(Identifier)(2279,2280)
                                                                    PsiElement(IDENTIFIER)('C')(2279,2280)
                                                          PsiElement('.')('.')(2280,2281)
                                                          QualifiedMemberInvocation(QualifiedMemberInvocation)(2281,2285)
                                                            ReferentialIdentifier(ReferentialIdentifier)(2281,2285)
                                                              KeywordIdentifier(KeywordIdentifier)(2281,2285)
                                                                PsiElement('code')('code')(2281,2285)
                                                      PsiWhiteSpace(' ')(2285,2286)
                                                      PsiElement('in')('in')(2286,2288)
                                                      PsiWhiteSpace(' ')(2288,2289)
                                                      TermExpression(TermExpression)(2289,2295)
                                                        TermExpressionTerm(TermExpressionTerm)(2289,2295)
                                                          InvocationTerm(InvocationTerm)(2289,2295)
                                                            MemberInvocation(MemberInvocation)(2289,2295)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2289,2295)
                                                                Identifier(Identifier)(2289,2295)
                                                                  PsiElement(IDENTIFIER)('idlist')(2289,2295)
                                                    PsiWhiteSpace('\n        ')(2295,2304)
                                                    PsiElement('and')('and')(2304,2307)
                                                    PsiWhiteSpace(' ')(2307,2308)
                                                    EqualityExpression(EqualityExpression)(2308,2329)
                                                      TermExpression(TermExpression)(2308,2316)
                                                        InvocationExpressionTerm(InvocationExpressionTerm)(2308,2316)
                                                          TermExpressionTerm(TermExpressionTerm)(2308,2309)
                                                            InvocationTerm(InvocationTerm)(2308,2309)
                                                              MemberInvocation(MemberInvocation)(2308,2309)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2308,2309)
                                                                  Identifier(Identifier)(2308,2309)
                                                                    PsiElement(IDENTIFIER)('C')(2308,2309)
                                                          PsiElement('.')('.')(2309,2310)
                                                          QualifiedMemberInvocation(QualifiedMemberInvocation)(2310,2316)
                                                            ReferentialIdentifier(ReferentialIdentifier)(2310,2316)
                                                              Identifier(Identifier)(2310,2316)
                                                                PsiElement(IDENTIFIER)('system')(2310,2316)
                                                      PsiWhiteSpace(' ')(2316,2317)
                                                      PsiElement('=')('=')(2317,2318)
                                                      PsiWhiteSpace(' ')(2318,2319)
                                                      TermExpression(TermExpression)(2319,2329)
                                                        TermExpressionTerm(TermExpressionTerm)(2319,2329)
                                                          InvocationTerm(InvocationTerm)(2319,2329)
                                                            MemberInvocation(MemberInvocation)(2319,2329)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2319,2329)
                                                                KeywordIdentifier(KeywordIdentifier)(2319,2329)
                                                                  PsiElement('codesystem')('codesystem')(2319,2329)
                                            PsiElement(')')(')')(2329,2330)
                                      PsiElement(')')(')')(2330,2331)
                    PsiElement(')')(')')(2331,2332)
    PsiWhiteSpace('\n\n')(2332,2334)
    Statement(Statement)(2334,2486)
      FunctionDefinition(FunctionDefinition)(2334,2486)
        PsiElement('define')('define')(2334,2340)
        PsiWhiteSpace(' ')(2340,2341)
        PsiElement('function')('function')(2341,2349)
        PsiWhiteSpace(' ')(2349,2350)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2350,2356)
          Identifier(Identifier)(2350,2356)
            PsiElement(IDENTIFIER)('HasObs')(2350,2356)
        PsiElement('(')('(')(2356,2357)
        OperandDefinition(OperandDefinition)(2357,2379)
          ReferentialIdentifier(ReferentialIdentifier)(2357,2363)
            Identifier(Identifier)(2357,2363)
              PsiElement(IDENTIFIER)('idlist')(2357,2363)
          PsiWhiteSpace(' ')(2363,2364)
          TypeSpecifier(TypeSpecifier)(2364,2379)
            ListTypeSpecifier(ListTypeSpecifier)(2364,2379)
              PsiElement('List')('List')(2364,2368)
              PsiElement('<')('<')(2368,2369)
              TypeSpecifier(TypeSpecifier)(2369,2378)
                NamedTypeSpecifier(NamedTypeSpecifier)(2369,2378)
                  Qualifier(Qualifier)(2369,2373)
                    Identifier(Identifier)(2369,2373)
                      PsiElement(IDENTIFIER)('FHIR')(2369,2373)
                  PsiElement('.')('.')(2373,2374)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2374,2378)
                    ReferentialIdentifier(ReferentialIdentifier)(2374,2378)
                      KeywordIdentifier(KeywordIdentifier)(2374,2378)
                        PsiElement('code')('code')(2374,2378)
              PsiElement('>')('>')(2378,2379)
        PsiElement(',')(',')(2379,2380)
        PsiWhiteSpace(' ')(2380,2381)
        OperandDefinition(OperandDefinition)(2381,2405)
          ReferentialIdentifier(ReferentialIdentifier)(2381,2391)
            KeywordIdentifier(KeywordIdentifier)(2381,2391)
              PsiElement('codesystem')('codesystem')(2381,2391)
          PsiWhiteSpace(' ')(2391,2392)
          TypeSpecifier(TypeSpecifier)(2392,2405)
            NamedTypeSpecifier(NamedTypeSpecifier)(2392,2405)
              Qualifier(Qualifier)(2392,2398)
                Identifier(Identifier)(2392,2398)
                  PsiElement(IDENTIFIER)('System')(2392,2398)
              PsiElement('.')('.')(2398,2399)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2399,2405)
                ReferentialIdentifier(ReferentialIdentifier)(2399,2405)
                  Identifier(Identifier)(2399,2405)
                    PsiElement(IDENTIFIER)('String')(2399,2405)
        PsiElement(')')(')')(2405,2406)
        PsiElement(':')(':')(2406,2407)
        PsiWhiteSpace('\n    ')(2407,2412)
        FunctionBody(FunctionBody)(2412,2486)
          TermExpression(TermExpression)(2412,2486)
            TermExpressionTerm(TermExpressionTerm)(2412,2486)
              InvocationTerm(InvocationTerm)(2412,2486)
                FunctionInvocation(FunctionInvocation)(2412,2486)
                  Function(Function)(2412,2486)
                    ReferentialIdentifier(ReferentialIdentifier)(2412,2428)
                      Identifier(Identifier)(2412,2428)
                        PsiElement(IDENTIFIER)('assesObservation')(2412,2428)
                    PsiElement('(')('(')(2428,2429)
                    ParamList(ParamList)(2429,2485)
                      TermExpression(TermExpression)(2429,2485)
                        TermExpressionTerm(TermExpressionTerm)(2429,2485)
                          InvocationTerm(InvocationTerm)(2429,2485)
                            FunctionInvocation(FunctionInvocation)(2429,2485)
                              Function(Function)(2429,2485)
                                ReferentialIdentifier(ReferentialIdentifier)(2429,2458)
                                  Identifier(Identifier)(2429,2458)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2429,2458)
                                PsiElement('(')('(')(2458,2459)
                                ParamList(ParamList)(2459,2484)
                                  TermExpression(TermExpression)(2459,2465)
                                    TermExpressionTerm(TermExpressionTerm)(2459,2465)
                                      InvocationTerm(InvocationTerm)(2459,2465)
                                        MemberInvocation(MemberInvocation)(2459,2465)
                                          ReferentialIdentifier(ReferentialIdentifier)(2459,2465)
                                            Identifier(Identifier)(2459,2465)
                                              PsiElement(IDENTIFIER)('idlist')(2459,2465)
                                  PsiElement(',')(',')(2465,2466)
                                  PsiWhiteSpace(' ')(2466,2467)
                                  TermExpression(TermExpression)(2467,2484)
                                    TermExpressionTerm(TermExpressionTerm)(2467,2484)
                                      InvocationTerm(InvocationTerm)(2467,2484)
                                        FunctionInvocation(FunctionInvocation)(2467,2484)
                                          Function(Function)(2467,2484)
                                            ReferentialIdentifier(ReferentialIdentifier)(2467,2472)
                                              Identifier(Identifier)(2467,2472)
                                                PsiElement(IDENTIFIER)('ToUrl')(2467,2472)
                                            PsiElement('(')('(')(2472,2473)
                                            ParamList(ParamList)(2473,2483)
                                              TermExpression(TermExpression)(2473,2483)
                                                TermExpressionTerm(TermExpressionTerm)(2473,2483)
                                                  InvocationTerm(InvocationTerm)(2473,2483)
                                                    MemberInvocation(MemberInvocation)(2473,2483)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2473,2483)
                                                        KeywordIdentifier(KeywordIdentifier)(2473,2483)
                                                          PsiElement('codesystem')('codesystem')(2473,2483)
                                            PsiElement(')')(')')(2483,2484)
                                PsiElement(')')(')')(2484,2485)
                    PsiElement(')')(')')(2485,2486)
    PsiWhiteSpace('\n\n')(2486,2488)
    Statement(Statement)(2488,2628)
      FunctionDefinition(FunctionDefinition)(2488,2628)
        PsiElement('define')('define')(2488,2494)
        PsiWhiteSpace(' ')(2494,2495)
        PsiElement('function')('function')(2495,2503)
        PsiWhiteSpace(' ')(2503,2504)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2504,2510)
          Identifier(Identifier)(2504,2510)
            PsiElement(IDENTIFIER)('HasObs')(2504,2510)
        PsiElement('(')('(')(2510,2511)
        OperandDefinition(OperandDefinition)(2511,2523)
          ReferentialIdentifier(ReferentialIdentifier)(2511,2513)
            Identifier(Identifier)(2511,2513)
              PsiElement(IDENTIFIER)('id')(2511,2513)
          PsiWhiteSpace(' ')(2513,2514)
          TypeSpecifier(TypeSpecifier)(2514,2523)
            NamedTypeSpecifier(NamedTypeSpecifier)(2514,2523)
              Qualifier(Qualifier)(2514,2518)
                Identifier(Identifier)(2514,2518)
                  PsiElement(IDENTIFIER)('FHIR')(2514,2518)
              PsiElement('.')('.')(2518,2519)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2519,2523)
                ReferentialIdentifier(ReferentialIdentifier)(2519,2523)
                  KeywordIdentifier(KeywordIdentifier)(2519,2523)
                    PsiElement('code')('code')(2519,2523)
        PsiElement(',')(',')(2523,2524)
        PsiWhiteSpace(' ')(2524,2525)
        OperandDefinition(OperandDefinition)(2525,2549)
          ReferentialIdentifier(ReferentialIdentifier)(2525,2535)
            KeywordIdentifier(KeywordIdentifier)(2525,2535)
              PsiElement('codesystem')('codesystem')(2525,2535)
          PsiWhiteSpace(' ')(2535,2536)
          TypeSpecifier(TypeSpecifier)(2536,2549)
            NamedTypeSpecifier(NamedTypeSpecifier)(2536,2549)
              Qualifier(Qualifier)(2536,2542)
                Identifier(Identifier)(2536,2542)
                  PsiElement(IDENTIFIER)('System')(2536,2542)
              PsiElement('.')('.')(2542,2543)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2543,2549)
                ReferentialIdentifier(ReferentialIdentifier)(2543,2549)
                  Identifier(Identifier)(2543,2549)
                    PsiElement(IDENTIFIER)('String')(2543,2549)
        PsiElement(')')(')')(2549,2550)
        PsiElement(':')(':')(2550,2551)
        PsiWhiteSpace('\n    ')(2551,2556)
        FunctionBody(FunctionBody)(2556,2628)
          TermExpression(TermExpression)(2556,2628)
            TermExpressionTerm(TermExpressionTerm)(2556,2628)
              InvocationTerm(InvocationTerm)(2556,2628)
                FunctionInvocation(FunctionInvocation)(2556,2628)
                  Function(Function)(2556,2628)
                    ReferentialIdentifier(ReferentialIdentifier)(2556,2572)
                      Identifier(Identifier)(2556,2572)
                        PsiElement(IDENTIFIER)('assesObservation')(2556,2572)
                    PsiElement('(')('(')(2572,2573)
                    ParamList(ParamList)(2573,2627)
                      TermExpression(TermExpression)(2573,2627)
                        TermExpressionTerm(TermExpressionTerm)(2573,2627)
                          InvocationTerm(InvocationTerm)(2573,2627)
                            FunctionInvocation(FunctionInvocation)(2573,2627)
                              Function(Function)(2573,2627)
                                ReferentialIdentifier(ReferentialIdentifier)(2573,2602)
                                  Identifier(Identifier)(2573,2602)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2573,2602)
                                PsiElement('(')('(')(2602,2603)
                                ParamList(ParamList)(2603,2626)
                                  TermExpression(TermExpression)(2603,2607)
                                    TermExpressionTerm(TermExpressionTerm)(2603,2607)
                                      ListSelectorTerm(ListSelectorTerm)(2603,2607)
                                        ListSelector(ListSelector)(2603,2607)
                                          PsiElement('{')('{')(2603,2604)
                                          TermExpression(TermExpression)(2604,2606)
                                            TermExpressionTerm(TermExpressionTerm)(2604,2606)
                                              InvocationTerm(InvocationTerm)(2604,2606)
                                                MemberInvocation(MemberInvocation)(2604,2606)
                                                  ReferentialIdentifier(ReferentialIdentifier)(2604,2606)
                                                    Identifier(Identifier)(2604,2606)
                                                      PsiElement(IDENTIFIER)('id')(2604,2606)
                                          PsiElement('}')('}')(2606,2607)
                                  PsiElement(',')(',')(2607,2608)
                                  PsiWhiteSpace(' ')(2608,2609)
                                  TermExpression(TermExpression)(2609,2626)
                                    TermExpressionTerm(TermExpressionTerm)(2609,2626)
                                      InvocationTerm(InvocationTerm)(2609,2626)
                                        FunctionInvocation(FunctionInvocation)(2609,2626)
                                          Function(Function)(2609,2626)
                                            ReferentialIdentifier(ReferentialIdentifier)(2609,2614)
                                              Identifier(Identifier)(2609,2614)
                                                PsiElement(IDENTIFIER)('ToUrl')(2609,2614)
                                            PsiElement('(')('(')(2614,2615)
                                            ParamList(ParamList)(2615,2625)
                                              TermExpression(TermExpression)(2615,2625)
                                                TermExpressionTerm(TermExpressionTerm)(2615,2625)
                                                  InvocationTerm(InvocationTerm)(2615,2625)
                                                    MemberInvocation(MemberInvocation)(2615,2625)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2615,2625)
                                                        KeywordIdentifier(KeywordIdentifier)(2615,2625)
                                                          PsiElement('codesystem')('codesystem')(2615,2625)
                                            PsiElement(')')(')')(2625,2626)
                                PsiElement(')')(')')(2626,2627)
                    PsiElement(')')(')')(2627,2628)
    PsiWhiteSpace('\n\n')(2628,2630)
    Statement(Statement)(2630,2777)
      FunctionDefinition(FunctionDefinition)(2630,2777)
        PsiElement('define')('define')(2630,2636)
        PsiWhiteSpace(' ')(2636,2637)
        PsiElement('function')('function')(2637,2645)
        PsiWhiteSpace(' ')(2645,2646)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2646,2652)
          Identifier(Identifier)(2646,2652)
            PsiElement(IDENTIFIER)('HasObs')(2646,2652)
        PsiElement('(')('(')(2652,2653)
        OperandDefinition(OperandDefinition)(2653,2669)
          ReferentialIdentifier(ReferentialIdentifier)(2653,2655)
            Identifier(Identifier)(2653,2655)
              PsiElement(IDENTIFIER)('id')(2653,2655)
          PsiWhiteSpace(' ')(2655,2656)
          TypeSpecifier(TypeSpecifier)(2656,2669)
            NamedTypeSpecifier(NamedTypeSpecifier)(2656,2669)
              Qualifier(Qualifier)(2656,2662)
                Identifier(Identifier)(2656,2662)
                  PsiElement(IDENTIFIER)('System')(2656,2662)
              PsiElement('.')('.')(2662,2663)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2663,2669)
                ReferentialIdentifier(ReferentialIdentifier)(2663,2669)
                  Identifier(Identifier)(2663,2669)
                    PsiElement(IDENTIFIER)('String')(2663,2669)
        PsiElement(',')(',')(2669,2670)
        PsiWhiteSpace(' ')(2670,2671)
        OperandDefinition(OperandDefinition)(2671,2695)
          ReferentialIdentifier(ReferentialIdentifier)(2671,2681)
            KeywordIdentifier(KeywordIdentifier)(2671,2681)
              PsiElement('codesystem')('codesystem')(2671,2681)
          PsiWhiteSpace(' ')(2681,2682)
          TypeSpecifier(TypeSpecifier)(2682,2695)
            NamedTypeSpecifier(NamedTypeSpecifier)(2682,2695)
              Qualifier(Qualifier)(2682,2688)
                Identifier(Identifier)(2682,2688)
                  PsiElement(IDENTIFIER)('System')(2682,2688)
              PsiElement('.')('.')(2688,2689)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2689,2695)
                ReferentialIdentifier(ReferentialIdentifier)(2689,2695)
                  Identifier(Identifier)(2689,2695)
                    PsiElement(IDENTIFIER)('String')(2689,2695)
        PsiElement(')')(')')(2695,2696)
        PsiElement(':')(':')(2696,2697)
        PsiWhiteSpace('\n    ')(2697,2702)
        FunctionBody(FunctionBody)(2702,2777)
          TermExpression(TermExpression)(2702,2777)
            TermExpressionTerm(TermExpressionTerm)(2702,2777)
              InvocationTerm(InvocationTerm)(2702,2777)
                FunctionInvocation(FunctionInvocation)(2702,2777)
                  Function(Function)(2702,2777)
                    ReferentialIdentifier(ReferentialIdentifier)(2702,2718)
                      Identifier(Identifier)(2702,2718)
                        PsiElement(IDENTIFIER)('assesObservation')(2702,2718)
                    PsiElement('(')('(')(2718,2719)
                    ParamList(ParamList)(2719,2776)
                      TermExpression(TermExpression)(2719,2776)
                        TermExpressionTerm(TermExpressionTerm)(2719,2776)
                          InvocationTerm(InvocationTerm)(2719,2776)
                            FunctionInvocation(FunctionInvocation)(2719,2776)
                              Function(Function)(2719,2776)
                                ReferentialIdentifier(ReferentialIdentifier)(2719,2748)
                                  Identifier(Identifier)(2719,2748)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2719,2748)
                                PsiElement('(')('(')(2748,2749)
                                ParamList(ParamList)(2749,2775)
                                  TermExpression(TermExpression)(2749,2756)
                                    TermExpressionTerm(TermExpressionTerm)(2749,2756)
                                      ListSelectorTerm(ListSelectorTerm)(2749,2756)
                                        ListSelector(ListSelector)(2749,2756)
                                          PsiElement('{')('{')(2749,2750)
                                          TermExpression(TermExpression)(2750,2755)
                                            TermExpressionTerm(TermExpressionTerm)(2750,2755)
                                              InvocationTerm(InvocationTerm)(2750,2755)
                                                FunctionInvocation(FunctionInvocation)(2750,2755)
                                                  Function(Function)(2750,2755)
                                                    ReferentialIdentifier(ReferentialIdentifier)(2750,2751)
                                                      Identifier(Identifier)(2750,2751)
                                                        PsiElement(IDENTIFIER)('c')(2750,2751)
                                                    PsiElement('(')('(')(2751,2752)
                                                    ParamList(ParamList)(2752,2754)
                                                      TermExpression(TermExpression)(2752,2754)
                                                        TermExpressionTerm(TermExpressionTerm)(2752,2754)
                                                          InvocationTerm(InvocationTerm)(2752,2754)
                                                            MemberInvocation(MemberInvocation)(2752,2754)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2752,2754)
                                                                Identifier(Identifier)(2752,2754)
                                                                  PsiElement(IDENTIFIER)('id')(2752,2754)
                                                    PsiElement(')')(')')(2754,2755)
                                          PsiElement('}')('}')(2755,2756)
                                  PsiElement(',')(',')(2756,2757)
                                  PsiWhiteSpace(' ')(2757,2758)
                                  TermExpression(TermExpression)(2758,2775)
                                    TermExpressionTerm(TermExpressionTerm)(2758,2775)
                                      InvocationTerm(InvocationTerm)(2758,2775)
                                        FunctionInvocation(FunctionInvocation)(2758,2775)
                                          Function(Function)(2758,2775)
                                            ReferentialIdentifier(ReferentialIdentifier)(2758,2763)
                                              Identifier(Identifier)(2758,2763)
                                                PsiElement(IDENTIFIER)('ToUrl')(2758,2763)
                                            PsiElement('(')('(')(2763,2764)
                                            ParamList(ParamList)(2764,2774)
                                              TermExpression(TermExpression)(2764,2774)
                                                TermExpressionTerm(TermExpressionTerm)(2764,2774)
                                                  InvocationTerm(InvocationTerm)(2764,2774)
                                                    MemberInvocation(MemberInvocation)(2764,2774)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2764,2774)
                                                        KeywordIdentifier(KeywordIdentifier)(2764,2774)
                                                          PsiElement('codesystem')('codesystem')(2764,2774)
                                            PsiElement(')')(')')(2774,2775)
                                PsiElement(')')(')')(2775,2776)
                    PsiElement(')')(')')(2776,2777)
    PsiWhiteSpace('\n\n')(2777,2779)
    Statement(Statement)(2779,2938)
      FunctionDefinition(FunctionDefinition)(2779,2938)
        PsiElement('define')('define')(2779,2785)
        PsiWhiteSpace(' ')(2785,2786)
        PsiElement('function')('function')(2786,2794)
        PsiWhiteSpace(' ')(2794,2795)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2795,2801)
          Identifier(Identifier)(2795,2801)
            PsiElement(IDENTIFIER)('HasObs')(2795,2801)
        PsiElement('(')('(')(2801,2802)
        OperandDefinition(OperandDefinition)(2802,2818)
          ReferentialIdentifier(ReferentialIdentifier)(2802,2804)
            Identifier(Identifier)(2802,2804)
              PsiElement(IDENTIFIER)('id')(2802,2804)
          PsiWhiteSpace(' ')(2804,2805)
          TypeSpecifier(TypeSpecifier)(2805,2818)
            NamedTypeSpecifier(NamedTypeSpecifier)(2805,2818)
              Qualifier(Qualifier)(2805,2811)
                Identifier(Identifier)(2805,2811)
                  PsiElement(IDENTIFIER)('System')(2805,2811)
              PsiElement('.')('.')(2811,2812)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2812,2818)
                ReferentialIdentifier(ReferentialIdentifier)(2812,2818)
                  Identifier(Identifier)(2812,2818)
                    PsiElement(IDENTIFIER)('String')(2812,2818)
        PsiElement(')')(')')(2818,2819)
        PsiElement(':')(':')(2819,2820)
        PsiWhiteSpace('\n    ')(2820,2825)
        FunctionBody(FunctionBody)(2825,2938)
          TermExpression(TermExpression)(2825,2938)
            TermExpressionTerm(TermExpressionTerm)(2825,2938)
              InvocationTerm(InvocationTerm)(2825,2938)
                FunctionInvocation(FunctionInvocation)(2825,2938)
                  Function(Function)(2825,2938)
                    ReferentialIdentifier(ReferentialIdentifier)(2825,2841)
                      Identifier(Identifier)(2825,2841)
                        PsiElement(IDENTIFIER)('assesObservation')(2825,2841)
                    PsiElement('(')('(')(2841,2842)
                    ParamList(ParamList)(2842,2937)
                      TermExpression(TermExpression)(2842,2937)
                        TermExpressionTerm(TermExpressionTerm)(2842,2937)
                          InvocationTerm(InvocationTerm)(2842,2937)
                            FunctionInvocation(FunctionInvocation)(2842,2937)
                              Function(Function)(2842,2937)
                                ReferentialIdentifier(ReferentialIdentifier)(2842,2871)
                                  Identifier(Identifier)(2842,2871)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2842,2871)
                                PsiElement('(')('(')(2871,2872)
                                ParamList(ParamList)(2872,2936)
                                  TermExpression(TermExpression)(2872,2879)
                                    TermExpressionTerm(TermExpressionTerm)(2872,2879)
                                      ListSelectorTerm(ListSelectorTerm)(2872,2879)
                                        ListSelector(ListSelector)(2872,2879)
                                          PsiElement('{')('{')(2872,2873)
                                          TermExpression(TermExpression)(2873,2878)
                                            TermExpressionTerm(TermExpressionTerm)(2873,2878)
                                              InvocationTerm(InvocationTerm)(2873,2878)
                                                FunctionInvocation(FunctionInvocation)(2873,2878)
                                                  Function(Function)(2873,2878)
                                                    ReferentialIdentifier(ReferentialIdentifier)(2873,2874)
                                                      Identifier(Identifier)(2873,2874)
                                                        PsiElement(IDENTIFIER)('c')(2873,2874)
                                                    PsiElement('(')('(')(2874,2875)
                                                    ParamList(ParamList)(2875,2877)
                                                      TermExpression(TermExpression)(2875,2877)
                                                        TermExpressionTerm(TermExpressionTerm)(2875,2877)
                                                          InvocationTerm(InvocationTerm)(2875,2877)
                                                            MemberInvocation(MemberInvocation)(2875,2877)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2875,2877)
                                                                Identifier(Identifier)(2875,2877)
                                                                  PsiElement(IDENTIFIER)('id')(2875,2877)
                                                    PsiElement(')')(')')(2877,2878)
                                          PsiElement('}')('}')(2878,2879)
                                  PsiElement(',')(',')(2879,2880)
                                  PsiWhiteSpace(' ')(2880,2881)
                                  TermExpression(TermExpression)(2881,2936)
                                    TermExpressionTerm(TermExpressionTerm)(2881,2936)
                                      InvocationTerm(InvocationTerm)(2881,2936)
                                        FunctionInvocation(FunctionInvocation)(2881,2936)
                                          Function(Function)(2881,2936)
                                            ReferentialIdentifier(ReferentialIdentifier)(2881,2886)
                                              Identifier(Identifier)(2881,2886)
                                                PsiElement(IDENTIFIER)('ToUrl')(2881,2886)
                                            PsiElement('(')('(')(2886,2887)
                                            ParamList(ParamList)(2887,2935)
                                              TermExpression(TermExpression)(2887,2935)
                                                TermExpressionTerm(TermExpressionTerm)(2887,2935)
                                                  LiteralTerm(LiteralTerm)(2887,2935)
                                                    StringLiteral(StringLiteral)(2887,2935)
                                                      PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(2887,2935)
                                            PsiElement(')')(')')(2935,2936)
                                PsiElement(')')(')')(2936,2937)
                    PsiElement(')')(')')(2937,2938)
    PsiWhiteSpace('\n\n\n\n')(2938,2942)
    Statement(Statement)(2942,3258)
      FunctionDefinition(FunctionDefinition)(2942,3258)
        PsiElement('define')('define')(2942,2948)
        PsiWhiteSpace(' ')(2948,2949)
        PsiElement('function')('function')(2949,2957)
        PsiWhiteSpace(' ')(2957,2958)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2958,2980)
          Identifier(Identifier)(2958,2980)
            PsiElement(IDENTIFIER)('GetHistoricObservation')(2958,2980)
        PsiElement('(')('(')(2980,2981)
        OperandDefinition(OperandDefinition)(2981,2998)
          ReferentialIdentifier(ReferentialIdentifier)(2981,2987)
            Identifier(Identifier)(2981,2987)
              PsiElement(IDENTIFIER)('idlist')(2981,2987)
          PsiWhiteSpace(' ')(2987,2988)
          TypeSpecifier(TypeSpecifier)(2988,2998)
            ListTypeSpecifier(ListTypeSpecifier)(2988,2998)
              PsiElement('List')('List')(2988,2992)
              PsiElement('<')('<')(2992,2993)
              TypeSpecifier(TypeSpecifier)(2993,2997)
                NamedTypeSpecifier(NamedTypeSpecifier)(2993,2997)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2993,2997)
                    ReferentialIdentifier(ReferentialIdentifier)(2993,2997)
                      KeywordIdentifier(KeywordIdentifier)(2993,2997)
                        PsiElement('code')('code')(2993,2997)
              PsiElement('>')('>')(2997,2998)
        PsiElement(',')(',')(2998,2999)
        PsiWhiteSpace(' ')(2999,3000)
        OperandDefinition(OperandDefinition)(3000,3019)
          ReferentialIdentifier(ReferentialIdentifier)(3000,3010)
            KeywordIdentifier(KeywordIdentifier)(3000,3010)
              PsiElement('codesystem')('codesystem')(3000,3010)
          PsiWhiteSpace(' ')(3010,3011)
          TypeSpecifier(TypeSpecifier)(3011,3019)
            NamedTypeSpecifier(NamedTypeSpecifier)(3011,3019)
              Qualifier(Qualifier)(3011,3015)
                Identifier(Identifier)(3011,3015)
                  PsiElement(IDENTIFIER)('FHIR')(3011,3015)
              PsiElement('.')('.')(3015,3016)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3016,3019)
                ReferentialIdentifier(ReferentialIdentifier)(3016,3019)
                  Identifier(Identifier)(3016,3019)
                    PsiElement(IDENTIFIER)('url')(3016,3019)
        PsiElement(',')(',')(3019,3020)
        PsiWhiteSpace(' ')(3020,3021)
        OperandDefinition(OperandDefinition)(3021,3035)
          ReferentialIdentifier(ReferentialIdentifier)(3021,3027)
            Identifier(Identifier)(3021,3027)
              PsiElement(IDENTIFIER)('nbdays')(3021,3027)
          PsiWhiteSpace(' ')(3027,3028)
          TypeSpecifier(TypeSpecifier)(3028,3035)
            NamedTypeSpecifier(NamedTypeSpecifier)(3028,3035)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3028,3035)
                ReferentialIdentifier(ReferentialIdentifier)(3028,3035)
                  Identifier(Identifier)(3028,3035)
                    PsiElement(IDENTIFIER)('Integer')(3028,3035)
        PsiElement(')')(')')(3035,3036)
        PsiElement(':')(':')(3036,3037)
        PsiWhiteSpace('\n  ')(3037,3040)
        FunctionBody(FunctionBody)(3040,3258)
          TermExpression(TermExpression)(3040,3258)
            IfThenElseExpressionTerm(IfThenElseExpressionTerm)(3040,3258)
              PsiElement('if')('if')(3040,3042)
              PsiWhiteSpace(' ')(3042,3043)
              BooleanExpression(BooleanExpression)(3043,3112)
                TermExpression(TermExpression)(3043,3104)
                  TermExpressionTerm(TermExpressionTerm)(3043,3104)
                    InvocationTerm(InvocationTerm)(3043,3104)
                      FunctionInvocation(FunctionInvocation)(3043,3104)
                        Function(Function)(3043,3104)
                          ReferentialIdentifier(ReferentialIdentifier)(3043,3073)
                            Identifier(Identifier)(3043,3073)
                              PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3043,3073)
                          PsiElement('(')('(')(3073,3074)
                          ParamList(ParamList)(3074,3102)
                            TermExpression(TermExpression)(3074,3080)
                              TermExpressionTerm(TermExpressionTerm)(3074,3080)
                                InvocationTerm(InvocationTerm)(3074,3080)
                                  MemberInvocation(MemberInvocation)(3074,3080)
                                    ReferentialIdentifier(ReferentialIdentifier)(3074,3080)
                                      Identifier(Identifier)(3074,3080)
                                        PsiElement(IDENTIFIER)('idlist')(3074,3080)
                            PsiWhiteSpace(' ')(3080,3081)
                            PsiElement(',')(',')(3081,3082)
                            PsiWhiteSpace(' ')(3082,3083)
                            TermExpression(TermExpression)(3083,3093)
                              TermExpressionTerm(TermExpressionTerm)(3083,3093)
                                InvocationTerm(InvocationTerm)(3083,3093)
                                  MemberInvocation(MemberInvocation)(3083,3093)
                                    ReferentialIdentifier(ReferentialIdentifier)(3083,3093)
                                      KeywordIdentifier(KeywordIdentifier)(3083,3093)
                                        PsiElement('codesystem')('codesystem')(3083,3093)
                            PsiWhiteSpace(' ')(3093,3094)
                            PsiElement(',')(',')(3094,3095)
                            PsiWhiteSpace(' ')(3095,3096)
                            TermExpression(TermExpression)(3096,3102)
                              TermExpressionTerm(TermExpressionTerm)(3096,3102)
                                InvocationTerm(InvocationTerm)(3096,3102)
                                  MemberInvocation(MemberInvocation)(3096,3102)
                                    ReferentialIdentifier(ReferentialIdentifier)(3096,3102)
                                      Identifier(Identifier)(3096,3102)
                                        PsiElement(IDENTIFIER)('nbdays')(3096,3102)
                          PsiWhiteSpace(' ')(3102,3103)
                          PsiElement(')')(')')(3103,3104)
                PsiWhiteSpace(' ')(3104,3105)
                PsiElement('is')('is')(3105,3107)
                PsiWhiteSpace(' ')(3107,3108)
                PsiElement('null')('null')(3108,3112)
              PsiWhiteSpace(' ')(3112,3113)
              PsiElement('then')('then')(3113,3117)
              PsiWhiteSpace('\n      ')(3117,3124)
              TermExpression(TermExpression)(3124,3185)
                TermExpressionTerm(TermExpressionTerm)(3124,3185)
                  InvocationTerm(InvocationTerm)(3124,3185)
                    FunctionInvocation(FunctionInvocation)(3124,3185)
                      Function(Function)(3124,3185)
                        ReferentialIdentifier(ReferentialIdentifier)(3124,3154)
                          Identifier(Identifier)(3124,3154)
                            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3124,3154)
                        PsiElement('(')('(')(3154,3155)
                        ParamList(ParamList)(3155,3183)
                          TermExpression(TermExpression)(3155,3161)
                            TermExpressionTerm(TermExpressionTerm)(3155,3161)
                              InvocationTerm(InvocationTerm)(3155,3161)
                                MemberInvocation(MemberInvocation)(3155,3161)
                                  ReferentialIdentifier(ReferentialIdentifier)(3155,3161)
                                    Identifier(Identifier)(3155,3161)
                                      PsiElement(IDENTIFIER)('idlist')(3155,3161)
                          PsiWhiteSpace(' ')(3161,3162)
                          PsiElement(',')(',')(3162,3163)
                          PsiWhiteSpace(' ')(3163,3164)
                          TermExpression(TermExpression)(3164,3174)
                            TermExpressionTerm(TermExpressionTerm)(3164,3174)
                              InvocationTerm(InvocationTerm)(3164,3174)
                                MemberInvocation(MemberInvocation)(3164,3174)
                                  ReferentialIdentifier(ReferentialIdentifier)(3164,3174)
                                    KeywordIdentifier(KeywordIdentifier)(3164,3174)
                                      PsiElement('codesystem')('codesystem')(3164,3174)
                          PsiWhiteSpace(' ')(3174,3175)
                          PsiElement(',')(',')(3175,3176)
                          PsiWhiteSpace(' ')(3176,3177)
                          TermExpression(TermExpression)(3177,3183)
                            TermExpressionTerm(TermExpressionTerm)(3177,3183)
                              InvocationTerm(InvocationTerm)(3177,3183)
                                MemberInvocation(MemberInvocation)(3177,3183)
                                  ReferentialIdentifier(ReferentialIdentifier)(3177,3183)
                                    Identifier(Identifier)(3177,3183)
                                      PsiElement(IDENTIFIER)('nbdays')(3177,3183)
                        PsiWhiteSpace(' ')(3183,3184)
                        PsiElement(')')(')')(3184,3185)
              PsiWhiteSpace('\n  ')(3185,3188)
              PsiElement('else')('else')(3188,3192)
              PsiWhiteSpace('\n    ')(3192,3197)
              TermExpression(TermExpression)(3197,3258)
                TermExpressionTerm(TermExpressionTerm)(3197,3258)
                  InvocationTerm(InvocationTerm)(3197,3258)
                    FunctionInvocation(FunctionInvocation)(3197,3258)
                      Function(Function)(3197,3258)
                        ReferentialIdentifier(ReferentialIdentifier)(3197,3227)
                          Identifier(Identifier)(3197,3227)
                            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3197,3227)
                        PsiElement('(')('(')(3227,3228)
                        ParamList(ParamList)(3228,3256)
                          TermExpression(TermExpression)(3228,3234)
                            TermExpressionTerm(TermExpressionTerm)(3228,3234)
                              InvocationTerm(InvocationTerm)(3228,3234)
                                MemberInvocation(MemberInvocation)(3228,3234)
                                  ReferentialIdentifier(ReferentialIdentifier)(3228,3234)
                                    Identifier(Identifier)(3228,3234)
                                      PsiElement(IDENTIFIER)('idlist')(3228,3234)
                          PsiWhiteSpace(' ')(3234,3235)
                          PsiElement(',')(',')(3235,3236)
                          PsiWhiteSpace(' ')(3236,3237)
                          TermExpression(TermExpression)(3237,3247)
                            TermExpressionTerm(TermExpressionTerm)(3237,3247)
                              InvocationTerm(InvocationTerm)(3237,3247)
                                MemberInvocation(MemberInvocation)(3237,3247)
                                  ReferentialIdentifier(ReferentialIdentifier)(3237,3247)
                                    KeywordIdentifier(KeywordIdentifier)(3237,3247)
                                      PsiElement('codesystem')('codesystem')(3237,3247)
                          PsiWhiteSpace(' ')(3247,3248)
                          PsiElement(',')(',')(3248,3249)
                          PsiWhiteSpace(' ')(3249,3250)
                          TermExpression(TermExpression)(3250,3256)
                            TermExpressionTerm(TermExpressionTerm)(3250,3256)
                              InvocationTerm(InvocationTerm)(3250,3256)
                                MemberInvocation(MemberInvocation)(3250,3256)
                                  ReferentialIdentifier(ReferentialIdentifier)(3250,3256)
                                    Identifier(Identifier)(3250,3256)
                                      PsiElement(IDENTIFIER)('nbdays')(3250,3256)
                        PsiWhiteSpace(' ')(3256,3257)
                        PsiElement(')')(')')(3257,3258)
    PsiWhiteSpace('\n\n')(3258,3260)
    Statement(Statement)(3260,3611)
      FunctionDefinition(FunctionDefinition)(3260,3611)
        PsiElement('define')('define')(3260,3266)
        PsiWhiteSpace(' ')(3266,3267)
        PsiElement('function')('function')(3267,3275)
        PsiWhiteSpace(' ')(3275,3276)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(3276,3302)
          Identifier(Identifier)(3276,3302)
            PsiElement(IDENTIFIER)('GetHistoricObservationDone')(3276,3302)
        PsiElement('(')('(')(3302,3303)
        OperandDefinition(OperandDefinition)(3303,3320)
          ReferentialIdentifier(ReferentialIdentifier)(3303,3309)
            Identifier(Identifier)(3303,3309)
              PsiElement(IDENTIFIER)('idlist')(3303,3309)
          PsiWhiteSpace(' ')(3309,3310)
          TypeSpecifier(TypeSpecifier)(3310,3320)
            ListTypeSpecifier(ListTypeSpecifier)(3310,3320)
              PsiElement('List')('List')(3310,3314)
              PsiElement('<')('<')(3314,3315)
              TypeSpecifier(TypeSpecifier)(3315,3319)
                NamedTypeSpecifier(NamedTypeSpecifier)(3315,3319)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3315,3319)
                    ReferentialIdentifier(ReferentialIdentifier)(3315,3319)
                      KeywordIdentifier(KeywordIdentifier)(3315,3319)
                        PsiElement('code')('code')(3315,3319)
              PsiElement('>')('>')(3319,3320)
        PsiElement(',')(',')(3320,3321)
        PsiWhiteSpace(' ')(3321,3322)
        OperandDefinition(OperandDefinition)(3322,3341)
          ReferentialIdentifier(ReferentialIdentifier)(3322,3332)
            KeywordIdentifier(KeywordIdentifier)(3322,3332)
              PsiElement('codesystem')('codesystem')(3322,3332)
          PsiWhiteSpace(' ')(3332,3333)
          TypeSpecifier(TypeSpecifier)(3333,3341)
            NamedTypeSpecifier(NamedTypeSpecifier)(3333,3341)
              Qualifier(Qualifier)(3333,3337)
                Identifier(Identifier)(3333,3337)
                  PsiElement(IDENTIFIER)('FHIR')(3333,3337)
              PsiElement('.')('.')(3337,3338)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3338,3341)
                ReferentialIdentifier(ReferentialIdentifier)(3338,3341)
                  Identifier(Identifier)(3338,3341)
                    PsiElement(IDENTIFIER)('url')(3338,3341)
        PsiElement(',')(',')(3341,3342)
        PsiWhiteSpace(' ')(3342,3343)
        OperandDefinition(OperandDefinition)(3343,3357)
          ReferentialIdentifier(ReferentialIdentifier)(3343,3349)
            Identifier(Identifier)(3343,3349)
              PsiElement(IDENTIFIER)('nbdays')(3343,3349)
          PsiWhiteSpace(' ')(3349,3350)
          TypeSpecifier(TypeSpecifier)(3350,3357)
            NamedTypeSpecifier(NamedTypeSpecifier)(3350,3357)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3350,3357)
                ReferentialIdentifier(ReferentialIdentifier)(3350,3357)
                  Identifier(Identifier)(3350,3357)
                    PsiElement(IDENTIFIER)('Integer')(3350,3357)
        PsiElement(')')(')')(3357,3358)
        PsiElement(':')(':')(3358,3359)
        PsiWhiteSpace('\n      ')(3359,3366)
        FunctionBody(FunctionBody)(3366,3611)
          TermExpression(TermExpression)(3366,3611)
            TermExpressionTerm(TermExpressionTerm)(3366,3611)
              InvocationTerm(InvocationTerm)(3366,3611)
                FunctionInvocation(FunctionInvocation)(3366,3611)
                  Function(Function)(3366,3611)
                    ReferentialIdentifier(ReferentialIdentifier)(3366,3370)
                      Identifier(Identifier)(3366,3370)
                        PsiElement(IDENTIFIER)('Last')(3366,3370)
                    PsiElement('(')('(')(3370,3371)
                    ParamList(ParamList)(3371,3610)
                      QueryExpression(QueryExpression)(3371,3610)
                        Query(Query)(3371,3610)
                          SourceClause(SourceClause)(3371,3386)
                            AliasedQuerySource(AliasedQuerySource)(3371,3386)
                              QuerySource(QuerySource)(3371,3384)
                                Retrieve(Retrieve)(3371,3384)
                                  PsiElement('[')('[')(3371,3372)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(3372,3383)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3372,3383)
                                      ReferentialIdentifier(ReferentialIdentifier)(3372,3383)
                                        Identifier(Identifier)(3372,3383)
                                          PsiElement(IDENTIFIER)('Observation')(3372,3383)
                                  PsiElement(']')(']')(3383,3384)
                              PsiWhiteSpace(' ')(3384,3385)
                              Alias(Alias)(3385,3386)
                                Identifier(Identifier)(3385,3386)
                                  PsiElement(IDENTIFIER)('O')(3385,3386)
                          PsiWhiteSpace('\n        ')(3386,3395)
                          WhereClause(WhereClause)(3395,3610)
                            PsiElement('where')('where')(3395,3400)
                            PsiWhiteSpace('  ')(3400,3402)
                            AndExpression(AndExpression)(3402,3610)
                              AndExpression(AndExpression)(3402,3517)
                                MembershipExpression(MembershipExpression)(3402,3448)
                                  TermExpression(TermExpression)(3402,3410)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3402,3410)
                                      TermExpressionTerm(TermExpressionTerm)(3402,3403)
                                        InvocationTerm(InvocationTerm)(3402,3403)
                                          MemberInvocation(MemberInvocation)(3402,3403)
                                            ReferentialIdentifier(ReferentialIdentifier)(3402,3403)
                                              Identifier(Identifier)(3402,3403)
                                                PsiElement(IDENTIFIER)('O')(3402,3403)
                                      PsiElement('.')('.')(3403,3404)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3404,3410)
                                        ReferentialIdentifier(ReferentialIdentifier)(3404,3410)
                                          Identifier(Identifier)(3404,3410)
                                            PsiElement(IDENTIFIER)('status')(3404,3410)
                                  PsiWhiteSpace(' ')(3410,3411)
                                  PsiElement('in')('in')(3411,3413)
                                  PsiWhiteSpace(' ')(3413,3414)
                                  TermExpression(TermExpression)(3414,3448)
                                    TermExpressionTerm(TermExpressionTerm)(3414,3448)
                                      ListSelectorTerm(ListSelectorTerm)(3414,3448)
                                        ListSelector(ListSelector)(3414,3448)
                                          PsiElement('{')('{')(3414,3415)
                                          PsiWhiteSpace(' ')(3415,3416)
                                          TermExpression(TermExpression)(3416,3423)
                                            TermExpressionTerm(TermExpressionTerm)(3416,3423)
                                              LiteralTerm(LiteralTerm)(3416,3423)
                                                StringLiteral(StringLiteral)(3416,3423)
                                                  PsiElement(STRING)(''final'')(3416,3423)
                                          PsiElement(',')(',')(3423,3424)
                                          PsiWhiteSpace(' ')(3424,3425)
                                          TermExpression(TermExpression)(3425,3434)
                                            TermExpressionTerm(TermExpressionTerm)(3425,3434)
                                              LiteralTerm(LiteralTerm)(3425,3434)
                                                StringLiteral(StringLiteral)(3425,3434)
                                                  PsiElement(STRING)(''amended'')(3425,3434)
                                          PsiElement(',')(',')(3434,3435)
                                          PsiWhiteSpace(' ')(3435,3436)
                                          TermExpression(TermExpression)(3436,3447)
                                            TermExpressionTerm(TermExpressionTerm)(3436,3447)
                                              LiteralTerm(LiteralTerm)(3436,3447)
                                                StringLiteral(StringLiteral)(3436,3447)
                                                  PsiElement(STRING)(''corrected'')(3436,3447)
                                          PsiElement('}')('}')(3447,3448)
                                PsiWhiteSpace('\n        ')(3448,3457)
                                PsiElement('and')('and')(3457,3460)
                                PsiWhiteSpace(' ')(3460,3461)
                                InequalityExpression(InequalityExpression)(3461,3517)
                                  DifferenceBetweenExpression(DifferenceBetweenExpression)(3461,3508)
                                    PsiElement('difference')('difference')(3461,3471)
                                    PsiWhiteSpace(' ')(3471,3472)
                                    PsiElement('in')('in')(3472,3474)
                                    PsiWhiteSpace(' ')(3474,3475)
                                    PluralDateTimePrecision(PluralDateTimePrecision)(3475,3479)
                                      PsiElement('days')('days')(3475,3479)
                                    PsiWhiteSpace(' ')(3479,3480)
                                    PsiElement('between')('between')(3480,3487)
                                    PsiWhiteSpace(' ')(3487,3488)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3488,3496)
                                      TermExpressionTerm(TermExpressionTerm)(3488,3489)
                                        InvocationTerm(InvocationTerm)(3488,3489)
                                          MemberInvocation(MemberInvocation)(3488,3489)
                                            ReferentialIdentifier(ReferentialIdentifier)(3488,3489)
                                              Identifier(Identifier)(3488,3489)
                                                PsiElement(IDENTIFIER)('O')(3488,3489)
                                      PsiElement('.')('.')(3489,3490)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3490,3496)
                                        ReferentialIdentifier(ReferentialIdentifier)(3490,3496)
                                          Identifier(Identifier)(3490,3496)
                                            PsiElement(IDENTIFIER)('issued')(3490,3496)
                                    PsiWhiteSpace(' ')(3496,3497)
                                    PsiElement('and')('and')(3497,3500)
                                    PsiWhiteSpace(' ')(3500,3501)
                                    TermExpressionTerm(TermExpressionTerm)(3501,3508)
                                      InvocationTerm(InvocationTerm)(3501,3508)
                                        FunctionInvocation(FunctionInvocation)(3501,3508)
                                          Function(Function)(3501,3508)
                                            ReferentialIdentifier(ReferentialIdentifier)(3501,3506)
                                              Identifier(Identifier)(3501,3506)
                                                PsiElement(IDENTIFIER)('Today')(3501,3506)
                                            PsiElement('(')('(')(3506,3507)
                                            PsiElement(')')(')')(3507,3508)
                                  PsiWhiteSpace(' ')(3508,3509)
                                  PsiElement('<')('<')(3509,3510)
                                  PsiWhiteSpace(' ')(3510,3511)
                                  TermExpression(TermExpression)(3511,3517)
                                    TermExpressionTerm(TermExpressionTerm)(3511,3517)
                                      InvocationTerm(InvocationTerm)(3511,3517)
                                        MemberInvocation(MemberInvocation)(3511,3517)
                                          ReferentialIdentifier(ReferentialIdentifier)(3511,3517)
                                            Identifier(Identifier)(3511,3517)
                                              PsiElement(IDENTIFIER)('nbdays')(3511,3517)
                              PsiWhiteSpace('\n        ')(3517,3526)
                              PsiElement('and')('and')(3526,3529)
                              PsiWhiteSpace(' ')(3529,3530)
                              ExistenceExpression(ExistenceExpression)(3530,3610)
                                PsiElement('exists')('exists')(3530,3536)
                                TermExpression(TermExpression)(3536,3610)
                                  TermExpressionTerm(TermExpressionTerm)(3536,3610)
                                    ParenthesizedTerm(ParenthesizedTerm)(3536,3610)
                                      PsiElement('(')('(')(3536,3537)
                                      QueryExpression(QueryExpression)(3537,3609)
                                        Query(Query)(3537,3609)
                                          SourceClause(SourceClause)(3537,3552)
                                            AliasedQuerySource(AliasedQuerySource)(3537,3552)
                                              QuerySource(QuerySource)(3537,3550)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(3537,3550)
                                                  QualifierExpression(QualifierExpression)(3537,3538)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3537,3538)
                                                      Identifier(Identifier)(3537,3538)
                                                        PsiElement(IDENTIFIER)('O')(3537,3538)
                                                  PsiElement('.')('.')(3538,3539)
                                                  QualifierExpression(QualifierExpression)(3539,3543)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3539,3543)
                                                      KeywordIdentifier(KeywordIdentifier)(3539,3543)
                                                        PsiElement('code')('code')(3539,3543)
                                                  PsiElement('.')('.')(3543,3544)
                                                  ReferentialIdentifier(ReferentialIdentifier)(3544,3550)
                                                    Identifier(Identifier)(3544,3550)
                                                      PsiElement(IDENTIFIER)('coding')(3544,3550)
                                              PsiWhiteSpace(' ')(3550,3551)
                                              Alias(Alias)(3551,3552)
                                                Identifier(Identifier)(3551,3552)
                                                  PsiElement(IDENTIFIER)('C')(3551,3552)
                                          PsiWhiteSpace(' ')(3552,3553)
                                          WhereClause(WhereClause)(3553,3609)
                                            PsiElement('where')('where')(3553,3558)
                                            PsiWhiteSpace(' ')(3558,3559)
                                            AndExpression(AndExpression)(3559,3609)
                                              MembershipExpression(MembershipExpression)(3559,3575)
                                                TermExpression(TermExpression)(3559,3565)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3559,3565)
                                                    TermExpressionTerm(TermExpressionTerm)(3559,3560)
                                                      InvocationTerm(InvocationTerm)(3559,3560)
                                                        MemberInvocation(MemberInvocation)(3559,3560)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3559,3560)
                                                            Identifier(Identifier)(3559,3560)
                                                              PsiElement(IDENTIFIER)('C')(3559,3560)
                                                    PsiElement('.')('.')(3560,3561)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3561,3565)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3561,3565)
                                                        KeywordIdentifier(KeywordIdentifier)(3561,3565)
                                                          PsiElement('code')('code')(3561,3565)
                                                PsiWhiteSpace(' ')(3565,3566)
                                                PsiElement('in')('in')(3566,3568)
                                                PsiWhiteSpace(' ')(3568,3569)
                                                TermExpression(TermExpression)(3569,3575)
                                                  TermExpressionTerm(TermExpressionTerm)(3569,3575)
                                                    InvocationTerm(InvocationTerm)(3569,3575)
                                                      MemberInvocation(MemberInvocation)(3569,3575)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3569,3575)
                                                          Identifier(Identifier)(3569,3575)
                                                            PsiElement(IDENTIFIER)('idlist')(3569,3575)
                                              PsiWhiteSpace('\n        ')(3575,3584)
                                              PsiElement('and')('and')(3584,3587)
                                              PsiWhiteSpace(' ')(3587,3588)
                                              EqualityExpression(EqualityExpression)(3588,3609)
                                                TermExpression(TermExpression)(3588,3596)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3588,3596)
                                                    TermExpressionTerm(TermExpressionTerm)(3588,3589)
                                                      InvocationTerm(InvocationTerm)(3588,3589)
                                                        MemberInvocation(MemberInvocation)(3588,3589)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3588,3589)
                                                            Identifier(Identifier)(3588,3589)
                                                              PsiElement(IDENTIFIER)('C')(3588,3589)
                                                    PsiElement('.')('.')(3589,3590)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3590,3596)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3590,3596)
                                                        Identifier(Identifier)(3590,3596)
                                                          PsiElement(IDENTIFIER)('system')(3590,3596)
                                                PsiWhiteSpace(' ')(3596,3597)
                                                PsiElement('=')('=')(3597,3598)
                                                PsiWhiteSpace(' ')(3598,3599)
                                                TermExpression(TermExpression)(3599,3609)
                                                  TermExpressionTerm(TermExpressionTerm)(3599,3609)
                                                    InvocationTerm(InvocationTerm)(3599,3609)
                                                      MemberInvocation(MemberInvocation)(3599,3609)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3599,3609)
                                                          KeywordIdentifier(KeywordIdentifier)(3599,3609)
                                                            PsiElement('codesystem')('codesystem')(3599,3609)
                                      PsiElement(')')(')')(3609,3610)
                    PsiElement(')')(')')(3610,3611)
    PsiWhiteSpace('\n\n')(3611,3613)
    Statement(Statement)(3613,3953)
      FunctionDefinition(FunctionDefinition)(3613,3953)
        PsiElement('define')('define')(3613,3619)
        PsiWhiteSpace(' ')(3619,3620)
        PsiElement('function')('function')(3620,3628)
        PsiWhiteSpace(' ')(3628,3629)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(3629,3659)
          Identifier(Identifier)(3629,3659)
            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3629,3659)
        PsiElement('(')('(')(3659,3660)
        OperandDefinition(OperandDefinition)(3660,3677)
          ReferentialIdentifier(ReferentialIdentifier)(3660,3666)
            Identifier(Identifier)(3660,3666)
              PsiElement(IDENTIFIER)('idlist')(3660,3666)
          PsiWhiteSpace(' ')(3666,3667)
          TypeSpecifier(TypeSpecifier)(3667,3677)
            ListTypeSpecifier(ListTypeSpecifier)(3667,3677)
              PsiElement('List')('List')(3667,3671)
              PsiElement('<')('<')(3671,3672)
              TypeSpecifier(TypeSpecifier)(3672,3676)
                NamedTypeSpecifier(NamedTypeSpecifier)(3672,3676)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3672,3676)
                    ReferentialIdentifier(ReferentialIdentifier)(3672,3676)
                      KeywordIdentifier(KeywordIdentifier)(3672,3676)
                        PsiElement('code')('code')(3672,3676)
              PsiElement('>')('>')(3676,3677)
        PsiElement(',')(',')(3677,3678)
        PsiWhiteSpace(' ')(3678,3679)
        OperandDefinition(OperandDefinition)(3679,3698)
          ReferentialIdentifier(ReferentialIdentifier)(3679,3689)
            KeywordIdentifier(KeywordIdentifier)(3679,3689)
              PsiElement('codesystem')('codesystem')(3679,3689)
          PsiWhiteSpace(' ')(3689,3690)
          TypeSpecifier(TypeSpecifier)(3690,3698)
            NamedTypeSpecifier(NamedTypeSpecifier)(3690,3698)
              Qualifier(Qualifier)(3690,3694)
                Identifier(Identifier)(3690,3694)
                  PsiElement(IDENTIFIER)('FHIR')(3690,3694)
              PsiElement('.')('.')(3694,3695)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3695,3698)
                ReferentialIdentifier(ReferentialIdentifier)(3695,3698)
                  Identifier(Identifier)(3695,3698)
                    PsiElement(IDENTIFIER)('url')(3695,3698)
        PsiElement(',')(',')(3698,3699)
        PsiWhiteSpace(' ')(3699,3700)
        OperandDefinition(OperandDefinition)(3700,3714)
          ReferentialIdentifier(ReferentialIdentifier)(3700,3706)
            Identifier(Identifier)(3700,3706)
              PsiElement(IDENTIFIER)('nbdays')(3700,3706)
          PsiWhiteSpace(' ')(3706,3707)
          TypeSpecifier(TypeSpecifier)(3707,3714)
            NamedTypeSpecifier(NamedTypeSpecifier)(3707,3714)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3707,3714)
                ReferentialIdentifier(ReferentialIdentifier)(3707,3714)
                  Identifier(Identifier)(3707,3714)
                    PsiElement(IDENTIFIER)('Integer')(3707,3714)
        PsiElement(')')(')')(3714,3715)
        PsiElement(':')(':')(3715,3716)
        PsiWhiteSpace('\n      ')(3716,3723)
        FunctionBody(FunctionBody)(3723,3953)
          TermExpression(TermExpression)(3723,3953)
            TermExpressionTerm(TermExpressionTerm)(3723,3953)
              InvocationTerm(InvocationTerm)(3723,3953)
                FunctionInvocation(FunctionInvocation)(3723,3953)
                  Function(Function)(3723,3953)
                    ReferentialIdentifier(ReferentialIdentifier)(3723,3727)
                      Identifier(Identifier)(3723,3727)
                        PsiElement(IDENTIFIER)('Last')(3723,3727)
                    PsiElement('(')('(')(3727,3728)
                    ParamList(ParamList)(3728,3952)
                      QueryExpression(QueryExpression)(3728,3952)
                        Query(Query)(3728,3952)
                          SourceClause(SourceClause)(3728,3743)
                            AliasedQuerySource(AliasedQuerySource)(3728,3743)
                              QuerySource(QuerySource)(3728,3741)
                                Retrieve(Retrieve)(3728,3741)
                                  PsiElement('[')('[')(3728,3729)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(3729,3740)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3729,3740)
                                      ReferentialIdentifier(ReferentialIdentifier)(3729,3740)
                                        Identifier(Identifier)(3729,3740)
                                          PsiElement(IDENTIFIER)('Observation')(3729,3740)
                                  PsiElement(']')(']')(3740,3741)
                              PsiWhiteSpace(' ')(3741,3742)
                              Alias(Alias)(3742,3743)
                                Identifier(Identifier)(3742,3743)
                                  PsiElement(IDENTIFIER)('O')(3742,3743)
                          PsiWhiteSpace('\n        ')(3743,3752)
                          WhereClause(WhereClause)(3752,3952)
                            PsiElement('where')('where')(3752,3757)
                            PsiWhiteSpace('  ')(3757,3759)
                            AndExpression(AndExpression)(3759,3952)
                              AndExpression(AndExpression)(3759,3855)
                                MembershipExpression(MembershipExpression)(3759,3784)
                                  TermExpression(TermExpression)(3759,3767)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3759,3767)
                                      TermExpressionTerm(TermExpressionTerm)(3759,3760)
                                        InvocationTerm(InvocationTerm)(3759,3760)
                                          MemberInvocation(MemberInvocation)(3759,3760)
                                            ReferentialIdentifier(ReferentialIdentifier)(3759,3760)
                                              Identifier(Identifier)(3759,3760)
                                                PsiElement(IDENTIFIER)('O')(3759,3760)
                                      PsiElement('.')('.')(3760,3761)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3761,3767)
                                        ReferentialIdentifier(ReferentialIdentifier)(3761,3767)
                                          Identifier(Identifier)(3761,3767)
                                            PsiElement(IDENTIFIER)('status')(3761,3767)
                                  PsiWhiteSpace(' ')(3767,3768)
                                  PsiElement('in')('in')(3768,3770)
                                  PsiWhiteSpace(' ')(3770,3771)
                                  TermExpression(TermExpression)(3771,3784)
                                    TermExpressionTerm(TermExpressionTerm)(3771,3784)
                                      ListSelectorTerm(ListSelectorTerm)(3771,3784)
                                        ListSelector(ListSelector)(3771,3784)
                                          PsiElement('{')('{')(3771,3772)
                                          TermExpression(TermExpression)(3772,3783)
                                            TermExpressionTerm(TermExpressionTerm)(3772,3783)
                                              LiteralTerm(LiteralTerm)(3772,3783)
                                                StringLiteral(StringLiteral)(3772,3783)
                                                  PsiElement(STRING)(''cancelled'')(3772,3783)
                                          PsiElement('}')('}')(3783,3784)
                                PsiWhiteSpace('\n          ')(3784,3795)
                                PsiElement('and')('and')(3795,3798)
                                PsiWhiteSpace(' ')(3798,3799)
                                InequalityExpression(InequalityExpression)(3799,3855)
                                  DifferenceBetweenExpression(DifferenceBetweenExpression)(3799,3846)
                                    PsiElement('difference')('difference')(3799,3809)
                                    PsiWhiteSpace(' ')(3809,3810)
                                    PsiElement('in')('in')(3810,3812)
                                    PsiWhiteSpace(' ')(3812,3813)
                                    PluralDateTimePrecision(PluralDateTimePrecision)(3813,3817)
                                      PsiElement('days')('days')(3813,3817)
                                    PsiWhiteSpace(' ')(3817,3818)
                                    PsiElement('between')('between')(3818,3825)
                                    PsiWhiteSpace(' ')(3825,3826)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3826,3834)
                                      TermExpressionTerm(TermExpressionTerm)(3826,3827)
                                        InvocationTerm(InvocationTerm)(3826,3827)
                                          MemberInvocation(MemberInvocation)(3826,3827)
                                            ReferentialIdentifier(ReferentialIdentifier)(3826,3827)
                                              Identifier(Identifier)(3826,3827)
                                                PsiElement(IDENTIFIER)('O')(3826,3827)
                                      PsiElement('.')('.')(3827,3828)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3828,3834)
                                        ReferentialIdentifier(ReferentialIdentifier)(3828,3834)
                                          Identifier(Identifier)(3828,3834)
                                            PsiElement(IDENTIFIER)('issued')(3828,3834)
                                    PsiWhiteSpace(' ')(3834,3835)
                                    PsiElement('and')('and')(3835,3838)
                                    PsiWhiteSpace(' ')(3838,3839)
                                    TermExpressionTerm(TermExpressionTerm)(3839,3846)
                                      InvocationTerm(InvocationTerm)(3839,3846)
                                        FunctionInvocation(FunctionInvocation)(3839,3846)
                                          Function(Function)(3839,3846)
                                            ReferentialIdentifier(ReferentialIdentifier)(3839,3844)
                                              Identifier(Identifier)(3839,3844)
                                                PsiElement(IDENTIFIER)('Today')(3839,3844)
                                            PsiElement('(')('(')(3844,3845)
                                            PsiElement(')')(')')(3845,3846)
                                  PsiWhiteSpace(' ')(3846,3847)
                                  PsiElement('<')('<')(3847,3848)
                                  PsiWhiteSpace(' ')(3848,3849)
                                  TermExpression(TermExpression)(3849,3855)
                                    TermExpressionTerm(TermExpressionTerm)(3849,3855)
                                      InvocationTerm(InvocationTerm)(3849,3855)
                                        MemberInvocation(MemberInvocation)(3849,3855)
                                          ReferentialIdentifier(ReferentialIdentifier)(3849,3855)
                                            Identifier(Identifier)(3849,3855)
                                              PsiElement(IDENTIFIER)('nbdays')(3849,3855)
                              PsiWhiteSpace('\n          ')(3855,3866)
                              PsiElement('and')('and')(3866,3869)
                              PsiWhiteSpace(' ')(3869,3870)
                              ExistenceExpression(ExistenceExpression)(3870,3952)
                                PsiElement('exists')('exists')(3870,3876)
                                TermExpression(TermExpression)(3876,3952)
                                  TermExpressionTerm(TermExpressionTerm)(3876,3952)
                                    ParenthesizedTerm(ParenthesizedTerm)(3876,3952)
                                      PsiElement('(')('(')(3876,3877)
                                      QueryExpression(QueryExpression)(3877,3951)
                                        Query(Query)(3877,3951)
                                          SourceClause(SourceClause)(3877,3892)
                                            AliasedQuerySource(AliasedQuerySource)(3877,3892)
                                              QuerySource(QuerySource)(3877,3890)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(3877,3890)
                                                  QualifierExpression(QualifierExpression)(3877,3878)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3877,3878)
                                                      Identifier(Identifier)(3877,3878)
                                                        PsiElement(IDENTIFIER)('O')(3877,3878)
                                                  PsiElement('.')('.')(3878,3879)
                                                  QualifierExpression(QualifierExpression)(3879,3883)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3879,3883)
                                                      KeywordIdentifier(KeywordIdentifier)(3879,3883)
                                                        PsiElement('code')('code')(3879,3883)
                                                  PsiElement('.')('.')(3883,3884)
                                                  ReferentialIdentifier(ReferentialIdentifier)(3884,3890)
                                                    Identifier(Identifier)(3884,3890)
                                                      PsiElement(IDENTIFIER)('coding')(3884,3890)
                                              PsiWhiteSpace(' ')(3890,3891)
                                              Alias(Alias)(3891,3892)
                                                Identifier(Identifier)(3891,3892)
                                                  PsiElement(IDENTIFIER)('C')(3891,3892)
                                          PsiWhiteSpace(' ')(3892,3893)
                                          WhereClause(WhereClause)(3893,3951)
                                            PsiElement('where')('where')(3893,3898)
                                            PsiWhiteSpace(' ')(3898,3899)
                                            AndExpression(AndExpression)(3899,3951)
                                              MembershipExpression(MembershipExpression)(3899,3915)
                                                TermExpression(TermExpression)(3899,3905)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3899,3905)
                                                    TermExpressionTerm(TermExpressionTerm)(3899,3900)
                                                      InvocationTerm(InvocationTerm)(3899,3900)
                                                        MemberInvocation(MemberInvocation)(3899,3900)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3899,3900)
                                                            Identifier(Identifier)(3899,3900)
                                                              PsiElement(IDENTIFIER)('C')(3899,3900)
                                                    PsiElement('.')('.')(3900,3901)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3901,3905)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3901,3905)
                                                        KeywordIdentifier(KeywordIdentifier)(3901,3905)
                                                          PsiElement('code')('code')(3901,3905)
                                                PsiWhiteSpace(' ')(3905,3906)
                                                PsiElement('in')('in')(3906,3908)
                                                PsiWhiteSpace(' ')(3908,3909)
                                                TermExpression(TermExpression)(3909,3915)
                                                  TermExpressionTerm(TermExpressionTerm)(3909,3915)
                                                    InvocationTerm(InvocationTerm)(3909,3915)
                                                      MemberInvocation(MemberInvocation)(3909,3915)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3909,3915)
                                                          Identifier(Identifier)(3909,3915)
                                                            PsiElement(IDENTIFIER)('idlist')(3909,3915)
                                              PsiWhiteSpace('\n          ')(3915,3926)
                                              PsiElement('and')('and')(3926,3929)
                                              PsiWhiteSpace(' ')(3929,3930)
                                              EqualityExpression(EqualityExpression)(3930,3951)
                                                TermExpression(TermExpression)(3930,3938)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3930,3938)
                                                    TermExpressionTerm(TermExpressionTerm)(3930,3931)
                                                      InvocationTerm(InvocationTerm)(3930,3931)
                                                        MemberInvocation(MemberInvocation)(3930,3931)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3930,3931)
                                                            Identifier(Identifier)(3930,3931)
                                                              PsiElement(IDENTIFIER)('C')(3930,3931)
                                                    PsiElement('.')('.')(3931,3932)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3932,3938)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3932,3938)
                                                        Identifier(Identifier)(3932,3938)
                                                          PsiElement(IDENTIFIER)('system')(3932,3938)
                                                PsiWhiteSpace(' ')(3938,3939)
                                                PsiElement('=')('=')(3939,3940)
                                                PsiWhiteSpace(' ')(3940,3941)
                                                TermExpression(TermExpression)(3941,3951)
                                                  TermExpressionTerm(TermExpressionTerm)(3941,3951)
                                                    InvocationTerm(InvocationTerm)(3941,3951)
                                                      MemberInvocation(MemberInvocation)(3941,3951)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3941,3951)
                                                          KeywordIdentifier(KeywordIdentifier)(3941,3951)
                                                            PsiElement('codesystem')('codesystem')(3941,3951)
                                      PsiElement(')')(')')(3951,3952)
                    PsiElement(')')(')')(3952,3953)
    PsiWhiteSpace('\n\n\n')(3953,3956)
    PsiComment(LINE_COMMENT)('// ************************   PatientHasHistoryOfObservation ************************/')(3956,4042)
    PsiWhiteSpace('\n\n\n')(4042,4045)
    Statement(Statement)(4045,4219)
      FunctionDefinition(FunctionDefinition)(4045,4219)
        PsiElement('define')('define')(4045,4051)
        PsiWhiteSpace(' ')(4051,4052)
        PsiElement('function')('function')(4052,4060)
        PsiWhiteSpace(' ')(4060,4061)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4061,4074)
          Identifier(Identifier)(4061,4074)
            PsiElement(IDENTIFIER)('HasObsHistory')(4061,4074)
        PsiElement('(')('(')(4074,4075)
        OperandDefinition(OperandDefinition)(4075,4097)
          ReferentialIdentifier(ReferentialIdentifier)(4075,4081)
            Identifier(Identifier)(4075,4081)
              PsiElement(IDENTIFIER)('idlist')(4075,4081)
          PsiWhiteSpace(' ')(4081,4082)
          TypeSpecifier(TypeSpecifier)(4082,4097)
            ListTypeSpecifier(ListTypeSpecifier)(4082,4097)
              PsiElement('List')('List')(4082,4086)
              PsiElement('<')('<')(4086,4087)
              TypeSpecifier(TypeSpecifier)(4087,4096)
                NamedTypeSpecifier(NamedTypeSpecifier)(4087,4096)
                  Qualifier(Qualifier)(4087,4091)
                    Identifier(Identifier)(4087,4091)
                      PsiElement(IDENTIFIER)('FHIR')(4087,4091)
                  PsiElement('.')('.')(4091,4092)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4092,4096)
                    ReferentialIdentifier(ReferentialIdentifier)(4092,4096)
                      KeywordIdentifier(KeywordIdentifier)(4092,4096)
                        PsiElement('code')('code')(4092,4096)
              PsiElement('>')('>')(4096,4097)
        PsiElement(',')(',')(4097,4098)
        PsiWhiteSpace(' ')(4098,4099)
        OperandDefinition(OperandDefinition)(4099,4123)
          ReferentialIdentifier(ReferentialIdentifier)(4099,4109)
            KeywordIdentifier(KeywordIdentifier)(4099,4109)
              PsiElement('codesystem')('codesystem')(4099,4109)
          PsiWhiteSpace(' ')(4109,4110)
          TypeSpecifier(TypeSpecifier)(4110,4123)
            NamedTypeSpecifier(NamedTypeSpecifier)(4110,4123)
              Qualifier(Qualifier)(4110,4116)
                Identifier(Identifier)(4110,4116)
                  PsiElement(IDENTIFIER)('System')(4110,4116)
              PsiElement('.')('.')(4116,4117)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4117,4123)
                ReferentialIdentifier(ReferentialIdentifier)(4117,4123)
                  Identifier(Identifier)(4117,4123)
                    PsiElement(IDENTIFIER)('String')(4117,4123)
        PsiElement(',')(',')(4123,4124)
        PsiWhiteSpace(' ')(4124,4125)
        OperandDefinition(OperandDefinition)(4125,4139)
          ReferentialIdentifier(ReferentialIdentifier)(4125,4131)
            Identifier(Identifier)(4125,4131)
              PsiElement(IDENTIFIER)('nbdays')(4125,4131)
          PsiWhiteSpace(' ')(4131,4132)
          TypeSpecifier(TypeSpecifier)(4132,4139)
            NamedTypeSpecifier(NamedTypeSpecifier)(4132,4139)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4132,4139)
                ReferentialIdentifier(ReferentialIdentifier)(4132,4139)
                  Identifier(Identifier)(4132,4139)
                    PsiElement(IDENTIFIER)('Integer')(4132,4139)
        PsiElement(')')(')')(4139,4140)
        PsiElement(':')(':')(4140,4141)
        PsiWhiteSpace('\n  ')(4141,4144)
        FunctionBody(FunctionBody)(4144,4219)
          TermExpression(TermExpression)(4144,4219)
            TermExpressionTerm(TermExpressionTerm)(4144,4219)
              InvocationTerm(InvocationTerm)(4144,4219)
                FunctionInvocation(FunctionInvocation)(4144,4219)
                  Function(Function)(4144,4219)
                    ReferentialIdentifier(ReferentialIdentifier)(4144,4160)
                      Identifier(Identifier)(4144,4160)
                        PsiElement(IDENTIFIER)('assesObservation')(4144,4160)
                    PsiElement('(')('(')(4160,4161)
                    ParamList(ParamList)(4161,4218)
                      TermExpression(TermExpression)(4161,4218)
                        TermExpressionTerm(TermExpressionTerm)(4161,4218)
                          InvocationTerm(InvocationTerm)(4161,4218)
                            FunctionInvocation(FunctionInvocation)(4161,4218)
                              Function(Function)(4161,4218)
                                ReferentialIdentifier(ReferentialIdentifier)(4161,4183)
                                  Identifier(Identifier)(4161,4183)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4161,4183)
                                PsiElement('(')('(')(4183,4184)
                                ParamList(ParamList)(4184,4217)
                                  TermExpression(TermExpression)(4184,4190)
                                    TermExpressionTerm(TermExpressionTerm)(4184,4190)
                                      InvocationTerm(InvocationTerm)(4184,4190)
                                        MemberInvocation(MemberInvocation)(4184,4190)
                                          ReferentialIdentifier(ReferentialIdentifier)(4184,4190)
                                            Identifier(Identifier)(4184,4190)
                                              PsiElement(IDENTIFIER)('idlist')(4184,4190)
                                  PsiElement(',')(',')(4190,4191)
                                  PsiWhiteSpace(' ')(4191,4192)
                                  TermExpression(TermExpression)(4192,4209)
                                    TermExpressionTerm(TermExpressionTerm)(4192,4209)
                                      InvocationTerm(InvocationTerm)(4192,4209)
                                        FunctionInvocation(FunctionInvocation)(4192,4209)
                                          Function(Function)(4192,4209)
                                            ReferentialIdentifier(ReferentialIdentifier)(4192,4197)
                                              Identifier(Identifier)(4192,4197)
                                                PsiElement(IDENTIFIER)('ToUrl')(4192,4197)
                                            PsiElement('(')('(')(4197,4198)
                                            ParamList(ParamList)(4198,4208)
                                              TermExpression(TermExpression)(4198,4208)
                                                TermExpressionTerm(TermExpressionTerm)(4198,4208)
                                                  InvocationTerm(InvocationTerm)(4198,4208)
                                                    MemberInvocation(MemberInvocation)(4198,4208)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4198,4208)
                                                        KeywordIdentifier(KeywordIdentifier)(4198,4208)
                                                          PsiElement('codesystem')('codesystem')(4198,4208)
                                            PsiElement(')')(')')(4208,4209)
                                  PsiElement(',')(',')(4209,4210)
                                  PsiWhiteSpace(' ')(4210,4211)
                                  TermExpression(TermExpression)(4211,4217)
                                    TermExpressionTerm(TermExpressionTerm)(4211,4217)
                                      InvocationTerm(InvocationTerm)(4211,4217)
                                        MemberInvocation(MemberInvocation)(4211,4217)
                                          ReferentialIdentifier(ReferentialIdentifier)(4211,4217)
                                            Identifier(Identifier)(4211,4217)
                                              PsiElement(IDENTIFIER)('nbdays')(4211,4217)
                                PsiElement(')')(')')(4217,4218)
                    PsiElement(')')(')')(4218,4219)
    PsiWhiteSpace('\n\n\n')(4219,4222)
    Statement(Statement)(4222,4384)
      FunctionDefinition(FunctionDefinition)(4222,4384)
        PsiElement('define')('define')(4222,4228)
        PsiWhiteSpace(' ')(4228,4229)
        PsiElement('function')('function')(4229,4237)
        PsiWhiteSpace(' ')(4237,4238)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4238,4251)
          Identifier(Identifier)(4238,4251)
            PsiElement(IDENTIFIER)('HasObsHistory')(4238,4251)
        PsiElement('(')('(')(4251,4252)
        OperandDefinition(OperandDefinition)(4252,4264)
          ReferentialIdentifier(ReferentialIdentifier)(4252,4254)
            Identifier(Identifier)(4252,4254)
              PsiElement(IDENTIFIER)('id')(4252,4254)
          PsiWhiteSpace(' ')(4254,4255)
          TypeSpecifier(TypeSpecifier)(4255,4264)
            NamedTypeSpecifier(NamedTypeSpecifier)(4255,4264)
              Qualifier(Qualifier)(4255,4259)
                Identifier(Identifier)(4255,4259)
                  PsiElement(IDENTIFIER)('FHIR')(4255,4259)
              PsiElement('.')('.')(4259,4260)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4260,4264)
                ReferentialIdentifier(ReferentialIdentifier)(4260,4264)
                  KeywordIdentifier(KeywordIdentifier)(4260,4264)
                    PsiElement('code')('code')(4260,4264)
        PsiElement(',')(',')(4264,4265)
        PsiWhiteSpace(' ')(4265,4266)
        OperandDefinition(OperandDefinition)(4266,4290)
          ReferentialIdentifier(ReferentialIdentifier)(4266,4276)
            KeywordIdentifier(KeywordIdentifier)(4266,4276)
              PsiElement('codesystem')('codesystem')(4266,4276)
          PsiWhiteSpace(' ')(4276,4277)
          TypeSpecifier(TypeSpecifier)(4277,4290)
            NamedTypeSpecifier(NamedTypeSpecifier)(4277,4290)
              Qualifier(Qualifier)(4277,4283)
                Identifier(Identifier)(4277,4283)
                  PsiElement(IDENTIFIER)('System')(4277,4283)
              PsiElement('.')('.')(4283,4284)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4284,4290)
                ReferentialIdentifier(ReferentialIdentifier)(4284,4290)
                  Identifier(Identifier)(4284,4290)
                    PsiElement(IDENTIFIER)('String')(4284,4290)
        PsiElement(',')(',')(4290,4291)
        PsiWhiteSpace(' ')(4291,4292)
        OperandDefinition(OperandDefinition)(4292,4306)
          ReferentialIdentifier(ReferentialIdentifier)(4292,4298)
            Identifier(Identifier)(4292,4298)
              PsiElement(IDENTIFIER)('nbdays')(4292,4298)
          PsiWhiteSpace(' ')(4298,4299)
          TypeSpecifier(TypeSpecifier)(4299,4306)
            NamedTypeSpecifier(NamedTypeSpecifier)(4299,4306)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4299,4306)
                ReferentialIdentifier(ReferentialIdentifier)(4299,4306)
                  Identifier(Identifier)(4299,4306)
                    PsiElement(IDENTIFIER)('Integer')(4299,4306)
        PsiElement(')')(')')(4306,4307)
        PsiElement(':')(':')(4307,4308)
        PsiWhiteSpace('\n  ')(4308,4311)
        FunctionBody(FunctionBody)(4311,4384)
          TermExpression(TermExpression)(4311,4384)
            TermExpressionTerm(TermExpressionTerm)(4311,4384)
              InvocationTerm(InvocationTerm)(4311,4384)
                FunctionInvocation(FunctionInvocation)(4311,4384)
                  Function(Function)(4311,4384)
                    ReferentialIdentifier(ReferentialIdentifier)(4311,4327)
                      Identifier(Identifier)(4311,4327)
                        PsiElement(IDENTIFIER)('assesObservation')(4311,4327)
                    PsiElement('(')('(')(4327,4328)
                    ParamList(ParamList)(4328,4383)
                      TermExpression(TermExpression)(4328,4383)
                        TermExpressionTerm(TermExpressionTerm)(4328,4383)
                          InvocationTerm(InvocationTerm)(4328,4383)
                            FunctionInvocation(FunctionInvocation)(4328,4383)
                              Function(Function)(4328,4383)
                                ReferentialIdentifier(ReferentialIdentifier)(4328,4350)
                                  Identifier(Identifier)(4328,4350)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4328,4350)
                                PsiElement('(')('(')(4350,4351)
                                ParamList(ParamList)(4351,4382)
                                  TermExpression(TermExpression)(4351,4355)
                                    TermExpressionTerm(TermExpressionTerm)(4351,4355)
                                      ListSelectorTerm(ListSelectorTerm)(4351,4355)
                                        ListSelector(ListSelector)(4351,4355)
                                          PsiElement('{')('{')(4351,4352)
                                          TermExpression(TermExpression)(4352,4354)
                                            TermExpressionTerm(TermExpressionTerm)(4352,4354)
                                              InvocationTerm(InvocationTerm)(4352,4354)
                                                MemberInvocation(MemberInvocation)(4352,4354)
                                                  ReferentialIdentifier(ReferentialIdentifier)(4352,4354)
                                                    Identifier(Identifier)(4352,4354)
                                                      PsiElement(IDENTIFIER)('id')(4352,4354)
                                          PsiElement('}')('}')(4354,4355)
                                  PsiElement(',')(',')(4355,4356)
                                  PsiWhiteSpace(' ')(4356,4357)
                                  TermExpression(TermExpression)(4357,4374)
                                    TermExpressionTerm(TermExpressionTerm)(4357,4374)
                                      InvocationTerm(InvocationTerm)(4357,4374)
                                        FunctionInvocation(FunctionInvocation)(4357,4374)
                                          Function(Function)(4357,4374)
                                            ReferentialIdentifier(ReferentialIdentifier)(4357,4362)
                                              Identifier(Identifier)(4357,4362)
                                                PsiElement(IDENTIFIER)('ToUrl')(4357,4362)
                                            PsiElement('(')('(')(4362,4363)
                                            ParamList(ParamList)(4363,4373)
                                              TermExpression(TermExpression)(4363,4373)
                                                TermExpressionTerm(TermExpressionTerm)(4363,4373)
                                                  InvocationTerm(InvocationTerm)(4363,4373)
                                                    MemberInvocation(MemberInvocation)(4363,4373)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4363,4373)
                                                        KeywordIdentifier(KeywordIdentifier)(4363,4373)
                                                          PsiElement('codesystem')('codesystem')(4363,4373)
                                            PsiElement(')')(')')(4373,4374)
                                  PsiElement(',')(',')(4374,4375)
                                  PsiWhiteSpace(' ')(4375,4376)
                                  TermExpression(TermExpression)(4376,4382)
                                    TermExpressionTerm(TermExpressionTerm)(4376,4382)
                                      InvocationTerm(InvocationTerm)(4376,4382)
                                        MemberInvocation(MemberInvocation)(4376,4382)
                                          ReferentialIdentifier(ReferentialIdentifier)(4376,4382)
                                            Identifier(Identifier)(4376,4382)
                                              PsiElement(IDENTIFIER)('nbdays')(4376,4382)
                                PsiElement(')')(')')(4382,4383)
                    PsiElement(')')(')')(4383,4384)
    PsiWhiteSpace('\n\n')(4384,4386)
    Statement(Statement)(4386,4555)
      FunctionDefinition(FunctionDefinition)(4386,4555)
        PsiElement('define')('define')(4386,4392)
        PsiWhiteSpace(' ')(4392,4393)
        PsiElement('function')('function')(4393,4401)
        PsiWhiteSpace(' ')(4401,4402)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4402,4415)
          Identifier(Identifier)(4402,4415)
            PsiElement(IDENTIFIER)('HasObsHistory')(4402,4415)
        PsiElement('(')('(')(4415,4416)
        OperandDefinition(OperandDefinition)(4416,4432)
          ReferentialIdentifier(ReferentialIdentifier)(4416,4418)
            Identifier(Identifier)(4416,4418)
              PsiElement(IDENTIFIER)('id')(4416,4418)
          PsiWhiteSpace(' ')(4418,4419)
          TypeSpecifier(TypeSpecifier)(4419,4432)
            NamedTypeSpecifier(NamedTypeSpecifier)(4419,4432)
              Qualifier(Qualifier)(4419,4425)
                Identifier(Identifier)(4419,4425)
                  PsiElement(IDENTIFIER)('System')(4419,4425)
              PsiElement('.')('.')(4425,4426)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4426,4432)
                ReferentialIdentifier(ReferentialIdentifier)(4426,4432)
                  Identifier(Identifier)(4426,4432)
                    PsiElement(IDENTIFIER)('String')(4426,4432)
        PsiElement(',')(',')(4432,4433)
        PsiWhiteSpace(' ')(4433,4434)
        OperandDefinition(OperandDefinition)(4434,4458)
          ReferentialIdentifier(ReferentialIdentifier)(4434,4444)
            KeywordIdentifier(KeywordIdentifier)(4434,4444)
              PsiElement('codesystem')('codesystem')(4434,4444)
          PsiWhiteSpace(' ')(4444,4445)
          TypeSpecifier(TypeSpecifier)(4445,4458)
            NamedTypeSpecifier(NamedTypeSpecifier)(4445,4458)
              Qualifier(Qualifier)(4445,4451)
                Identifier(Identifier)(4445,4451)
                  PsiElement(IDENTIFIER)('System')(4445,4451)
              PsiElement('.')('.')(4451,4452)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4452,4458)
                ReferentialIdentifier(ReferentialIdentifier)(4452,4458)
                  Identifier(Identifier)(4452,4458)
                    PsiElement(IDENTIFIER)('String')(4452,4458)
        PsiElement(',')(',')(4458,4459)
        PsiWhiteSpace(' ')(4459,4460)
        OperandDefinition(OperandDefinition)(4460,4474)
          ReferentialIdentifier(ReferentialIdentifier)(4460,4466)
            Identifier(Identifier)(4460,4466)
              PsiElement(IDENTIFIER)('nbdays')(4460,4466)
          PsiWhiteSpace(' ')(4466,4467)
          TypeSpecifier(TypeSpecifier)(4467,4474)
            NamedTypeSpecifier(NamedTypeSpecifier)(4467,4474)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4467,4474)
                ReferentialIdentifier(ReferentialIdentifier)(4467,4474)
                  Identifier(Identifier)(4467,4474)
                    PsiElement(IDENTIFIER)('Integer')(4467,4474)
        PsiElement(')')(')')(4474,4475)
        PsiElement(':')(':')(4475,4476)
        PsiWhiteSpace('\n  ')(4476,4479)
        FunctionBody(FunctionBody)(4479,4555)
          TermExpression(TermExpression)(4479,4555)
            TermExpressionTerm(TermExpressionTerm)(4479,4555)
              InvocationTerm(InvocationTerm)(4479,4555)
                FunctionInvocation(FunctionInvocation)(4479,4555)
                  Function(Function)(4479,4555)
                    ReferentialIdentifier(ReferentialIdentifier)(4479,4495)
                      Identifier(Identifier)(4479,4495)
                        PsiElement(IDENTIFIER)('assesObservation')(4479,4495)
                    PsiElement('(')('(')(4495,4496)
                    ParamList(ParamList)(4496,4554)
                      TermExpression(TermExpression)(4496,4554)
                        TermExpressionTerm(TermExpressionTerm)(4496,4554)
                          InvocationTerm(InvocationTerm)(4496,4554)
                            FunctionInvocation(FunctionInvocation)(4496,4554)
                              Function(Function)(4496,4554)
                                ReferentialIdentifier(ReferentialIdentifier)(4496,4518)
                                  Identifier(Identifier)(4496,4518)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4496,4518)
                                PsiElement('(')('(')(4518,4519)
                                ParamList(ParamList)(4519,4553)
                                  TermExpression(TermExpression)(4519,4526)
                                    TermExpressionTerm(TermExpressionTerm)(4519,4526)
                                      ListSelectorTerm(ListSelectorTerm)(4519,4526)
                                        ListSelector(ListSelector)(4519,4526)
                                          PsiElement('{')('{')(4519,4520)
                                          TermExpression(TermExpression)(4520,4525)
                                            TermExpressionTerm(TermExpressionTerm)(4520,4525)
                                              InvocationTerm(InvocationTerm)(4520,4525)
                                                FunctionInvocation(FunctionInvocation)(4520,4525)
                                                  Function(Function)(4520,4525)
                                                    ReferentialIdentifier(ReferentialIdentifier)(4520,4521)
                                                      Identifier(Identifier)(4520,4521)
                                                        PsiElement(IDENTIFIER)('c')(4520,4521)
                                                    PsiElement('(')('(')(4521,4522)
                                                    ParamList(ParamList)(4522,4524)
                                                      TermExpression(TermExpression)(4522,4524)
                                                        TermExpressionTerm(TermExpressionTerm)(4522,4524)
                                                          InvocationTerm(InvocationTerm)(4522,4524)
                                                            MemberInvocation(MemberInvocation)(4522,4524)
                                                              ReferentialIdentifier(ReferentialIdentifier)(4522,4524)
                                                                Identifier(Identifier)(4522,4524)
                                                                  PsiElement(IDENTIFIER)('id')(4522,4524)
                                                    PsiElement(')')(')')(4524,4525)
                                          PsiElement('}')('}')(4525,4526)
                                  PsiElement(',')(',')(4526,4527)
                                  PsiWhiteSpace(' ')(4527,4528)
                                  TermExpression(TermExpression)(4528,4545)
                                    TermExpressionTerm(TermExpressionTerm)(4528,4545)
                                      InvocationTerm(InvocationTerm)(4528,4545)
                                        FunctionInvocation(FunctionInvocation)(4528,4545)
                                          Function(Function)(4528,4545)
                                            ReferentialIdentifier(ReferentialIdentifier)(4528,4533)
                                              Identifier(Identifier)(4528,4533)
                                                PsiElement(IDENTIFIER)('ToUrl')(4528,4533)
                                            PsiElement('(')('(')(4533,4534)
                                            ParamList(ParamList)(4534,4544)
                                              TermExpression(TermExpression)(4534,4544)
                                                TermExpressionTerm(TermExpressionTerm)(4534,4544)
                                                  InvocationTerm(InvocationTerm)(4534,4544)
                                                    MemberInvocation(MemberInvocation)(4534,4544)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4534,4544)
                                                        KeywordIdentifier(KeywordIdentifier)(4534,4544)
                                                          PsiElement('codesystem')('codesystem')(4534,4544)
                                            PsiElement(')')(')')(4544,4545)
                                  PsiElement(',')(',')(4545,4546)
                                  PsiWhiteSpace(' ')(4546,4547)
                                  TermExpression(TermExpression)(4547,4553)
                                    TermExpressionTerm(TermExpressionTerm)(4547,4553)
                                      InvocationTerm(InvocationTerm)(4547,4553)
                                        MemberInvocation(MemberInvocation)(4547,4553)
                                          ReferentialIdentifier(ReferentialIdentifier)(4547,4553)
                                            Identifier(Identifier)(4547,4553)
                                              PsiElement(IDENTIFIER)('nbdays')(4547,4553)
                                PsiElement(')')(')')(4553,4554)
                    PsiElement(')')(')')(4554,4555)
    PsiWhiteSpace('\n\n\n')(4555,4558)
    Statement(Statement)(4558,4739)
      FunctionDefinition(FunctionDefinition)(4558,4739)
        PsiElement('define')('define')(4558,4564)
        PsiWhiteSpace(' ')(4564,4565)
        PsiElement('function')('function')(4565,4573)
        PsiWhiteSpace(' ')(4573,4574)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4574,4587)
          Identifier(Identifier)(4574,4587)
            PsiElement(IDENTIFIER)('HasObsHistory')(4574,4587)
        PsiElement('(')('(')(4587,4588)
        OperandDefinition(OperandDefinition)(4588,4604)
          ReferentialIdentifier(ReferentialIdentifier)(4588,4590)
            Identifier(Identifier)(4588,4590)
              PsiElement(IDENTIFIER)('id')(4588,4590)
          PsiWhiteSpace(' ')(4590,4591)
          TypeSpecifier(TypeSpecifier)(4591,4604)
            NamedTypeSpecifier(NamedTypeSpecifier)(4591,4604)
              Qualifier(Qualifier)(4591,4597)
                Identifier(Identifier)(4591,4597)
                  PsiElement(IDENTIFIER)('System')(4591,4597)
              PsiElement('.')('.')(4597,4598)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4598,4604)
                ReferentialIdentifier(ReferentialIdentifier)(4598,4604)
                  Identifier(Identifier)(4598,4604)
                    PsiElement(IDENTIFIER)('String')(4598,4604)
        PsiElement(',')(',')(4604,4605)
        PsiWhiteSpace(' ')(4605,4606)
        OperandDefinition(OperandDefinition)(4606,4620)
          ReferentialIdentifier(ReferentialIdentifier)(4606,4612)
            Identifier(Identifier)(4606,4612)
              PsiElement(IDENTIFIER)('nbdays')(4606,4612)
          PsiWhiteSpace(' ')(4612,4613)
          TypeSpecifier(TypeSpecifier)(4613,4620)
            NamedTypeSpecifier(NamedTypeSpecifier)(4613,4620)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4613,4620)
                ReferentialIdentifier(ReferentialIdentifier)(4613,4620)
                  Identifier(Identifier)(4613,4620)
                    PsiElement(IDENTIFIER)('Integer')(4613,4620)
        PsiElement(')')(')')(4620,4621)
        PsiElement(':')(':')(4621,4622)
        PsiWhiteSpace('\n  ')(4622,4625)
        FunctionBody(FunctionBody)(4625,4739)
          TermExpression(TermExpression)(4625,4739)
            TermExpressionTerm(TermExpressionTerm)(4625,4739)
              InvocationTerm(InvocationTerm)(4625,4739)
                FunctionInvocation(FunctionInvocation)(4625,4739)
                  Function(Function)(4625,4739)
                    ReferentialIdentifier(ReferentialIdentifier)(4625,4641)
                      Identifier(Identifier)(4625,4641)
                        PsiElement(IDENTIFIER)('assesObservation')(4625,4641)
                    PsiElement('(')('(')(4641,4642)
                    ParamList(ParamList)(4642,4738)
                      TermExpression(TermExpression)(4642,4738)
                        TermExpressionTerm(TermExpressionTerm)(4642,4738)
                          InvocationTerm(InvocationTerm)(4642,4738)
                            FunctionInvocation(FunctionInvocation)(4642,4738)
                              Function(Function)(4642,4738)
                                ReferentialIdentifier(ReferentialIdentifier)(4642,4664)
                                  Identifier(Identifier)(4642,4664)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4642,4664)
                                PsiElement('(')('(')(4664,4665)
                                ParamList(ParamList)(4665,4737)
                                  TermExpression(TermExpression)(4665,4672)
                                    TermExpressionTerm(TermExpressionTerm)(4665,4672)
                                      ListSelectorTerm(ListSelectorTerm)(4665,4672)
                                        ListSelector(ListSelector)(4665,4672)
                                          PsiElement('{')('{')(4665,4666)
                                          TermExpression(TermExpression)(4666,4671)
                                            TermExpressionTerm(TermExpressionTerm)(4666,4671)
                                              InvocationTerm(InvocationTerm)(4666,4671)
                                                FunctionInvocation(FunctionInvocation)(4666,4671)
                                                  Function(Function)(4666,4671)
                                                    ReferentialIdentifier(ReferentialIdentifier)(4666,4667)
                                                      Identifier(Identifier)(4666,4667)
                                                        PsiElement(IDENTIFIER)('c')(4666,4667)
                                                    PsiElement('(')('(')(4667,4668)
                                                    ParamList(ParamList)(4668,4670)
                                                      TermExpression(TermExpression)(4668,4670)
                                                        TermExpressionTerm(TermExpressionTerm)(4668,4670)
                                                          InvocationTerm(InvocationTerm)(4668,4670)
                                                            MemberInvocation(MemberInvocation)(4668,4670)
                                                              ReferentialIdentifier(ReferentialIdentifier)(4668,4670)
                                                                Identifier(Identifier)(4668,4670)
                                                                  PsiElement(IDENTIFIER)('id')(4668,4670)
                                                    PsiElement(')')(')')(4670,4671)
                                          PsiElement('}')('}')(4671,4672)
                                  PsiElement(',')(',')(4672,4673)
                                  PsiWhiteSpace(' ')(4673,4674)
                                  TermExpression(TermExpression)(4674,4729)
                                    TermExpressionTerm(TermExpressionTerm)(4674,4729)
                                      InvocationTerm(InvocationTerm)(4674,4729)
                                        FunctionInvocation(FunctionInvocation)(4674,4729)
                                          Function(Function)(4674,4729)
                                            ReferentialIdentifier(ReferentialIdentifier)(4674,4679)
                                              Identifier(Identifier)(4674,4679)
                                                PsiElement(IDENTIFIER)('ToUrl')(4674,4679)
                                            PsiElement('(')('(')(4679,4680)
                                            ParamList(ParamList)(4680,4728)
                                              TermExpression(TermExpression)(4680,4728)
                                                TermExpressionTerm(TermExpressionTerm)(4680,4728)
                                                  LiteralTerm(LiteralTerm)(4680,4728)
                                                    StringLiteral(StringLiteral)(4680,4728)
                                                      PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(4680,4728)
                                            PsiElement(')')(')')(4728,4729)
                                  PsiElement(',')(',')(4729,4730)
                                  PsiWhiteSpace(' ')(4730,4731)
                                  TermExpression(TermExpression)(4731,4737)
                                    TermExpressionTerm(TermExpressionTerm)(4731,4737)
                                      InvocationTerm(InvocationTerm)(4731,4737)
                                        MemberInvocation(MemberInvocation)(4731,4737)
                                          ReferentialIdentifier(ReferentialIdentifier)(4731,4737)
                                            Identifier(Identifier)(4731,4737)
                                              PsiElement(IDENTIFIER)('nbdays')(4731,4737)
                                PsiElement(')')(')')(4737,4738)
                    PsiElement(')')(')')(4738,4739)
    PsiWhiteSpace('\n\n')(4739,4741)
    Statement(Statement)(4741,4801)
      FunctionDefinition(FunctionDefinition)(4741,4801)
        PsiElement('define')('define')(4741,4747)
        PsiWhiteSpace(' ')(4747,4748)
        PsiElement('function')('function')(4748,4756)
        PsiWhiteSpace(' ')(4756,4757)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4757,4758)
          Identifier(Identifier)(4757,4758)
            PsiElement(IDENTIFIER)('c')(4757,4758)
        PsiElement('(')('(')(4758,4759)
        OperandDefinition(OperandDefinition)(4759,4774)
          ReferentialIdentifier(ReferentialIdentifier)(4759,4760)
            Identifier(Identifier)(4759,4760)
              PsiElement(IDENTIFIER)('s')(4759,4760)
          PsiWhiteSpace(' ')(4760,4761)
          TypeSpecifier(TypeSpecifier)(4761,4774)
            NamedTypeSpecifier(NamedTypeSpecifier)(4761,4774)
              Qualifier(Qualifier)(4761,4767)
                Identifier(Identifier)(4761,4767)
                  PsiElement(IDENTIFIER)('System')(4761,4767)
              PsiElement('.')('.')(4767,4768)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4768,4774)
                ReferentialIdentifier(ReferentialIdentifier)(4768,4774)
                  Identifier(Identifier)(4768,4774)
                    PsiElement(IDENTIFIER)('String')(4768,4774)
        PsiElement(')')(')')(4774,4775)
        PsiElement(':')(':')(4775,4776)
        PsiWhiteSpace('\n  ')(4776,4779)
        FunctionBody(FunctionBody)(4779,4801)
          TermExpression(TermExpression)(4779,4801)
            TermExpressionTerm(TermExpressionTerm)(4779,4801)
              InstanceSelectorTerm(InstanceSelectorTerm)(4779,4801)
                InstanceSelector(InstanceSelector)(4779,4801)
                  NamedTypeSpecifier(NamedTypeSpecifier)(4779,4788)
                    Qualifier(Qualifier)(4779,4783)
                      Identifier(Identifier)(4779,4783)
                        PsiElement(IDENTIFIER)('FHIR')(4779,4783)
                    PsiElement('.')('.')(4783,4784)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4784,4788)
                      ReferentialIdentifier(ReferentialIdentifier)(4784,4788)
                        KeywordIdentifier(KeywordIdentifier)(4784,4788)
                          PsiElement('code')('code')(4784,4788)
                  PsiWhiteSpace(' ')(4788,4789)
                  PsiElement('{')('{')(4789,4790)
                  PsiWhiteSpace(' ')(4790,4791)
                  InstanceElementSelector(InstanceElementSelector)(4791,4799)
                    ReferentialIdentifier(ReferentialIdentifier)(4791,4796)
                      Identifier(Identifier)(4791,4796)
                        PsiElement(IDENTIFIER)('value')(4791,4796)
                    PsiElement(':')(':')(4796,4797)
                    PsiWhiteSpace(' ')(4797,4798)
                    TermExpression(TermExpression)(4798,4799)
                      TermExpressionTerm(TermExpressionTerm)(4798,4799)
                        InvocationTerm(InvocationTerm)(4798,4799)
                          MemberInvocation(MemberInvocation)(4798,4799)
                            ReferentialIdentifier(ReferentialIdentifier)(4798,4799)
                              Identifier(Identifier)(4798,4799)
                                PsiElement(IDENTIFIER)('s')(4798,4799)
                  PsiWhiteSpace(' ')(4799,4800)
                  PsiElement('}')('}')(4800,4801)
    PsiWhiteSpace('\n\n')(4801,4803)
    Statement(Statement)(4803,5039)
      FunctionDefinition(FunctionDefinition)(4803,5039)
        PsiElement('define')('define')(4803,4809)
        PsiWhiteSpace(' ')(4809,4810)
        PsiElement('function')('function')(4810,4818)
        PsiWhiteSpace(' ')(4818,4819)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4819,4825)
          Identifier(Identifier)(4819,4825)
            PsiElement(IDENTIFIER)('coding')(4819,4825)
        PsiElement('(')('(')(4825,4826)
        OperandDefinition(OperandDefinition)(4826,4841)
          ReferentialIdentifier(ReferentialIdentifier)(4826,4827)
            Identifier(Identifier)(4826,4827)
              PsiElement(IDENTIFIER)('s')(4826,4827)
          PsiWhiteSpace(' ')(4827,4828)
          TypeSpecifier(TypeSpecifier)(4828,4841)
            NamedTypeSpecifier(NamedTypeSpecifier)(4828,4841)
              Qualifier(Qualifier)(4828,4834)
                Identifier(Identifier)(4828,4834)
                  PsiElement(IDENTIFIER)('System')(4828,4834)
              PsiElement('.')('.')(4834,4835)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4835,4841)
                ReferentialIdentifier(ReferentialIdentifier)(4835,4841)
                  Identifier(Identifier)(4835,4841)
                    PsiElement(IDENTIFIER)('String')(4835,4841)
        PsiElement(',')(',')(4841,4842)
        PsiWhiteSpace(' ')(4842,4843)
        OperandDefinition(OperandDefinition)(4843,4860)
          ReferentialIdentifier(ReferentialIdentifier)(4843,4846)
            Identifier(Identifier)(4843,4846)
              PsiElement(IDENTIFIER)('url')(4843,4846)
          PsiWhiteSpace(' ')(4846,4847)
          TypeSpecifier(TypeSpecifier)(4847,4860)
            NamedTypeSpecifier(NamedTypeSpecifier)(4847,4860)
              Qualifier(Qualifier)(4847,4853)
                Identifier(Identifier)(4847,4853)
                  PsiElement(IDENTIFIER)('System')(4847,4853)
              PsiElement('.')('.')(4853,4854)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4854,4860)
                ReferentialIdentifier(ReferentialIdentifier)(4854,4860)
                  Identifier(Identifier)(4854,4860)
                    PsiElement(IDENTIFIER)('String')(4854,4860)
        PsiElement(')')(')')(4860,4861)
        PsiElement(':')(':')(4861,4862)
        PsiWhiteSpace('\n  ')(4862,4865)
        FunctionBody(FunctionBody)(4865,5039)
          TermExpression(TermExpression)(4865,5039)
            TermExpressionTerm(TermExpressionTerm)(4865,5039)
              InstanceSelectorTerm(InstanceSelectorTerm)(4865,5039)
                InstanceSelector(InstanceSelector)(4865,5039)
                  NamedTypeSpecifier(NamedTypeSpecifier)(4865,4876)
                    Qualifier(Qualifier)(4865,4869)
                      Identifier(Identifier)(4865,4869)
                        PsiElement(IDENTIFIER)('FHIR')(4865,4869)
                    PsiElement('.')('.')(4869,4870)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4870,4876)
                      ReferentialIdentifier(ReferentialIdentifier)(4870,4876)
                        Identifier(Identifier)(4870,4876)
                          PsiElement(IDENTIFIER)('Coding')(4870,4876)
                  PsiWhiteSpace(' ')(4876,4877)
                  PsiElement('{')('{')(4877,4878)
                  PsiWhiteSpace('\n                ')(4878,4895)
                  InstanceElementSelector(InstanceElementSelector)(4895,4923)
                    ReferentialIdentifier(ReferentialIdentifier)(4895,4899)
                      KeywordIdentifier(KeywordIdentifier)(4895,4899)
                        PsiElement('code')('code')(4895,4899)
                    PsiElement(':')(':')(4899,4900)
                    PsiWhiteSpace(' ')(4900,4901)
                    TermExpression(TermExpression)(4901,4923)
                      TermExpressionTerm(TermExpressionTerm)(4901,4923)
                        InstanceSelectorTerm(InstanceSelectorTerm)(4901,4923)
                          InstanceSelector(InstanceSelector)(4901,4923)
                            NamedTypeSpecifier(NamedTypeSpecifier)(4901,4910)
                              Qualifier(Qualifier)(4901,4905)
                                Identifier(Identifier)(4901,4905)
                                  PsiElement(IDENTIFIER)('FHIR')(4901,4905)
                              PsiElement('.')('.')(4905,4906)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4906,4910)
                                ReferentialIdentifier(ReferentialIdentifier)(4906,4910)
                                  KeywordIdentifier(KeywordIdentifier)(4906,4910)
                                    PsiElement('code')('code')(4906,4910)
                            PsiWhiteSpace(' ')(4910,4911)
                            PsiElement('{')('{')(4911,4912)
                            PsiWhiteSpace(' ')(4912,4913)
                            InstanceElementSelector(InstanceElementSelector)(4913,4921)
                              ReferentialIdentifier(ReferentialIdentifier)(4913,4918)
                                Identifier(Identifier)(4913,4918)
                                  PsiElement(IDENTIFIER)('value')(4913,4918)
                              PsiElement(':')(':')(4918,4919)
                              PsiWhiteSpace(' ')(4919,4920)
                              TermExpression(TermExpression)(4920,4921)
                                TermExpressionTerm(TermExpressionTerm)(4920,4921)
                                  InvocationTerm(InvocationTerm)(4920,4921)
                                    MemberInvocation(MemberInvocation)(4920,4921)
                                      ReferentialIdentifier(ReferentialIdentifier)(4920,4921)
                                        Identifier(Identifier)(4920,4921)
                                          PsiElement(IDENTIFIER)('s')(4920,4921)
                            PsiWhiteSpace(' ')(4921,4922)
                            PsiElement('}')('}')(4922,4923)
                  PsiElement(',')(',')(4923,4924)
                  PsiWhiteSpace('\n                ')(4924,4941)
                  InstanceElementSelector(InstanceElementSelector)(4941,4972)
                    ReferentialIdentifier(ReferentialIdentifier)(4941,4947)
                      Identifier(Identifier)(4941,4947)
                        PsiElement(IDENTIFIER)('system')(4941,4947)
                    PsiElement(':')(':')(4947,4948)
                    PsiWhiteSpace(' ')(4948,4949)
                    TermExpression(TermExpression)(4949,4972)
                      TermExpressionTerm(TermExpressionTerm)(4949,4972)
                        InstanceSelectorTerm(InstanceSelectorTerm)(4949,4972)
                          InstanceSelector(InstanceSelector)(4949,4972)
                            NamedTypeSpecifier(NamedTypeSpecifier)(4949,4957)
                              Qualifier(Qualifier)(4949,4953)
                                Identifier(Identifier)(4949,4953)
                                  PsiElement(IDENTIFIER)('FHIR')(4949,4953)
                              PsiElement('.')('.')(4953,4954)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4954,4957)
                                ReferentialIdentifier(ReferentialIdentifier)(4954,4957)
                                  Identifier(Identifier)(4954,4957)
                                    PsiElement(IDENTIFIER)('uri')(4954,4957)
                            PsiWhiteSpace(' ')(4957,4958)
                            PsiElement('{')('{')(4958,4959)
                            PsiWhiteSpace(' ')(4959,4960)
                            InstanceElementSelector(InstanceElementSelector)(4960,4970)
                              ReferentialIdentifier(ReferentialIdentifier)(4960,4965)
                                Identifier(Identifier)(4960,4965)
                                  PsiElement(IDENTIFIER)('value')(4960,4965)
                              PsiElement(':')(':')(4965,4966)
                              PsiWhiteSpace(' ')(4966,4967)
                              TermExpression(TermExpression)(4967,4970)
                                TermExpressionTerm(TermExpressionTerm)(4967,4970)
                                  InvocationTerm(InvocationTerm)(4967,4970)
                                    MemberInvocation(MemberInvocation)(4967,4970)
                                      ReferentialIdentifier(ReferentialIdentifier)(4967,4970)
                                        Identifier(Identifier)(4967,4970)
                                          PsiElement(IDENTIFIER)('url')(4967,4970)
                            PsiWhiteSpace(' ')(4970,4971)
                            PsiElement('}')('}')(4971,4972)
                  PsiElement(',')(',')(4972,4973)
                  PsiWhiteSpace('\n                ')(4973,4990)
                  InstanceElementSelector(InstanceElementSelector)(4990,5025)
                    ReferentialIdentifier(ReferentialIdentifier)(4990,4999)
                      Identifier(Identifier)(4990,4999)
                        PsiElement(QUOTEDIDENTIFIER)('"display"')(4990,4999)
                    PsiElement(':')(':')(4999,5000)
                    PsiWhiteSpace(' ')(5000,5001)
                    TermExpression(TermExpression)(5001,5025)
                      TermExpressionTerm(TermExpressionTerm)(5001,5025)
                        InstanceSelectorTerm(InstanceSelectorTerm)(5001,5025)
                          InstanceSelector(InstanceSelector)(5001,5025)
                            NamedTypeSpecifier(NamedTypeSpecifier)(5001,5012)
                              Qualifier(Qualifier)(5001,5005)
                                Identifier(Identifier)(5001,5005)
                                  PsiElement(IDENTIFIER)('FHIR')(5001,5005)
                              PsiElement('.')('.')(5005,5006)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(5006,5012)
                                ReferentialIdentifier(ReferentialIdentifier)(5006,5012)
                                  Identifier(Identifier)(5006,5012)
                                    PsiElement(IDENTIFIER)('string')(5006,5012)
                            PsiWhiteSpace(' ')(5012,5013)
                            PsiElement('{')('{')(5013,5014)
                            PsiWhiteSpace(' ')(5014,5015)
                            InstanceElementSelector(InstanceElementSelector)(5015,5023)
                              ReferentialIdentifier(ReferentialIdentifier)(5015,5020)
                                Identifier(Identifier)(5015,5020)
                                  PsiElement(IDENTIFIER)('value')(5015,5020)
                              PsiElement(':')(':')(5020,5021)
                              PsiWhiteSpace(' ')(5021,5022)
                              TermExpression(TermExpression)(5022,5023)
                                TermExpressionTerm(TermExpressionTerm)(5022,5023)
                                  InvocationTerm(InvocationTerm)(5022,5023)
                                    MemberInvocation(MemberInvocation)(5022,5023)
                                      ReferentialIdentifier(ReferentialIdentifier)(5022,5023)
                                        Identifier(Identifier)(5022,5023)
                                          PsiElement(IDENTIFIER)('s')(5022,5023)
                            PsiWhiteSpace(' ')(5023,5024)
                            PsiElement('}')('}')(5024,5025)
                  PsiWhiteSpace('\n            ')(5025,5038)
                  PsiElement('}')('}')(5038,5039)
    PsiWhiteSpace('\n\n')(5039,5041)
    Statement(Statement)(5041,5104)
      FunctionDefinition(FunctionDefinition)(5041,5104)
        PsiElement('define')('define')(5041,5047)
        PsiWhiteSpace(' ')(5047,5048)
        PsiElement('function')('function')(5048,5056)
        PsiWhiteSpace(' ')(5056,5057)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(5057,5062)
          Identifier(Identifier)(5057,5062)
            PsiElement(IDENTIFIER)('ToUrl')(5057,5062)
        PsiElement('(')('(')(5062,5063)
        OperandDefinition(OperandDefinition)(5063,5082)
          ReferentialIdentifier(ReferentialIdentifier)(5063,5068)
            Identifier(Identifier)(5063,5068)
              PsiElement(IDENTIFIER)('sData')(5063,5068)
          PsiWhiteSpace(' ')(5068,5069)
          TypeSpecifier(TypeSpecifier)(5069,5082)
            NamedTypeSpecifier(NamedTypeSpecifier)(5069,5082)
              Qualifier(Qualifier)(5069,5075)
                Identifier(Identifier)(5069,5075)
                  PsiElement(IDENTIFIER)('System')(5069,5075)
              PsiElement('.')('.')(5075,5076)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(5076,5082)
                ReferentialIdentifier(ReferentialIdentifier)(5076,5082)
                  Identifier(Identifier)(5076,5082)
                    PsiElement(IDENTIFIER)('String')(5076,5082)
        PsiElement(')')(')')(5082,5083)
        PsiElement(':')(':')(5083,5084)
        PsiWhiteSpace('\n  ')(5084,5087)
        FunctionBody(FunctionBody)(5087,5104)
          TermExpression(TermExpression)(5087,5104)
            TermExpressionTerm(TermExpressionTerm)(5087,5104)
              InstanceSelectorTerm(InstanceSelectorTerm)(5087,5104)
                InstanceSelector(InstanceSelector)(5087,5104)
                  NamedTypeSpecifier(NamedTypeSpecifier)(5087,5090)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(5087,5090)
                      ReferentialIdentifier(ReferentialIdentifier)(5087,5090)
                        Identifier(Identifier)(5087,5090)
                          PsiElement(IDENTIFIER)('url')(5087,5090)
                  PsiWhiteSpace(' ')(5090,5091)
                  PsiElement('{')('{')(5091,5092)
                  InstanceElementSelector(InstanceElementSelector)(5092,5103)
                    ReferentialIdentifier(ReferentialIdentifier)(5092,5097)
                      Identifier(Identifier)(5092,5097)
                        PsiElement(IDENTIFIER)('value')(5092,5097)
                    PsiElement(':')(':')(5097,5098)
                    TermExpression(TermExpression)(5098,5103)
                      TermExpressionTerm(TermExpressionTerm)(5098,5103)
                        InvocationTerm(InvocationTerm)(5098,5103)
                          MemberInvocation(MemberInvocation)(5098,5103)
                            ReferentialIdentifier(ReferentialIdentifier)(5098,5103)
                              Identifier(Identifier)(5098,5103)
                                PsiElement(IDENTIFIER)('sData')(5098,5103)
                  PsiElement('}')('}')(5103,5104)
  PsiWhiteSpace('\n\n')(5104,5106)
  PsiComment(LINE_COMMENT)('//define function PatientHasConditionDuringEncounter(id String, codesystem url, duration Integer)):')(5106,5205)
  PsiWhiteSpace('\n\n')(5205,5207)
  PsiComment(LINE_COMMENT)('//define function PatientHasConditionFromValueSetDuringEncounter(id String, codesystem url, duration Integer)):')(5207,5318)
  PsiWhiteSpace('\n\n')(5318,5320)
  PsiComment(LINE_COMMENT)('//define function PatientHasHsistoryCondition(id String,codesystem url , duration Integer):')(5320,5411)
  PsiWhiteSpace('\n')(5411,5412)
  PsiComment(LINE_COMMENT)('//define function PatientHasHsistoryConditionFromValueSet(id String,codesystem url , duration Integer):')(5412,5515)
  PsiWhiteSpace('\n\n\n')(5515,5518)
  PsiComment(LINE_COMMENT)('// PatientHasSymptom("symptom name"): symptom in the encounter')(5518,5580)
  PsiWhiteSpace('\n\n\n')(5580,5583)
  PsiComment(LINE_COMMENT)('// PatientLastMeasureOf("measure name"): measure in the encounter')(5583,5648)
  PsiWhiteSpace('\n\n')(5648,5650)
  PsiComment(LINE_COMMENT)('// PatientLastHistoricMeasureOf("measure name", duration): measure in the patient history during duration')(5650,5755)
  PsiWhiteSpace('\n\n')(5755,5757)
  PsiComment(LINE_COMMENT)('// PatientHasDiagnostic("Diagnostic name" ): Diagnostic in the encounter')(5757,5829)
  PsiWhiteSpace('\n\n')(5829,5831)
  PsiComment(LINE_COMMENT)('// PatientHasHistoryOfDiagnostic("Diagnostic name", duration ): Diagnostic in the patient history during duration')(5831,5944)
  PsiWhiteSpace('\n\n')(5944,5946)
  PsiComment(LINE_COMMENT)('// PatientHasProposedorConfirmedDianostic("Diagnostic name" ): Diagnostic in the encounter')(5946,6036)
  PsiWhiteSpace('\n\n')(6036,6038)
  PsiComment(LINE_COMMENT)('// PatientHasHistoryOfProposedorConfirmedDianostic("Diagnostic name", duration ): Diagnostic in the patient history during duration')(6038,6169)
  PsiWhiteSpace('\n\n')(6169,6171)
  PsiComment(LINE_COMMENT)('// PatientZScoreWfA(wieght, age)')(6171,6203)
  PsiWhiteSpace('\n\n')(6203,6205)
  PsiComment(LINE_COMMENT)('// PatientWeightFromWfA(age, Muac)')(6205,6239)