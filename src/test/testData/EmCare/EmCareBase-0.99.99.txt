Cql Language file(0,6213)
  PsiComment(COMMENT)('/*\n@author: Patrick Delcroix\n@description: This library is part of the project EmCare Project, its allows standardisation for the observation processing\n*/')(0,155)
  PsiWhiteSpace('\n\n')(155,157)
  Library(Library)(157,5078)
    LibraryDefinition(LibraryDefinition)(157,193)
      PsiElement('library')('library')(157,164)
      PsiWhiteSpace(' ')(164,165)
      QualifiedIdentifier(QualifiedIdentifier)(165,175)
        Identifier(Identifier)(165,175)
          PsiElement(IDENTIFIER)('EmCareBase')(165,175)
      PsiWhiteSpace(' ')(175,176)
      PsiElement('version')('version')(176,183)
      PsiWhiteSpace(' ')(183,184)
      VersionSpecifier(VersionSpecifier)(184,193)
        PsiElement(STRING)(''0.99.99'')(184,193)
    PsiWhiteSpace('\n\n')(193,195)
    Definition(Definition)(195,221)
      UsingDefinition(UsingDefinition)(195,221)
        PsiElement('using')('using')(195,200)
        PsiWhiteSpace(' ')(200,201)
        QualifiedIdentifier(QualifiedIdentifier)(201,205)
          Identifier(Identifier)(201,205)
            PsiElement(IDENTIFIER)('FHIR')(201,205)
        PsiWhiteSpace(' ')(205,206)
        PsiElement('version')('version')(206,213)
        PsiWhiteSpace(' ')(213,214)
        VersionSpecifier(VersionSpecifier)(214,221)
          PsiElement(STRING)(''4.0.1'')(214,221)
    PsiWhiteSpace('\n\n')(221,223)
    Definition(Definition)(223,258)
      IncludeDefinition(IncludeDefinition)(223,258)
        PsiElement('include')('include')(223,230)
        PsiWhiteSpace(' ')(230,231)
        QualifiedIdentifier(QualifiedIdentifier)(231,242)
          Identifier(Identifier)(231,242)
            PsiElement(IDENTIFIER)('FHIRHelpers')(231,242)
        PsiWhiteSpace(' ')(242,243)
        PsiElement('version')('version')(243,250)
        PsiWhiteSpace(' ')(250,251)
        VersionSpecifier(VersionSpecifier)(251,258)
          PsiElement(STRING)(''4.0.1'')(251,258)
    PsiWhiteSpace('\n\n\n')(258,261)
    Statement(Statement)(261,278)
      ContextDefinition(ContextDefinition)(261,278)
        PsiElement('context')('context')(261,268)
        PsiWhiteSpace(' ')(268,269)
        Identifier(Identifier)(269,278)
          PsiElement(IDENTIFIER)('Encounter')(269,278)
    PsiWhiteSpace('\n\n')(278,280)
    PsiComment(LINE_COMMENT)('// *********************   PatientHasObservationDuringEncounter *********************/')(280,366)
    PsiWhiteSpace('\n')(366,367)
    PsiComment(LINE_COMMENT)('// obs and value : return value')(367,398)
    PsiWhiteSpace('\n')(398,399)
    PsiComment(LINE_COMMENT)('// obs and no value: return true')(399,431)
    PsiWhiteSpace('\n')(431,432)
    PsiComment(LINE_COMMENT)('// obs cancelled (not found) : return false')(432,475)
    PsiWhiteSpace('\n')(475,476)
    PsiComment(LINE_COMMENT)('// obs not found : return null')(476,506)
    PsiWhiteSpace('\n\n')(506,508)
    Statement(Statement)(508,587)
      ExpressionDefinition(ExpressionDefinition)(508,587)
        PsiElement('define')('define')(508,514)
        PsiWhiteSpace(' ')(514,515)
        Identifier(Identifier)(515,520)
          PsiElement(QUOTEDIDENTIFIER)('"Yes"')(515,520)
        PsiElement(':')(':')(520,521)
        PsiWhiteSpace('\n  ')(521,524)
        TermExpression(TermExpression)(524,587)
          TermExpressionTerm(TermExpressionTerm)(524,587)
            InvocationTerm(InvocationTerm)(524,587)
              FunctionInvocation(FunctionInvocation)(524,587)
                Function(Function)(524,587)
                  ReferentialIdentifier(ReferentialIdentifier)(524,530)
                    Identifier(Identifier)(524,530)
                      PsiElement(IDENTIFIER)('coding')(524,530)
                  PsiElement('(')('(')(530,531)
                  ParamList(ParamList)(531,586)
                    TermExpression(TermExpression)(531,536)
                      TermExpressionTerm(TermExpressionTerm)(531,536)
                        LiteralTerm(LiteralTerm)(531,536)
                          StringLiteral(StringLiteral)(531,536)
                            PsiElement(STRING)(''yes'')(531,536)
                    PsiElement(',')(',')(536,537)
                    PsiWhiteSpace(' ')(537,538)
                    TermExpression(TermExpression)(538,586)
                      TermExpressionTerm(TermExpressionTerm)(538,586)
                        LiteralTerm(LiteralTerm)(538,586)
                          StringLiteral(StringLiteral)(538,586)
                            PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(538,586)
                  PsiElement(')')(')')(586,587)
    PsiWhiteSpace('\n\n')(587,589)
    Statement(Statement)(589,666)
      ExpressionDefinition(ExpressionDefinition)(589,666)
        PsiElement('define')('define')(589,595)
        PsiWhiteSpace(' ')(595,596)
        Identifier(Identifier)(596,600)
          PsiElement(QUOTEDIDENTIFIER)('"No"')(596,600)
        PsiElement(':')(':')(600,601)
        PsiWhiteSpace('\n  ')(601,604)
        TermExpression(TermExpression)(604,666)
          TermExpressionTerm(TermExpressionTerm)(604,666)
            InvocationTerm(InvocationTerm)(604,666)
              FunctionInvocation(FunctionInvocation)(604,666)
                Function(Function)(604,666)
                  ReferentialIdentifier(ReferentialIdentifier)(604,610)
                    Identifier(Identifier)(604,610)
                      PsiElement(IDENTIFIER)('coding')(604,610)
                  PsiElement('(')('(')(610,611)
                  ParamList(ParamList)(611,665)
                    TermExpression(TermExpression)(611,615)
                      TermExpressionTerm(TermExpressionTerm)(611,615)
                        LiteralTerm(LiteralTerm)(611,615)
                          StringLiteral(StringLiteral)(611,615)
                            PsiElement(STRING)(''no'')(611,615)
                    PsiElement(',')(',')(615,616)
                    PsiWhiteSpace(' ')(616,617)
                    TermExpression(TermExpression)(617,665)
                      TermExpressionTerm(TermExpressionTerm)(617,665)
                        LiteralTerm(LiteralTerm)(617,665)
                          StringLiteral(StringLiteral)(617,665)
                            PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(617,665)
                  PsiElement(')')(')')(665,666)
    PsiWhiteSpace('\n\n')(666,668)
    Statement(Statement)(668,997)
      FunctionDefinition(FunctionDefinition)(668,997)
        PsiElement('define')('define')(668,674)
        PsiWhiteSpace(' ')(674,675)
        PsiElement('function')('function')(675,683)
        PsiWhiteSpace(' ')(683,684)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(684,700)
          Identifier(Identifier)(684,700)
            PsiElement(IDENTIFIER)('assesObservation')(684,700)
        PsiElement('(')('(')(700,701)
        OperandDefinition(OperandDefinition)(701,714)
          ReferentialIdentifier(ReferentialIdentifier)(701,702)
            Identifier(Identifier)(701,702)
              PsiElement(IDENTIFIER)('O')(701,702)
          PsiWhiteSpace(' ')(702,703)
          TypeSpecifier(TypeSpecifier)(703,714)
            NamedTypeSpecifier(NamedTypeSpecifier)(703,714)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(703,714)
                ReferentialIdentifier(ReferentialIdentifier)(703,714)
                  Identifier(Identifier)(703,714)
                    PsiElement(IDENTIFIER)('Observation')(703,714)
        PsiElement(')')(')')(714,715)
        PsiElement(':')(':')(715,716)
        PsiWhiteSpace('\n  ')(716,719)
        FunctionBody(FunctionBody)(719,997)
          TermExpression(TermExpression)(719,997)
            CaseExpressionTerm(CaseExpressionTerm)(719,997)
              PsiElement('case')('case')(719,723)
              PsiWhiteSpace('\n      ')(723,730)
              CaseExpressionItem(CaseExpressionItem)(730,754)
                PsiElement('when')('when')(730,734)
                PsiWhiteSpace('  ')(734,736)
                EqualityExpression(EqualityExpression)(736,744)
                  TermExpression(TermExpression)(736,737)
                    TermExpressionTerm(TermExpressionTerm)(736,737)
                      InvocationTerm(InvocationTerm)(736,737)
                        MemberInvocation(MemberInvocation)(736,737)
                          ReferentialIdentifier(ReferentialIdentifier)(736,737)
                            Identifier(Identifier)(736,737)
                              PsiElement(IDENTIFIER)('O')(736,737)
                  PsiWhiteSpace(' ')(737,738)
                  PsiElement('=')('=')(738,739)
                  PsiWhiteSpace(' ')(739,740)
                  TermExpression(TermExpression)(740,744)
                    TermExpressionTerm(TermExpressionTerm)(740,744)
                      LiteralTerm(LiteralTerm)(740,744)
                        NullLiteral(NullLiteral)(740,744)
                          PsiElement('null')('null')(740,744)
                PsiWhiteSpace(' ')(744,745)
                PsiElement('then')('then')(745,749)
                PsiWhiteSpace(' ')(749,750)
                TermExpression(TermExpression)(750,754)
                  TermExpressionTerm(TermExpressionTerm)(750,754)
                    LiteralTerm(LiteralTerm)(750,754)
                      NullLiteral(NullLiteral)(750,754)
                        PsiElement('null')('null')(750,754)
              PsiWhiteSpace('\n      ')(754,761)
              CaseExpressionItem(CaseExpressionItem)(761,803)
                PsiElement('when')('when')(761,765)
                PsiWhiteSpace('  ')(765,767)
                MembershipExpression(MembershipExpression)(767,793)
                  TermExpression(TermExpression)(767,775)
                    InvocationExpressionTerm(InvocationExpressionTerm)(767,775)
                      TermExpressionTerm(TermExpressionTerm)(767,768)
                        InvocationTerm(InvocationTerm)(767,768)
                          MemberInvocation(MemberInvocation)(767,768)
                            ReferentialIdentifier(ReferentialIdentifier)(767,768)
                              Identifier(Identifier)(767,768)
                                PsiElement(IDENTIFIER)('O')(767,768)
                      PsiElement('.')('.')(768,769)
                      QualifiedMemberInvocation(QualifiedMemberInvocation)(769,775)
                        ReferentialIdentifier(ReferentialIdentifier)(769,775)
                          Identifier(Identifier)(769,775)
                            PsiElement(IDENTIFIER)('status')(769,775)
                  PsiWhiteSpace(' ')(775,776)
                  PsiElement('in')('in')(776,778)
                  PsiWhiteSpace('  ')(778,780)
                  TermExpression(TermExpression)(780,793)
                    TermExpressionTerm(TermExpressionTerm)(780,793)
                      ListSelectorTerm(ListSelectorTerm)(780,793)
                        ListSelector(ListSelector)(780,793)
                          PsiElement('{')('{')(780,781)
                          TermExpression(TermExpression)(781,792)
                            TermExpressionTerm(TermExpressionTerm)(781,792)
                              LiteralTerm(LiteralTerm)(781,792)
                                StringLiteral(StringLiteral)(781,792)
                                  PsiElement(STRING)(''cancelled'')(781,792)
                          PsiElement('}')('}')(792,793)
                PsiWhiteSpace(' ')(793,794)
                PsiElement('then')('then')(794,798)
                PsiWhiteSpace(' ')(798,799)
                TermExpression(TermExpression)(799,803)
                  TermExpressionTerm(TermExpressionTerm)(799,803)
                    InvocationTerm(InvocationTerm)(799,803)
                      MemberInvocation(MemberInvocation)(799,803)
                        ReferentialIdentifier(ReferentialIdentifier)(799,803)
                          Identifier(Identifier)(799,803)
                            PsiElement(QUOTEDIDENTIFIER)('"No"')(799,803)
              PsiWhiteSpace('\n      ')(803,810)
              CaseExpressionItem(CaseExpressionItem)(810,842)
                PsiElement('when')('when')(810,814)
                PsiWhiteSpace(' ')(814,815)
                BooleanExpression(BooleanExpression)(815,830)
                  TermExpression(TermExpression)(815,822)
                    InvocationExpressionTerm(InvocationExpressionTerm)(815,822)
                      TermExpressionTerm(TermExpressionTerm)(815,816)
                        InvocationTerm(InvocationTerm)(815,816)
                          MemberInvocation(MemberInvocation)(815,816)
                            ReferentialIdentifier(ReferentialIdentifier)(815,816)
                              Identifier(Identifier)(815,816)
                                PsiElement(IDENTIFIER)('O')(815,816)
                      PsiElement('.')('.')(816,817)
                      QualifiedMemberInvocation(QualifiedMemberInvocation)(817,822)
                        ReferentialIdentifier(ReferentialIdentifier)(817,822)
                          Identifier(Identifier)(817,822)
                            PsiElement(IDENTIFIER)('value')(817,822)
                  PsiWhiteSpace(' ')(822,823)
                  PsiElement('is')('is')(823,825)
                  PsiWhiteSpace(' ')(825,826)
                  PsiElement('null')('null')(826,830)
                PsiWhiteSpace(' ')(830,831)
                PsiElement('then')('then')(831,835)
                PsiWhiteSpace('  ')(835,837)
                TermExpression(TermExpression)(837,842)
                  TermExpressionTerm(TermExpressionTerm)(837,842)
                    InvocationTerm(InvocationTerm)(837,842)
                      MemberInvocation(MemberInvocation)(837,842)
                        ReferentialIdentifier(ReferentialIdentifier)(837,842)
                          Identifier(Identifier)(837,842)
                            PsiElement(QUOTEDIDENTIFIER)('"Yes"')(837,842)
              PsiWhiteSpace('\n      ')(842,849)
              CaseExpressionItem(CaseExpressionItem)(849,907)
                PsiElement('when')('when')(849,853)
                PsiWhiteSpace(' ')(853,854)
                AndExpression(AndExpression)(854,896)
                  TypeExpression(TypeExpression)(854,877)
                    TermExpression(TermExpression)(854,861)
                      InvocationExpressionTerm(InvocationExpressionTerm)(854,861)
                        TermExpressionTerm(TermExpressionTerm)(854,855)
                          InvocationTerm(InvocationTerm)(854,855)
                            MemberInvocation(MemberInvocation)(854,855)
                              ReferentialIdentifier(ReferentialIdentifier)(854,855)
                                Identifier(Identifier)(854,855)
                                  PsiElement(IDENTIFIER)('O')(854,855)
                        PsiElement('.')('.')(855,856)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(856,861)
                          ReferentialIdentifier(ReferentialIdentifier)(856,861)
                            Identifier(Identifier)(856,861)
                              PsiElement(IDENTIFIER)('value')(856,861)
                    PsiWhiteSpace(' ')(861,862)
                    PsiElement('is')('is')(862,864)
                    PsiWhiteSpace(' ')(864,865)
                    TypeSpecifier(TypeSpecifier)(865,877)
                      NamedTypeSpecifier(NamedTypeSpecifier)(865,877)
                        Qualifier(Qualifier)(865,869)
                          Identifier(Identifier)(865,869)
                            PsiElement(IDENTIFIER)('FHIR')(865,869)
                        PsiElement('.')('.')(869,870)
                        ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(870,877)
                          ReferentialIdentifier(ReferentialIdentifier)(870,877)
                            Identifier(Identifier)(870,877)
                              PsiElement(IDENTIFIER)('boolean')(870,877)
                  PsiWhiteSpace(' ')(877,878)
                  PsiElement('and')('and')(878,881)
                  PsiWhiteSpace(' ')(881,882)
                  EqualityExpression(EqualityExpression)(882,896)
                    TermExpression(TermExpression)(882,889)
                      InvocationExpressionTerm(InvocationExpressionTerm)(882,889)
                        TermExpressionTerm(TermExpressionTerm)(882,883)
                          InvocationTerm(InvocationTerm)(882,883)
                            MemberInvocation(MemberInvocation)(882,883)
                              ReferentialIdentifier(ReferentialIdentifier)(882,883)
                                Identifier(Identifier)(882,883)
                                  PsiElement(IDENTIFIER)('O')(882,883)
                        PsiElement('.')('.')(883,884)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(884,889)
                          ReferentialIdentifier(ReferentialIdentifier)(884,889)
                            Identifier(Identifier)(884,889)
                              PsiElement(IDENTIFIER)('value')(884,889)
                    PsiWhiteSpace(' ')(889,890)
                    PsiElement('=')('=')(890,891)
                    PsiWhiteSpace(' ')(891,892)
                    TermExpression(TermExpression)(892,896)
                      TermExpressionTerm(TermExpressionTerm)(892,896)
                        LiteralTerm(LiteralTerm)(892,896)
                          BooleanLiteral(BooleanLiteral)(892,896)
                            PsiElement('true')('true')(892,896)
                PsiWhiteSpace(' ')(896,897)
                PsiElement('then')('then')(897,901)
                PsiWhiteSpace(' ')(901,902)
                TermExpression(TermExpression)(902,907)
                  TermExpressionTerm(TermExpressionTerm)(902,907)
                    InvocationTerm(InvocationTerm)(902,907)
                      MemberInvocation(MemberInvocation)(902,907)
                        ReferentialIdentifier(ReferentialIdentifier)(902,907)
                          Identifier(Identifier)(902,907)
                            PsiElement(QUOTEDIDENTIFIER)('"Yes"')(902,907)
              PsiWhiteSpace('\n      ')(907,914)
              CaseExpressionItem(CaseExpressionItem)(914,972)
                PsiElement('when')('when')(914,918)
                PsiWhiteSpace(' ')(918,919)
                AndExpression(AndExpression)(919,962)
                  TypeExpression(TypeExpression)(919,942)
                    TermExpression(TermExpression)(919,926)
                      InvocationExpressionTerm(InvocationExpressionTerm)(919,926)
                        TermExpressionTerm(TermExpressionTerm)(919,920)
                          InvocationTerm(InvocationTerm)(919,920)
                            MemberInvocation(MemberInvocation)(919,920)
                              ReferentialIdentifier(ReferentialIdentifier)(919,920)
                                Identifier(Identifier)(919,920)
                                  PsiElement(IDENTIFIER)('O')(919,920)
                        PsiElement('.')('.')(920,921)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(921,926)
                          ReferentialIdentifier(ReferentialIdentifier)(921,926)
                            Identifier(Identifier)(921,926)
                              PsiElement(IDENTIFIER)('value')(921,926)
                    PsiWhiteSpace(' ')(926,927)
                    PsiElement('is')('is')(927,929)
                    PsiWhiteSpace(' ')(929,930)
                    TypeSpecifier(TypeSpecifier)(930,942)
                      NamedTypeSpecifier(NamedTypeSpecifier)(930,942)
                        Qualifier(Qualifier)(930,934)
                          Identifier(Identifier)(930,934)
                            PsiElement(IDENTIFIER)('FHIR')(930,934)
                        PsiElement('.')('.')(934,935)
                        ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(935,942)
                          ReferentialIdentifier(ReferentialIdentifier)(935,942)
                            Identifier(Identifier)(935,942)
                              PsiElement(IDENTIFIER)('boolean')(935,942)
                  PsiWhiteSpace(' ')(942,943)
                  PsiElement('and')('and')(943,946)
                  PsiWhiteSpace(' ')(946,947)
                  EqualityExpression(EqualityExpression)(947,962)
                    TermExpression(TermExpression)(947,954)
                      InvocationExpressionTerm(InvocationExpressionTerm)(947,954)
                        TermExpressionTerm(TermExpressionTerm)(947,948)
                          InvocationTerm(InvocationTerm)(947,948)
                            MemberInvocation(MemberInvocation)(947,948)
                              ReferentialIdentifier(ReferentialIdentifier)(947,948)
                                Identifier(Identifier)(947,948)
                                  PsiElement(IDENTIFIER)('O')(947,948)
                        PsiElement('.')('.')(948,949)
                        QualifiedMemberInvocation(QualifiedMemberInvocation)(949,954)
                          ReferentialIdentifier(ReferentialIdentifier)(949,954)
                            Identifier(Identifier)(949,954)
                              PsiElement(IDENTIFIER)('value')(949,954)
                    PsiWhiteSpace(' ')(954,955)
                    PsiElement('=')('=')(955,956)
                    PsiWhiteSpace(' ')(956,957)
                    TermExpression(TermExpression)(957,962)
                      TermExpressionTerm(TermExpressionTerm)(957,962)
                        LiteralTerm(LiteralTerm)(957,962)
                          BooleanLiteral(BooleanLiteral)(957,962)
                            PsiElement('false')('false')(957,962)
                PsiWhiteSpace(' ')(962,963)
                PsiElement('then')('then')(963,967)
                PsiWhiteSpace(' ')(967,968)
                TermExpression(TermExpression)(968,972)
                  TermExpressionTerm(TermExpressionTerm)(968,972)
                    InvocationTerm(InvocationTerm)(968,972)
                      MemberInvocation(MemberInvocation)(968,972)
                        ReferentialIdentifier(ReferentialIdentifier)(968,972)
                          Identifier(Identifier)(968,972)
                            PsiElement(QUOTEDIDENTIFIER)('"No"')(968,972)
              PsiWhiteSpace('\n      ')(972,979)
              PsiElement('else')('else')(979,983)
              PsiWhiteSpace(' ')(983,984)
              TermExpression(TermExpression)(984,991)
                InvocationExpressionTerm(InvocationExpressionTerm)(984,991)
                  TermExpressionTerm(TermExpressionTerm)(984,985)
                    InvocationTerm(InvocationTerm)(984,985)
                      MemberInvocation(MemberInvocation)(984,985)
                        ReferentialIdentifier(ReferentialIdentifier)(984,985)
                          Identifier(Identifier)(984,985)
                            PsiElement(IDENTIFIER)('O')(984,985)
                  PsiElement('.')('.')(985,986)
                  QualifiedMemberInvocation(QualifiedMemberInvocation)(986,991)
                    ReferentialIdentifier(ReferentialIdentifier)(986,991)
                      Identifier(Identifier)(986,991)
                        PsiElement(IDENTIFIER)('value')(986,991)
              PsiWhiteSpace('\n  ')(991,994)
              PsiElement('end')('end')(994,997)
    PsiWhiteSpace('\n\n')(997,999)
    Statement(Statement)(999,1293)
      FunctionDefinition(FunctionDefinition)(999,1293)
        PsiElement('define')('define')(999,1005)
        PsiWhiteSpace(' ')(1005,1006)
        PsiElement('function')('function')(1006,1014)
        PsiWhiteSpace(' ')(1014,1015)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1015,1044)
          Identifier(Identifier)(1015,1044)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(1015,1044)
        PsiElement('(')('(')(1044,1045)
        OperandDefinition(OperandDefinition)(1045,1062)
          ReferentialIdentifier(ReferentialIdentifier)(1045,1051)
            Identifier(Identifier)(1045,1051)
              PsiElement(IDENTIFIER)('idlist')(1045,1051)
          PsiWhiteSpace(' ')(1051,1052)
          TypeSpecifier(TypeSpecifier)(1052,1062)
            ListTypeSpecifier(ListTypeSpecifier)(1052,1062)
              PsiElement('List')('List')(1052,1056)
              PsiElement('<')('<')(1056,1057)
              TypeSpecifier(TypeSpecifier)(1057,1061)
                NamedTypeSpecifier(NamedTypeSpecifier)(1057,1061)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1057,1061)
                    ReferentialIdentifier(ReferentialIdentifier)(1057,1061)
                      KeywordIdentifier(KeywordIdentifier)(1057,1061)
                        PsiElement('code')('code')(1057,1061)
              PsiElement('>')('>')(1061,1062)
        PsiElement(',')(',')(1062,1063)
        PsiWhiteSpace(' ')(1063,1064)
        OperandDefinition(OperandDefinition)(1064,1083)
          ReferentialIdentifier(ReferentialIdentifier)(1064,1074)
            KeywordIdentifier(KeywordIdentifier)(1064,1074)
              PsiElement('codesystem')('codesystem')(1064,1074)
          PsiWhiteSpace(' ')(1074,1075)
          TypeSpecifier(TypeSpecifier)(1075,1083)
            NamedTypeSpecifier(NamedTypeSpecifier)(1075,1083)
              Qualifier(Qualifier)(1075,1079)
                Identifier(Identifier)(1075,1079)
                  PsiElement(IDENTIFIER)('FHIR')(1075,1079)
              PsiElement('.')('.')(1079,1080)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1080,1083)
                ReferentialIdentifier(ReferentialIdentifier)(1080,1083)
                  Identifier(Identifier)(1080,1083)
                    PsiElement(IDENTIFIER)('url')(1080,1083)
        PsiElement(')')(')')(1083,1084)
        PsiElement(':')(':')(1084,1085)
        PsiWhiteSpace('\n  ')(1085,1088)
        FunctionBody(FunctionBody)(1088,1293)
          TermExpression(TermExpression)(1088,1293)
            IfThenElseExpressionTerm(IfThenElseExpressionTerm)(1088,1293)
              PsiElement('if')('if')(1088,1090)
              PsiWhiteSpace(' ')(1090,1091)
              BooleanExpression(BooleanExpression)(1091,1153)
                TermExpression(TermExpression)(1091,1145)
                  TermExpressionTerm(TermExpressionTerm)(1091,1145)
                    InvocationTerm(InvocationTerm)(1091,1145)
                      FunctionInvocation(FunctionInvocation)(1091,1145)
                        Function(Function)(1091,1145)
                          ReferentialIdentifier(ReferentialIdentifier)(1091,1124)
                            Identifier(Identifier)(1091,1124)
                              PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1091,1124)
                          PsiElement('(')('(')(1124,1125)
                          ParamList(ParamList)(1125,1144)
                            TermExpression(TermExpression)(1125,1131)
                              TermExpressionTerm(TermExpressionTerm)(1125,1131)
                                InvocationTerm(InvocationTerm)(1125,1131)
                                  MemberInvocation(MemberInvocation)(1125,1131)
                                    ReferentialIdentifier(ReferentialIdentifier)(1125,1131)
                                      Identifier(Identifier)(1125,1131)
                                        PsiElement(IDENTIFIER)('idlist')(1125,1131)
                            PsiWhiteSpace(' ')(1131,1132)
                            PsiElement(',')(',')(1132,1133)
                            PsiWhiteSpace(' ')(1133,1134)
                            TermExpression(TermExpression)(1134,1144)
                              TermExpressionTerm(TermExpressionTerm)(1134,1144)
                                InvocationTerm(InvocationTerm)(1134,1144)
                                  MemberInvocation(MemberInvocation)(1134,1144)
                                    ReferentialIdentifier(ReferentialIdentifier)(1134,1144)
                                      KeywordIdentifier(KeywordIdentifier)(1134,1144)
                                        PsiElement('codesystem')('codesystem')(1134,1144)
                          PsiElement(')')(')')(1144,1145)
                PsiWhiteSpace(' ')(1145,1146)
                PsiElement('is')('is')(1146,1148)
                PsiWhiteSpace(' ')(1148,1149)
                PsiElement('null')('null')(1149,1153)
              PsiWhiteSpace(' ')(1153,1154)
              PsiElement('then')('then')(1154,1158)
              PsiWhiteSpace('\n      ')(1158,1165)
              TermExpression(TermExpression)(1165,1221)
                TermExpressionTerm(TermExpressionTerm)(1165,1221)
                  InvocationTerm(InvocationTerm)(1165,1221)
                    FunctionInvocation(FunctionInvocation)(1165,1221)
                      Function(Function)(1165,1221)
                        ReferentialIdentifier(ReferentialIdentifier)(1165,1198)
                          Identifier(Identifier)(1165,1198)
                            PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1165,1198)
                        PsiElement('(')('(')(1198,1199)
                        ParamList(ParamList)(1199,1218)
                          TermExpression(TermExpression)(1199,1205)
                            TermExpressionTerm(TermExpressionTerm)(1199,1205)
                              InvocationTerm(InvocationTerm)(1199,1205)
                                MemberInvocation(MemberInvocation)(1199,1205)
                                  ReferentialIdentifier(ReferentialIdentifier)(1199,1205)
                                    Identifier(Identifier)(1199,1205)
                                      PsiElement(IDENTIFIER)('idlist')(1199,1205)
                          PsiWhiteSpace(' ')(1205,1206)
                          PsiElement(',')(',')(1206,1207)
                          PsiWhiteSpace(' ')(1207,1208)
                          TermExpression(TermExpression)(1208,1218)
                            TermExpressionTerm(TermExpressionTerm)(1208,1218)
                              InvocationTerm(InvocationTerm)(1208,1218)
                                MemberInvocation(MemberInvocation)(1208,1218)
                                  ReferentialIdentifier(ReferentialIdentifier)(1208,1218)
                                    KeywordIdentifier(KeywordIdentifier)(1208,1218)
                                      PsiElement('codesystem')('codesystem')(1208,1218)
                        PsiWhiteSpace('  ')(1218,1220)
                        PsiElement(')')(')')(1220,1221)
              PsiWhiteSpace('\n  ')(1221,1224)
              PsiElement('else')('else')(1224,1228)
              PsiWhiteSpace('\n    ')(1228,1233)
              TermExpression(TermExpression)(1233,1293)
                TermExpressionTerm(TermExpressionTerm)(1233,1293)
                  InvocationTerm(InvocationTerm)(1233,1293)
                    FunctionInvocation(FunctionInvocation)(1233,1293)
                      Function(Function)(1233,1293)
                        ReferentialIdentifier(ReferentialIdentifier)(1233,1270)
                          Identifier(Identifier)(1233,1270)
                            PsiElement(IDENTIFIER)('GetObservationDuringEncounterNotFound')(1233,1270)
                        PsiElement('(')('(')(1270,1271)
                        ParamList(ParamList)(1271,1290)
                          TermExpression(TermExpression)(1271,1277)
                            TermExpressionTerm(TermExpressionTerm)(1271,1277)
                              InvocationTerm(InvocationTerm)(1271,1277)
                                MemberInvocation(MemberInvocation)(1271,1277)
                                  ReferentialIdentifier(ReferentialIdentifier)(1271,1277)
                                    Identifier(Identifier)(1271,1277)
                                      PsiElement(IDENTIFIER)('idlist')(1271,1277)
                          PsiWhiteSpace(' ')(1277,1278)
                          PsiElement(',')(',')(1278,1279)
                          PsiWhiteSpace(' ')(1279,1280)
                          TermExpression(TermExpression)(1280,1290)
                            TermExpressionTerm(TermExpressionTerm)(1280,1290)
                              InvocationTerm(InvocationTerm)(1280,1290)
                                MemberInvocation(MemberInvocation)(1280,1290)
                                  ReferentialIdentifier(ReferentialIdentifier)(1280,1290)
                                    KeywordIdentifier(KeywordIdentifier)(1280,1290)
                                      PsiElement('codesystem')('codesystem')(1280,1290)
                        PsiWhiteSpace('  ')(1290,1292)
                        PsiElement(')')(')')(1292,1293)
    PsiWhiteSpace('\n\n\n')(1293,1296)
    Statement(Statement)(1296,1636)
      FunctionDefinition(FunctionDefinition)(1296,1636)
        PsiElement('define')('define')(1296,1302)
        PsiWhiteSpace(' ')(1302,1303)
        PsiElement('function')('function')(1303,1311)
        PsiWhiteSpace(' ')(1311,1312)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1312,1345)
          Identifier(Identifier)(1312,1345)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounterDone')(1312,1345)
        PsiElement('(')('(')(1345,1346)
        OperandDefinition(OperandDefinition)(1346,1363)
          ReferentialIdentifier(ReferentialIdentifier)(1346,1352)
            Identifier(Identifier)(1346,1352)
              PsiElement(IDENTIFIER)('idlist')(1346,1352)
          PsiWhiteSpace(' ')(1352,1353)
          TypeSpecifier(TypeSpecifier)(1353,1363)
            ListTypeSpecifier(ListTypeSpecifier)(1353,1363)
              PsiElement('List')('List')(1353,1357)
              PsiElement('<')('<')(1357,1358)
              TypeSpecifier(TypeSpecifier)(1358,1362)
                NamedTypeSpecifier(NamedTypeSpecifier)(1358,1362)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1358,1362)
                    ReferentialIdentifier(ReferentialIdentifier)(1358,1362)
                      KeywordIdentifier(KeywordIdentifier)(1358,1362)
                        PsiElement('code')('code')(1358,1362)
              PsiElement('>')('>')(1362,1363)
        PsiElement(',')(',')(1363,1364)
        PsiWhiteSpace(' ')(1364,1365)
        OperandDefinition(OperandDefinition)(1365,1384)
          ReferentialIdentifier(ReferentialIdentifier)(1365,1375)
            KeywordIdentifier(KeywordIdentifier)(1365,1375)
              PsiElement('codesystem')('codesystem')(1365,1375)
          PsiWhiteSpace(' ')(1375,1376)
          TypeSpecifier(TypeSpecifier)(1376,1384)
            NamedTypeSpecifier(NamedTypeSpecifier)(1376,1384)
              Qualifier(Qualifier)(1376,1380)
                Identifier(Identifier)(1376,1380)
                  PsiElement(IDENTIFIER)('FHIR')(1376,1380)
              PsiElement('.')('.')(1380,1381)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1381,1384)
                ReferentialIdentifier(ReferentialIdentifier)(1381,1384)
                  Identifier(Identifier)(1381,1384)
                    PsiElement(IDENTIFIER)('url')(1381,1384)
        PsiElement(')')(')')(1384,1385)
        PsiElement(':')(':')(1385,1386)
        PsiWhiteSpace('\n      ')(1386,1393)
        FunctionBody(FunctionBody)(1393,1636)
          TermExpression(TermExpression)(1393,1636)
            TermExpressionTerm(TermExpressionTerm)(1393,1636)
              InvocationTerm(InvocationTerm)(1393,1636)
                FunctionInvocation(FunctionInvocation)(1393,1636)
                  Function(Function)(1393,1636)
                    ReferentialIdentifier(ReferentialIdentifier)(1393,1397)
                      Identifier(Identifier)(1393,1397)
                        PsiElement(IDENTIFIER)('Last')(1393,1397)
                    PsiElement('(')('(')(1397,1398)
                    ParamList(ParamList)(1398,1635)
                      QueryExpression(QueryExpression)(1398,1635)
                        Query(Query)(1398,1635)
                          SourceClause(SourceClause)(1398,1414)
                            AliasedQuerySource(AliasedQuerySource)(1398,1414)
                              QuerySource(QuerySource)(1398,1412)
                                Retrieve(Retrieve)(1398,1412)
                                  PsiElement('[')('[')(1398,1399)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(1399,1410)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1399,1410)
                                      ReferentialIdentifier(ReferentialIdentifier)(1399,1410)
                                        Identifier(Identifier)(1399,1410)
                                          PsiElement(IDENTIFIER)('Observation')(1399,1410)
                                  PsiWhiteSpace(' ')(1410,1411)
                                  PsiElement(']')(']')(1411,1412)
                              PsiWhiteSpace(' ')(1412,1413)
                              Alias(Alias)(1413,1414)
                                Identifier(Identifier)(1413,1414)
                                  PsiElement(IDENTIFIER)('O')(1413,1414)
                          PsiWhiteSpace('\n        ')(1414,1423)
                          WhereClause(WhereClause)(1423,1635)
                            PsiElement('where')('where')(1423,1428)
                            PsiWhiteSpace(' ')(1428,1429)
                            AndExpression(AndExpression)(1429,1635)
                              AndExpression(AndExpression)(1429,1542)
                                EqualityExpression(EqualityExpression)(1429,1483)
                                  TermExpression(TermExpression)(1429,1468)
                                    TermExpressionTerm(TermExpressionTerm)(1429,1468)
                                      InvocationTerm(InvocationTerm)(1429,1468)
                                        FunctionInvocation(FunctionInvocation)(1429,1468)
                                          Function(Function)(1429,1468)
                                            ReferentialIdentifier(ReferentialIdentifier)(1429,1433)
                                              Identifier(Identifier)(1429,1433)
                                                PsiElement(IDENTIFIER)('Last')(1429,1433)
                                            PsiElement('(')('(')(1433,1434)
                                            ParamList(ParamList)(1434,1467)
                                              TermExpression(TermExpression)(1434,1467)
                                                TermExpressionTerm(TermExpressionTerm)(1434,1467)
                                                  InvocationTerm(InvocationTerm)(1434,1467)
                                                    FunctionInvocation(FunctionInvocation)(1434,1467)
                                                      Function(Function)(1434,1467)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1434,1439)
                                                          Identifier(Identifier)(1434,1439)
                                                            PsiElement(IDENTIFIER)('Split')(1434,1439)
                                                        PsiElement('(')('(')(1439,1440)
                                                        ParamList(ParamList)(1440,1466)
                                                          TermExpression(TermExpression)(1440,1461)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(1440,1461)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(1440,1451)
                                                                TermExpressionTerm(TermExpressionTerm)(1440,1441)
                                                                  InvocationTerm(InvocationTerm)(1440,1441)
                                                                    MemberInvocation(MemberInvocation)(1440,1441)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(1440,1441)
                                                                        Identifier(Identifier)(1440,1441)
                                                                          PsiElement(IDENTIFIER)('O')(1440,1441)
                                                                PsiElement('.')('.')(1441,1442)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(1442,1451)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(1442,1451)
                                                                    Identifier(Identifier)(1442,1451)
                                                                      PsiElement(IDENTIFIER)('encounter')(1442,1451)
                                                              PsiElement('.')('.')(1451,1452)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(1452,1461)
                                                                ReferentialIdentifier(ReferentialIdentifier)(1452,1461)
                                                                  Identifier(Identifier)(1452,1461)
                                                                    PsiElement(IDENTIFIER)('reference')(1452,1461)
                                                          PsiElement(',')(',')(1461,1462)
                                                          PsiWhiteSpace(' ')(1462,1463)
                                                          TermExpression(TermExpression)(1463,1466)
                                                            TermExpressionTerm(TermExpressionTerm)(1463,1466)
                                                              LiteralTerm(LiteralTerm)(1463,1466)
                                                                StringLiteral(StringLiteral)(1463,1466)
                                                                  PsiElement(STRING)(''/'')(1463,1466)
                                                        PsiElement(')')(')')(1466,1467)
                                            PsiElement(')')(')')(1467,1468)
                                  PsiWhiteSpace(' ')(1468,1469)
                                  PsiElement('=')('=')(1469,1470)
                                  PsiWhiteSpace(' ')(1470,1471)
                                  TermExpression(TermExpression)(1471,1483)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1471,1483)
                                      TermExpressionTerm(TermExpressionTerm)(1471,1480)
                                        InvocationTerm(InvocationTerm)(1471,1480)
                                          MemberInvocation(MemberInvocation)(1471,1480)
                                            ReferentialIdentifier(ReferentialIdentifier)(1471,1480)
                                              Identifier(Identifier)(1471,1480)
                                                PsiElement(IDENTIFIER)('Encounter')(1471,1480)
                                      PsiElement('.')('.')(1480,1481)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1481,1483)
                                        ReferentialIdentifier(ReferentialIdentifier)(1481,1483)
                                          Identifier(Identifier)(1481,1483)
                                            PsiElement(IDENTIFIER)('id')(1481,1483)
                                PsiWhiteSpace('\n        ')(1483,1492)
                                PsiElement('and')('and')(1492,1495)
                                PsiWhiteSpace(' ')(1495,1496)
                                MembershipExpression(MembershipExpression)(1496,1542)
                                  TermExpression(TermExpression)(1496,1504)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1496,1504)
                                      TermExpressionTerm(TermExpressionTerm)(1496,1497)
                                        InvocationTerm(InvocationTerm)(1496,1497)
                                          MemberInvocation(MemberInvocation)(1496,1497)
                                            ReferentialIdentifier(ReferentialIdentifier)(1496,1497)
                                              Identifier(Identifier)(1496,1497)
                                                PsiElement(IDENTIFIER)('O')(1496,1497)
                                      PsiElement('.')('.')(1497,1498)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1498,1504)
                                        ReferentialIdentifier(ReferentialIdentifier)(1498,1504)
                                          Identifier(Identifier)(1498,1504)
                                            PsiElement(IDENTIFIER)('status')(1498,1504)
                                  PsiWhiteSpace(' ')(1504,1505)
                                  PsiElement('in')('in')(1505,1507)
                                  PsiWhiteSpace(' ')(1507,1508)
                                  TermExpression(TermExpression)(1508,1542)
                                    TermExpressionTerm(TermExpressionTerm)(1508,1542)
                                      ListSelectorTerm(ListSelectorTerm)(1508,1542)
                                        ListSelector(ListSelector)(1508,1542)
                                          PsiElement('{')('{')(1508,1509)
                                          PsiWhiteSpace(' ')(1509,1510)
                                          TermExpression(TermExpression)(1510,1517)
                                            TermExpressionTerm(TermExpressionTerm)(1510,1517)
                                              LiteralTerm(LiteralTerm)(1510,1517)
                                                StringLiteral(StringLiteral)(1510,1517)
                                                  PsiElement(STRING)(''final'')(1510,1517)
                                          PsiElement(',')(',')(1517,1518)
                                          PsiWhiteSpace(' ')(1518,1519)
                                          TermExpression(TermExpression)(1519,1528)
                                            TermExpressionTerm(TermExpressionTerm)(1519,1528)
                                              LiteralTerm(LiteralTerm)(1519,1528)
                                                StringLiteral(StringLiteral)(1519,1528)
                                                  PsiElement(STRING)(''amended'')(1519,1528)
                                          PsiElement(',')(',')(1528,1529)
                                          PsiWhiteSpace(' ')(1529,1530)
                                          TermExpression(TermExpression)(1530,1541)
                                            TermExpressionTerm(TermExpressionTerm)(1530,1541)
                                              LiteralTerm(LiteralTerm)(1530,1541)
                                                StringLiteral(StringLiteral)(1530,1541)
                                                  PsiElement(STRING)(''corrected'')(1530,1541)
                                          PsiElement('}')('}')(1541,1542)
                              PsiWhiteSpace('\n        ')(1542,1551)
                              PsiElement('and')('and')(1551,1554)
                              PsiWhiteSpace(' ')(1554,1555)
                              ExistenceExpression(ExistenceExpression)(1555,1635)
                                PsiElement('exists')('exists')(1555,1561)
                                TermExpression(TermExpression)(1561,1635)
                                  TermExpressionTerm(TermExpressionTerm)(1561,1635)
                                    ParenthesizedTerm(ParenthesizedTerm)(1561,1635)
                                      PsiElement('(')('(')(1561,1562)
                                      QueryExpression(QueryExpression)(1562,1634)
                                        Query(Query)(1562,1634)
                                          SourceClause(SourceClause)(1562,1577)
                                            AliasedQuerySource(AliasedQuerySource)(1562,1577)
                                              QuerySource(QuerySource)(1562,1575)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(1562,1575)
                                                  QualifierExpression(QualifierExpression)(1562,1563)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1562,1563)
                                                      Identifier(Identifier)(1562,1563)
                                                        PsiElement(IDENTIFIER)('O')(1562,1563)
                                                  PsiElement('.')('.')(1563,1564)
                                                  QualifierExpression(QualifierExpression)(1564,1568)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1564,1568)
                                                      KeywordIdentifier(KeywordIdentifier)(1564,1568)
                                                        PsiElement('code')('code')(1564,1568)
                                                  PsiElement('.')('.')(1568,1569)
                                                  ReferentialIdentifier(ReferentialIdentifier)(1569,1575)
                                                    Identifier(Identifier)(1569,1575)
                                                      PsiElement(IDENTIFIER)('coding')(1569,1575)
                                              PsiWhiteSpace(' ')(1575,1576)
                                              Alias(Alias)(1576,1577)
                                                Identifier(Identifier)(1576,1577)
                                                  PsiElement(IDENTIFIER)('C')(1576,1577)
                                          PsiWhiteSpace(' ')(1577,1578)
                                          WhereClause(WhereClause)(1578,1634)
                                            PsiElement('where')('where')(1578,1583)
                                            PsiWhiteSpace(' ')(1583,1584)
                                            AndExpression(AndExpression)(1584,1634)
                                              MembershipExpression(MembershipExpression)(1584,1600)
                                                TermExpression(TermExpression)(1584,1590)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1584,1590)
                                                    TermExpressionTerm(TermExpressionTerm)(1584,1585)
                                                      InvocationTerm(InvocationTerm)(1584,1585)
                                                        MemberInvocation(MemberInvocation)(1584,1585)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1584,1585)
                                                            Identifier(Identifier)(1584,1585)
                                                              PsiElement(IDENTIFIER)('C')(1584,1585)
                                                    PsiElement('.')('.')(1585,1586)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1586,1590)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1586,1590)
                                                        KeywordIdentifier(KeywordIdentifier)(1586,1590)
                                                          PsiElement('code')('code')(1586,1590)
                                                PsiWhiteSpace(' ')(1590,1591)
                                                PsiElement('in')('in')(1591,1593)
                                                PsiWhiteSpace(' ')(1593,1594)
                                                TermExpression(TermExpression)(1594,1600)
                                                  TermExpressionTerm(TermExpressionTerm)(1594,1600)
                                                    InvocationTerm(InvocationTerm)(1594,1600)
                                                      MemberInvocation(MemberInvocation)(1594,1600)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1594,1600)
                                                          Identifier(Identifier)(1594,1600)
                                                            PsiElement(IDENTIFIER)('idlist')(1594,1600)
                                              PsiWhiteSpace('\n        ')(1600,1609)
                                              PsiElement('and')('and')(1609,1612)
                                              PsiWhiteSpace(' ')(1612,1613)
                                              EqualityExpression(EqualityExpression)(1613,1634)
                                                TermExpression(TermExpression)(1613,1621)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1613,1621)
                                                    TermExpressionTerm(TermExpressionTerm)(1613,1614)
                                                      InvocationTerm(InvocationTerm)(1613,1614)
                                                        MemberInvocation(MemberInvocation)(1613,1614)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1613,1614)
                                                            Identifier(Identifier)(1613,1614)
                                                              PsiElement(IDENTIFIER)('C')(1613,1614)
                                                    PsiElement('.')('.')(1614,1615)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1615,1621)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1615,1621)
                                                        Identifier(Identifier)(1615,1621)
                                                          PsiElement(IDENTIFIER)('system')(1615,1621)
                                                PsiWhiteSpace(' ')(1621,1622)
                                                PsiElement('=')('=')(1622,1623)
                                                PsiWhiteSpace(' ')(1623,1624)
                                                TermExpression(TermExpression)(1624,1634)
                                                  TermExpressionTerm(TermExpressionTerm)(1624,1634)
                                                    InvocationTerm(InvocationTerm)(1624,1634)
                                                      MemberInvocation(MemberInvocation)(1624,1634)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1624,1634)
                                                          KeywordIdentifier(KeywordIdentifier)(1624,1634)
                                                            PsiElement('codesystem')('codesystem')(1624,1634)
                                      PsiElement(')')(')')(1634,1635)
                    PsiElement(')')(')')(1635,1636)
    PsiWhiteSpace('\n\n\n')(1636,1639)
    Statement(Statement)(1639,1967)
      FunctionDefinition(FunctionDefinition)(1639,1967)
        PsiElement('define')('define')(1639,1645)
        PsiWhiteSpace(' ')(1645,1646)
        PsiElement('function')('function')(1646,1654)
        PsiWhiteSpace(' ')(1654,1655)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1655,1692)
          Identifier(Identifier)(1655,1692)
            PsiElement(IDENTIFIER)('GetObservationDuringEncounterNotFound')(1655,1692)
        PsiElement('(')('(')(1692,1693)
        OperandDefinition(OperandDefinition)(1693,1710)
          ReferentialIdentifier(ReferentialIdentifier)(1693,1699)
            Identifier(Identifier)(1693,1699)
              PsiElement(IDENTIFIER)('idlist')(1693,1699)
          PsiWhiteSpace(' ')(1699,1700)
          TypeSpecifier(TypeSpecifier)(1700,1710)
            ListTypeSpecifier(ListTypeSpecifier)(1700,1710)
              PsiElement('List')('List')(1700,1704)
              PsiElement('<')('<')(1704,1705)
              TypeSpecifier(TypeSpecifier)(1705,1709)
                NamedTypeSpecifier(NamedTypeSpecifier)(1705,1709)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1705,1709)
                    ReferentialIdentifier(ReferentialIdentifier)(1705,1709)
                      KeywordIdentifier(KeywordIdentifier)(1705,1709)
                        PsiElement('code')('code')(1705,1709)
              PsiElement('>')('>')(1709,1710)
        PsiElement(',')(',')(1710,1711)
        PsiWhiteSpace(' ')(1711,1712)
        OperandDefinition(OperandDefinition)(1712,1731)
          ReferentialIdentifier(ReferentialIdentifier)(1712,1722)
            KeywordIdentifier(KeywordIdentifier)(1712,1722)
              PsiElement('codesystem')('codesystem')(1712,1722)
          PsiWhiteSpace(' ')(1722,1723)
          TypeSpecifier(TypeSpecifier)(1723,1731)
            NamedTypeSpecifier(NamedTypeSpecifier)(1723,1731)
              Qualifier(Qualifier)(1723,1727)
                Identifier(Identifier)(1723,1727)
                  PsiElement(IDENTIFIER)('FHIR')(1723,1727)
              PsiElement('.')('.')(1727,1728)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1728,1731)
                ReferentialIdentifier(ReferentialIdentifier)(1728,1731)
                  Identifier(Identifier)(1728,1731)
                    PsiElement(IDENTIFIER)('url')(1728,1731)
        PsiElement(')')(')')(1731,1732)
        PsiElement(':')(':')(1732,1733)
        PsiWhiteSpace('\n      ')(1733,1740)
        FunctionBody(FunctionBody)(1740,1967)
          TermExpression(TermExpression)(1740,1967)
            TermExpressionTerm(TermExpressionTerm)(1740,1967)
              InvocationTerm(InvocationTerm)(1740,1967)
                FunctionInvocation(FunctionInvocation)(1740,1967)
                  Function(Function)(1740,1967)
                    ReferentialIdentifier(ReferentialIdentifier)(1740,1744)
                      Identifier(Identifier)(1740,1744)
                        PsiElement(IDENTIFIER)('Last')(1740,1744)
                    PsiElement('(')('(')(1744,1745)
                    ParamList(ParamList)(1745,1966)
                      QueryExpression(QueryExpression)(1745,1966)
                        Query(Query)(1745,1966)
                          SourceClause(SourceClause)(1745,1760)
                            AliasedQuerySource(AliasedQuerySource)(1745,1760)
                              QuerySource(QuerySource)(1745,1758)
                                Retrieve(Retrieve)(1745,1758)
                                  PsiElement('[')('[')(1745,1746)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(1746,1757)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(1746,1757)
                                      ReferentialIdentifier(ReferentialIdentifier)(1746,1757)
                                        Identifier(Identifier)(1746,1757)
                                          PsiElement(IDENTIFIER)('Observation')(1746,1757)
                                  PsiElement(']')(']')(1757,1758)
                              PsiWhiteSpace(' ')(1758,1759)
                              Alias(Alias)(1759,1760)
                                Identifier(Identifier)(1759,1760)
                                  PsiElement(IDENTIFIER)('O')(1759,1760)
                          PsiWhiteSpace('\n        ')(1760,1769)
                          WhereClause(WhereClause)(1769,1966)
                            PsiElement('where')('where')(1769,1774)
                            PsiWhiteSpace(' ')(1774,1775)
                            AndExpression(AndExpression)(1775,1966)
                              AndExpression(AndExpression)(1775,1869)
                                EqualityExpression(EqualityExpression)(1775,1829)
                                  TermExpression(TermExpression)(1775,1814)
                                    TermExpressionTerm(TermExpressionTerm)(1775,1814)
                                      InvocationTerm(InvocationTerm)(1775,1814)
                                        FunctionInvocation(FunctionInvocation)(1775,1814)
                                          Function(Function)(1775,1814)
                                            ReferentialIdentifier(ReferentialIdentifier)(1775,1779)
                                              Identifier(Identifier)(1775,1779)
                                                PsiElement(IDENTIFIER)('Last')(1775,1779)
                                            PsiElement('(')('(')(1779,1780)
                                            ParamList(ParamList)(1780,1813)
                                              TermExpression(TermExpression)(1780,1813)
                                                TermExpressionTerm(TermExpressionTerm)(1780,1813)
                                                  InvocationTerm(InvocationTerm)(1780,1813)
                                                    FunctionInvocation(FunctionInvocation)(1780,1813)
                                                      Function(Function)(1780,1813)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1780,1785)
                                                          Identifier(Identifier)(1780,1785)
                                                            PsiElement(IDENTIFIER)('Split')(1780,1785)
                                                        PsiElement('(')('(')(1785,1786)
                                                        ParamList(ParamList)(1786,1812)
                                                          TermExpression(TermExpression)(1786,1807)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(1786,1807)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(1786,1797)
                                                                TermExpressionTerm(TermExpressionTerm)(1786,1787)
                                                                  InvocationTerm(InvocationTerm)(1786,1787)
                                                                    MemberInvocation(MemberInvocation)(1786,1787)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(1786,1787)
                                                                        Identifier(Identifier)(1786,1787)
                                                                          PsiElement(IDENTIFIER)('O')(1786,1787)
                                                                PsiElement('.')('.')(1787,1788)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(1788,1797)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(1788,1797)
                                                                    Identifier(Identifier)(1788,1797)
                                                                      PsiElement(IDENTIFIER)('encounter')(1788,1797)
                                                              PsiElement('.')('.')(1797,1798)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(1798,1807)
                                                                ReferentialIdentifier(ReferentialIdentifier)(1798,1807)
                                                                  Identifier(Identifier)(1798,1807)
                                                                    PsiElement(IDENTIFIER)('reference')(1798,1807)
                                                          PsiElement(',')(',')(1807,1808)
                                                          PsiWhiteSpace(' ')(1808,1809)
                                                          TermExpression(TermExpression)(1809,1812)
                                                            TermExpressionTerm(TermExpressionTerm)(1809,1812)
                                                              LiteralTerm(LiteralTerm)(1809,1812)
                                                                StringLiteral(StringLiteral)(1809,1812)
                                                                  PsiElement(STRING)(''/'')(1809,1812)
                                                        PsiElement(')')(')')(1812,1813)
                                            PsiElement(')')(')')(1813,1814)
                                  PsiWhiteSpace(' ')(1814,1815)
                                  PsiElement('=')('=')(1815,1816)
                                  PsiWhiteSpace(' ')(1816,1817)
                                  TermExpression(TermExpression)(1817,1829)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1817,1829)
                                      TermExpressionTerm(TermExpressionTerm)(1817,1826)
                                        InvocationTerm(InvocationTerm)(1817,1826)
                                          MemberInvocation(MemberInvocation)(1817,1826)
                                            ReferentialIdentifier(ReferentialIdentifier)(1817,1826)
                                              Identifier(Identifier)(1817,1826)
                                                PsiElement(IDENTIFIER)('Encounter')(1817,1826)
                                      PsiElement('.')('.')(1826,1827)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1827,1829)
                                        ReferentialIdentifier(ReferentialIdentifier)(1827,1829)
                                          Identifier(Identifier)(1827,1829)
                                            PsiElement(IDENTIFIER)('id')(1827,1829)
                                PsiWhiteSpace('\n          ')(1829,1840)
                                PsiElement('and')('and')(1840,1843)
                                PsiWhiteSpace(' ')(1843,1844)
                                MembershipExpression(MembershipExpression)(1844,1869)
                                  TermExpression(TermExpression)(1844,1852)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(1844,1852)
                                      TermExpressionTerm(TermExpressionTerm)(1844,1845)
                                        InvocationTerm(InvocationTerm)(1844,1845)
                                          MemberInvocation(MemberInvocation)(1844,1845)
                                            ReferentialIdentifier(ReferentialIdentifier)(1844,1845)
                                              Identifier(Identifier)(1844,1845)
                                                PsiElement(IDENTIFIER)('O')(1844,1845)
                                      PsiElement('.')('.')(1845,1846)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(1846,1852)
                                        ReferentialIdentifier(ReferentialIdentifier)(1846,1852)
                                          Identifier(Identifier)(1846,1852)
                                            PsiElement(IDENTIFIER)('status')(1846,1852)
                                  PsiWhiteSpace(' ')(1852,1853)
                                  PsiElement('in')('in')(1853,1855)
                                  PsiWhiteSpace(' ')(1855,1856)
                                  TermExpression(TermExpression)(1856,1869)
                                    TermExpressionTerm(TermExpressionTerm)(1856,1869)
                                      ListSelectorTerm(ListSelectorTerm)(1856,1869)
                                        ListSelector(ListSelector)(1856,1869)
                                          PsiElement('{')('{')(1856,1857)
                                          TermExpression(TermExpression)(1857,1868)
                                            TermExpressionTerm(TermExpressionTerm)(1857,1868)
                                              LiteralTerm(LiteralTerm)(1857,1868)
                                                StringLiteral(StringLiteral)(1857,1868)
                                                  PsiElement(STRING)(''cancelled'')(1857,1868)
                                          PsiElement('}')('}')(1868,1869)
                              PsiWhiteSpace('\n          ')(1869,1880)
                              PsiElement('and')('and')(1880,1883)
                              PsiWhiteSpace(' ')(1883,1884)
                              ExistenceExpression(ExistenceExpression)(1884,1966)
                                PsiElement('exists')('exists')(1884,1890)
                                TermExpression(TermExpression)(1890,1966)
                                  TermExpressionTerm(TermExpressionTerm)(1890,1966)
                                    ParenthesizedTerm(ParenthesizedTerm)(1890,1966)
                                      PsiElement('(')('(')(1890,1891)
                                      QueryExpression(QueryExpression)(1891,1965)
                                        Query(Query)(1891,1965)
                                          SourceClause(SourceClause)(1891,1906)
                                            AliasedQuerySource(AliasedQuerySource)(1891,1906)
                                              QuerySource(QuerySource)(1891,1904)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(1891,1904)
                                                  QualifierExpression(QualifierExpression)(1891,1892)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1891,1892)
                                                      Identifier(Identifier)(1891,1892)
                                                        PsiElement(IDENTIFIER)('O')(1891,1892)
                                                  PsiElement('.')('.')(1892,1893)
                                                  QualifierExpression(QualifierExpression)(1893,1897)
                                                    ReferentialIdentifier(ReferentialIdentifier)(1893,1897)
                                                      KeywordIdentifier(KeywordIdentifier)(1893,1897)
                                                        PsiElement('code')('code')(1893,1897)
                                                  PsiElement('.')('.')(1897,1898)
                                                  ReferentialIdentifier(ReferentialIdentifier)(1898,1904)
                                                    Identifier(Identifier)(1898,1904)
                                                      PsiElement(IDENTIFIER)('coding')(1898,1904)
                                              PsiWhiteSpace(' ')(1904,1905)
                                              Alias(Alias)(1905,1906)
                                                Identifier(Identifier)(1905,1906)
                                                  PsiElement(IDENTIFIER)('C')(1905,1906)
                                          PsiWhiteSpace(' ')(1906,1907)
                                          WhereClause(WhereClause)(1907,1965)
                                            PsiElement('where')('where')(1907,1912)
                                            PsiWhiteSpace(' ')(1912,1913)
                                            AndExpression(AndExpression)(1913,1965)
                                              MembershipExpression(MembershipExpression)(1913,1929)
                                                TermExpression(TermExpression)(1913,1919)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1913,1919)
                                                    TermExpressionTerm(TermExpressionTerm)(1913,1914)
                                                      InvocationTerm(InvocationTerm)(1913,1914)
                                                        MemberInvocation(MemberInvocation)(1913,1914)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1913,1914)
                                                            Identifier(Identifier)(1913,1914)
                                                              PsiElement(IDENTIFIER)('C')(1913,1914)
                                                    PsiElement('.')('.')(1914,1915)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1915,1919)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1915,1919)
                                                        KeywordIdentifier(KeywordIdentifier)(1915,1919)
                                                          PsiElement('code')('code')(1915,1919)
                                                PsiWhiteSpace(' ')(1919,1920)
                                                PsiElement('in')('in')(1920,1922)
                                                PsiWhiteSpace(' ')(1922,1923)
                                                TermExpression(TermExpression)(1923,1929)
                                                  TermExpressionTerm(TermExpressionTerm)(1923,1929)
                                                    InvocationTerm(InvocationTerm)(1923,1929)
                                                      MemberInvocation(MemberInvocation)(1923,1929)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1923,1929)
                                                          Identifier(Identifier)(1923,1929)
                                                            PsiElement(IDENTIFIER)('idlist')(1923,1929)
                                              PsiWhiteSpace('\n          ')(1929,1940)
                                              PsiElement('and')('and')(1940,1943)
                                              PsiWhiteSpace(' ')(1943,1944)
                                              EqualityExpression(EqualityExpression)(1944,1965)
                                                TermExpression(TermExpression)(1944,1952)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(1944,1952)
                                                    TermExpressionTerm(TermExpressionTerm)(1944,1945)
                                                      InvocationTerm(InvocationTerm)(1944,1945)
                                                        MemberInvocation(MemberInvocation)(1944,1945)
                                                          ReferentialIdentifier(ReferentialIdentifier)(1944,1945)
                                                            Identifier(Identifier)(1944,1945)
                                                              PsiElement(IDENTIFIER)('C')(1944,1945)
                                                    PsiElement('.')('.')(1945,1946)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(1946,1952)
                                                      ReferentialIdentifier(ReferentialIdentifier)(1946,1952)
                                                        Identifier(Identifier)(1946,1952)
                                                          PsiElement(IDENTIFIER)('system')(1946,1952)
                                                PsiWhiteSpace(' ')(1952,1953)
                                                PsiElement('=')('=')(1953,1954)
                                                PsiWhiteSpace(' ')(1954,1955)
                                                TermExpression(TermExpression)(1955,1965)
                                                  TermExpressionTerm(TermExpressionTerm)(1955,1965)
                                                    InvocationTerm(InvocationTerm)(1955,1965)
                                                      MemberInvocation(MemberInvocation)(1955,1965)
                                                        ReferentialIdentifier(ReferentialIdentifier)(1955,1965)
                                                          KeywordIdentifier(KeywordIdentifier)(1955,1965)
                                                            PsiElement('codesystem')('codesystem')(1955,1965)
                                      PsiElement(')')(')')(1965,1966)
                    PsiElement(')')(')')(1966,1967)
    PsiWhiteSpace('\n\n')(1967,1969)
    Statement(Statement)(1969,2314)
      FunctionDefinition(FunctionDefinition)(1969,2314)
        PsiElement('define')('define')(1969,1975)
        PsiWhiteSpace(' ')(1975,1976)
        PsiElement('function')('function')(1976,1984)
        PsiWhiteSpace(' ')(1984,1985)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(1985,2020)
          Identifier(Identifier)(1985,2020)
            PsiElement(IDENTIFIER)('GetNumberObservationDuringEncounter')(1985,2020)
        PsiElement('(')('(')(2020,2021)
        OperandDefinition(OperandDefinition)(2021,2038)
          ReferentialIdentifier(ReferentialIdentifier)(2021,2027)
            Identifier(Identifier)(2021,2027)
              PsiElement(IDENTIFIER)('idlist')(2021,2027)
          PsiWhiteSpace(' ')(2027,2028)
          TypeSpecifier(TypeSpecifier)(2028,2038)
            ListTypeSpecifier(ListTypeSpecifier)(2028,2038)
              PsiElement('List')('List')(2028,2032)
              PsiElement('<')('<')(2032,2033)
              TypeSpecifier(TypeSpecifier)(2033,2037)
                NamedTypeSpecifier(NamedTypeSpecifier)(2033,2037)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2033,2037)
                    ReferentialIdentifier(ReferentialIdentifier)(2033,2037)
                      KeywordIdentifier(KeywordIdentifier)(2033,2037)
                        PsiElement('code')('code')(2033,2037)
              PsiElement('>')('>')(2037,2038)
        PsiElement(',')(',')(2038,2039)
        PsiWhiteSpace(' ')(2039,2040)
        OperandDefinition(OperandDefinition)(2040,2059)
          ReferentialIdentifier(ReferentialIdentifier)(2040,2050)
            KeywordIdentifier(KeywordIdentifier)(2040,2050)
              PsiElement('codesystem')('codesystem')(2040,2050)
          PsiWhiteSpace(' ')(2050,2051)
          TypeSpecifier(TypeSpecifier)(2051,2059)
            NamedTypeSpecifier(NamedTypeSpecifier)(2051,2059)
              Qualifier(Qualifier)(2051,2055)
                Identifier(Identifier)(2051,2055)
                  PsiElement(IDENTIFIER)('FHIR')(2051,2055)
              PsiElement('.')('.')(2055,2056)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2056,2059)
                ReferentialIdentifier(ReferentialIdentifier)(2056,2059)
                  Identifier(Identifier)(2056,2059)
                    PsiElement(IDENTIFIER)('url')(2056,2059)
        PsiElement(')')(')')(2059,2060)
        PsiElement(':')(':')(2060,2061)
        PsiWhiteSpace('\n  ')(2061,2064)
        FunctionBody(FunctionBody)(2064,2314)
          TermExpression(TermExpression)(2064,2314)
            TermExpressionTerm(TermExpressionTerm)(2064,2314)
              InvocationTerm(InvocationTerm)(2064,2314)
                FunctionInvocation(FunctionInvocation)(2064,2314)
                  Function(Function)(2064,2314)
                    ReferentialIdentifier(ReferentialIdentifier)(2064,2069)
                      Identifier(Identifier)(2064,2069)
                        PsiElement(IDENTIFIER)('Count')(2064,2069)
                    PsiElement('(')('(')(2069,2070)
                    PsiWhiteSpace('\n    ')(2070,2075)
                    ParamList(ParamList)(2075,2313)
                      QueryExpression(QueryExpression)(2075,2313)
                        Query(Query)(2075,2313)
                          SourceClause(SourceClause)(2075,2090)
                            AliasedQuerySource(AliasedQuerySource)(2075,2090)
                              QuerySource(QuerySource)(2075,2088)
                                Retrieve(Retrieve)(2075,2088)
                                  PsiElement('[')('[')(2075,2076)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(2076,2087)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2076,2087)
                                      ReferentialIdentifier(ReferentialIdentifier)(2076,2087)
                                        Identifier(Identifier)(2076,2087)
                                          PsiElement(IDENTIFIER)('Observation')(2076,2087)
                                  PsiElement(']')(']')(2087,2088)
                              PsiWhiteSpace(' ')(2088,2089)
                              Alias(Alias)(2089,2090)
                                Identifier(Identifier)(2089,2090)
                                  PsiElement(IDENTIFIER)('O')(2089,2090)
                          PsiWhiteSpace('\n        ')(2090,2099)
                          WhereClause(WhereClause)(2099,2313)
                            PsiElement('where')('where')(2099,2104)
                            PsiWhiteSpace(' ')(2104,2105)
                            AndExpression(AndExpression)(2105,2313)
                              AndExpression(AndExpression)(2105,2218)
                                EqualityExpression(EqualityExpression)(2105,2159)
                                  TermExpression(TermExpression)(2105,2144)
                                    TermExpressionTerm(TermExpressionTerm)(2105,2144)
                                      InvocationTerm(InvocationTerm)(2105,2144)
                                        FunctionInvocation(FunctionInvocation)(2105,2144)
                                          Function(Function)(2105,2144)
                                            ReferentialIdentifier(ReferentialIdentifier)(2105,2109)
                                              Identifier(Identifier)(2105,2109)
                                                PsiElement(IDENTIFIER)('Last')(2105,2109)
                                            PsiElement('(')('(')(2109,2110)
                                            ParamList(ParamList)(2110,2143)
                                              TermExpression(TermExpression)(2110,2143)
                                                TermExpressionTerm(TermExpressionTerm)(2110,2143)
                                                  InvocationTerm(InvocationTerm)(2110,2143)
                                                    FunctionInvocation(FunctionInvocation)(2110,2143)
                                                      Function(Function)(2110,2143)
                                                        ReferentialIdentifier(ReferentialIdentifier)(2110,2115)
                                                          Identifier(Identifier)(2110,2115)
                                                            PsiElement(IDENTIFIER)('Split')(2110,2115)
                                                        PsiElement('(')('(')(2115,2116)
                                                        ParamList(ParamList)(2116,2142)
                                                          TermExpression(TermExpression)(2116,2137)
                                                            InvocationExpressionTerm(InvocationExpressionTerm)(2116,2137)
                                                              InvocationExpressionTerm(InvocationExpressionTerm)(2116,2127)
                                                                TermExpressionTerm(TermExpressionTerm)(2116,2117)
                                                                  InvocationTerm(InvocationTerm)(2116,2117)
                                                                    MemberInvocation(MemberInvocation)(2116,2117)
                                                                      ReferentialIdentifier(ReferentialIdentifier)(2116,2117)
                                                                        Identifier(Identifier)(2116,2117)
                                                                          PsiElement(IDENTIFIER)('O')(2116,2117)
                                                                PsiElement('.')('.')(2117,2118)
                                                                QualifiedMemberInvocation(QualifiedMemberInvocation)(2118,2127)
                                                                  ReferentialIdentifier(ReferentialIdentifier)(2118,2127)
                                                                    Identifier(Identifier)(2118,2127)
                                                                      PsiElement(IDENTIFIER)('encounter')(2118,2127)
                                                              PsiElement('.')('.')(2127,2128)
                                                              QualifiedMemberInvocation(QualifiedMemberInvocation)(2128,2137)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2128,2137)
                                                                  Identifier(Identifier)(2128,2137)
                                                                    PsiElement(IDENTIFIER)('reference')(2128,2137)
                                                          PsiElement(',')(',')(2137,2138)
                                                          PsiWhiteSpace(' ')(2138,2139)
                                                          TermExpression(TermExpression)(2139,2142)
                                                            TermExpressionTerm(TermExpressionTerm)(2139,2142)
                                                              LiteralTerm(LiteralTerm)(2139,2142)
                                                                StringLiteral(StringLiteral)(2139,2142)
                                                                  PsiElement(STRING)(''/'')(2139,2142)
                                                        PsiElement(')')(')')(2142,2143)
                                            PsiElement(')')(')')(2143,2144)
                                  PsiWhiteSpace(' ')(2144,2145)
                                  PsiElement('=')('=')(2145,2146)
                                  PsiWhiteSpace(' ')(2146,2147)
                                  TermExpression(TermExpression)(2147,2159)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(2147,2159)
                                      TermExpressionTerm(TermExpressionTerm)(2147,2156)
                                        InvocationTerm(InvocationTerm)(2147,2156)
                                          MemberInvocation(MemberInvocation)(2147,2156)
                                            ReferentialIdentifier(ReferentialIdentifier)(2147,2156)
                                              Identifier(Identifier)(2147,2156)
                                                PsiElement(IDENTIFIER)('Encounter')(2147,2156)
                                      PsiElement('.')('.')(2156,2157)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(2157,2159)
                                        ReferentialIdentifier(ReferentialIdentifier)(2157,2159)
                                          Identifier(Identifier)(2157,2159)
                                            PsiElement(IDENTIFIER)('id')(2157,2159)
                                PsiWhiteSpace('\n        ')(2159,2168)
                                PsiElement('and')('and')(2168,2171)
                                PsiWhiteSpace(' ')(2171,2172)
                                MembershipExpression(MembershipExpression)(2172,2218)
                                  TermExpression(TermExpression)(2172,2180)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(2172,2180)
                                      TermExpressionTerm(TermExpressionTerm)(2172,2173)
                                        InvocationTerm(InvocationTerm)(2172,2173)
                                          MemberInvocation(MemberInvocation)(2172,2173)
                                            ReferentialIdentifier(ReferentialIdentifier)(2172,2173)
                                              Identifier(Identifier)(2172,2173)
                                                PsiElement(IDENTIFIER)('O')(2172,2173)
                                      PsiElement('.')('.')(2173,2174)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(2174,2180)
                                        ReferentialIdentifier(ReferentialIdentifier)(2174,2180)
                                          Identifier(Identifier)(2174,2180)
                                            PsiElement(IDENTIFIER)('status')(2174,2180)
                                  PsiWhiteSpace(' ')(2180,2181)
                                  PsiElement('in')('in')(2181,2183)
                                  PsiWhiteSpace(' ')(2183,2184)
                                  TermExpression(TermExpression)(2184,2218)
                                    TermExpressionTerm(TermExpressionTerm)(2184,2218)
                                      ListSelectorTerm(ListSelectorTerm)(2184,2218)
                                        ListSelector(ListSelector)(2184,2218)
                                          PsiElement('{')('{')(2184,2185)
                                          PsiWhiteSpace(' ')(2185,2186)
                                          TermExpression(TermExpression)(2186,2193)
                                            TermExpressionTerm(TermExpressionTerm)(2186,2193)
                                              LiteralTerm(LiteralTerm)(2186,2193)
                                                StringLiteral(StringLiteral)(2186,2193)
                                                  PsiElement(STRING)(''final'')(2186,2193)
                                          PsiElement(',')(',')(2193,2194)
                                          PsiWhiteSpace(' ')(2194,2195)
                                          TermExpression(TermExpression)(2195,2204)
                                            TermExpressionTerm(TermExpressionTerm)(2195,2204)
                                              LiteralTerm(LiteralTerm)(2195,2204)
                                                StringLiteral(StringLiteral)(2195,2204)
                                                  PsiElement(STRING)(''amended'')(2195,2204)
                                          PsiElement(',')(',')(2204,2205)
                                          PsiWhiteSpace(' ')(2205,2206)
                                          TermExpression(TermExpression)(2206,2217)
                                            TermExpressionTerm(TermExpressionTerm)(2206,2217)
                                              LiteralTerm(LiteralTerm)(2206,2217)
                                                StringLiteral(StringLiteral)(2206,2217)
                                                  PsiElement(STRING)(''corrected'')(2206,2217)
                                          PsiElement('}')('}')(2217,2218)
                              PsiWhiteSpace('\n        ')(2218,2227)
                              PsiElement('and')('and')(2227,2230)
                              PsiWhiteSpace(' ')(2230,2231)
                              ExistenceExpression(ExistenceExpression)(2231,2313)
                                PsiElement('exists')('exists')(2231,2237)
                                TermExpression(TermExpression)(2237,2313)
                                  TermExpressionTerm(TermExpressionTerm)(2237,2313)
                                    ParenthesizedTerm(ParenthesizedTerm)(2237,2313)
                                      PsiElement('(')('(')(2237,2238)
                                      TermExpression(TermExpression)(2238,2312)
                                        TermExpressionTerm(TermExpressionTerm)(2238,2312)
                                          ParenthesizedTerm(ParenthesizedTerm)(2238,2312)
                                            PsiElement('(')('(')(2238,2239)
                                            QueryExpression(QueryExpression)(2239,2311)
                                              Query(Query)(2239,2311)
                                                SourceClause(SourceClause)(2239,2254)
                                                  AliasedQuerySource(AliasedQuerySource)(2239,2254)
                                                    QuerySource(QuerySource)(2239,2252)
                                                      QualifiedIdentifierExpression(QualifiedIdentifierExpression)(2239,2252)
                                                        QualifierExpression(QualifierExpression)(2239,2240)
                                                          ReferentialIdentifier(ReferentialIdentifier)(2239,2240)
                                                            Identifier(Identifier)(2239,2240)
                                                              PsiElement(IDENTIFIER)('O')(2239,2240)
                                                        PsiElement('.')('.')(2240,2241)
                                                        QualifierExpression(QualifierExpression)(2241,2245)
                                                          ReferentialIdentifier(ReferentialIdentifier)(2241,2245)
                                                            KeywordIdentifier(KeywordIdentifier)(2241,2245)
                                                              PsiElement('code')('code')(2241,2245)
                                                        PsiElement('.')('.')(2245,2246)
                                                        ReferentialIdentifier(ReferentialIdentifier)(2246,2252)
                                                          Identifier(Identifier)(2246,2252)
                                                            PsiElement(IDENTIFIER)('coding')(2246,2252)
                                                    PsiWhiteSpace(' ')(2252,2253)
                                                    Alias(Alias)(2253,2254)
                                                      Identifier(Identifier)(2253,2254)
                                                        PsiElement(IDENTIFIER)('C')(2253,2254)
                                                PsiWhiteSpace(' ')(2254,2255)
                                                WhereClause(WhereClause)(2255,2311)
                                                  PsiElement('where')('where')(2255,2260)
                                                  PsiWhiteSpace(' ')(2260,2261)
                                                  AndExpression(AndExpression)(2261,2311)
                                                    MembershipExpression(MembershipExpression)(2261,2277)
                                                      TermExpression(TermExpression)(2261,2267)
                                                        InvocationExpressionTerm(InvocationExpressionTerm)(2261,2267)
                                                          TermExpressionTerm(TermExpressionTerm)(2261,2262)
                                                            InvocationTerm(InvocationTerm)(2261,2262)
                                                              MemberInvocation(MemberInvocation)(2261,2262)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2261,2262)
                                                                  Identifier(Identifier)(2261,2262)
                                                                    PsiElement(IDENTIFIER)('C')(2261,2262)
                                                          PsiElement('.')('.')(2262,2263)
                                                          QualifiedMemberInvocation(QualifiedMemberInvocation)(2263,2267)
                                                            ReferentialIdentifier(ReferentialIdentifier)(2263,2267)
                                                              KeywordIdentifier(KeywordIdentifier)(2263,2267)
                                                                PsiElement('code')('code')(2263,2267)
                                                      PsiWhiteSpace(' ')(2267,2268)
                                                      PsiElement('in')('in')(2268,2270)
                                                      PsiWhiteSpace(' ')(2270,2271)
                                                      TermExpression(TermExpression)(2271,2277)
                                                        TermExpressionTerm(TermExpressionTerm)(2271,2277)
                                                          InvocationTerm(InvocationTerm)(2271,2277)
                                                            MemberInvocation(MemberInvocation)(2271,2277)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2271,2277)
                                                                Identifier(Identifier)(2271,2277)
                                                                  PsiElement(IDENTIFIER)('idlist')(2271,2277)
                                                    PsiWhiteSpace('\n        ')(2277,2286)
                                                    PsiElement('and')('and')(2286,2289)
                                                    PsiWhiteSpace(' ')(2289,2290)
                                                    EqualityExpression(EqualityExpression)(2290,2311)
                                                      TermExpression(TermExpression)(2290,2298)
                                                        InvocationExpressionTerm(InvocationExpressionTerm)(2290,2298)
                                                          TermExpressionTerm(TermExpressionTerm)(2290,2291)
                                                            InvocationTerm(InvocationTerm)(2290,2291)
                                                              MemberInvocation(MemberInvocation)(2290,2291)
                                                                ReferentialIdentifier(ReferentialIdentifier)(2290,2291)
                                                                  Identifier(Identifier)(2290,2291)
                                                                    PsiElement(IDENTIFIER)('C')(2290,2291)
                                                          PsiElement('.')('.')(2291,2292)
                                                          QualifiedMemberInvocation(QualifiedMemberInvocation)(2292,2298)
                                                            ReferentialIdentifier(ReferentialIdentifier)(2292,2298)
                                                              Identifier(Identifier)(2292,2298)
                                                                PsiElement(IDENTIFIER)('system')(2292,2298)
                                                      PsiWhiteSpace(' ')(2298,2299)
                                                      PsiElement('=')('=')(2299,2300)
                                                      PsiWhiteSpace(' ')(2300,2301)
                                                      TermExpression(TermExpression)(2301,2311)
                                                        TermExpressionTerm(TermExpressionTerm)(2301,2311)
                                                          InvocationTerm(InvocationTerm)(2301,2311)
                                                            MemberInvocation(MemberInvocation)(2301,2311)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2301,2311)
                                                                KeywordIdentifier(KeywordIdentifier)(2301,2311)
                                                                  PsiElement('codesystem')('codesystem')(2301,2311)
                                            PsiElement(')')(')')(2311,2312)
                                      PsiElement(')')(')')(2312,2313)
                    PsiElement(')')(')')(2313,2314)
    PsiWhiteSpace('\n\n')(2314,2316)
    Statement(Statement)(2316,2468)
      FunctionDefinition(FunctionDefinition)(2316,2468)
        PsiElement('define')('define')(2316,2322)
        PsiWhiteSpace(' ')(2322,2323)
        PsiElement('function')('function')(2323,2331)
        PsiWhiteSpace(' ')(2331,2332)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2332,2338)
          Identifier(Identifier)(2332,2338)
            PsiElement(IDENTIFIER)('HasObs')(2332,2338)
        PsiElement('(')('(')(2338,2339)
        OperandDefinition(OperandDefinition)(2339,2361)
          ReferentialIdentifier(ReferentialIdentifier)(2339,2345)
            Identifier(Identifier)(2339,2345)
              PsiElement(IDENTIFIER)('idlist')(2339,2345)
          PsiWhiteSpace(' ')(2345,2346)
          TypeSpecifier(TypeSpecifier)(2346,2361)
            ListTypeSpecifier(ListTypeSpecifier)(2346,2361)
              PsiElement('List')('List')(2346,2350)
              PsiElement('<')('<')(2350,2351)
              TypeSpecifier(TypeSpecifier)(2351,2360)
                NamedTypeSpecifier(NamedTypeSpecifier)(2351,2360)
                  Qualifier(Qualifier)(2351,2355)
                    Identifier(Identifier)(2351,2355)
                      PsiElement(IDENTIFIER)('FHIR')(2351,2355)
                  PsiElement('.')('.')(2355,2356)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2356,2360)
                    ReferentialIdentifier(ReferentialIdentifier)(2356,2360)
                      KeywordIdentifier(KeywordIdentifier)(2356,2360)
                        PsiElement('code')('code')(2356,2360)
              PsiElement('>')('>')(2360,2361)
        PsiElement(',')(',')(2361,2362)
        PsiWhiteSpace(' ')(2362,2363)
        OperandDefinition(OperandDefinition)(2363,2387)
          ReferentialIdentifier(ReferentialIdentifier)(2363,2373)
            KeywordIdentifier(KeywordIdentifier)(2363,2373)
              PsiElement('codesystem')('codesystem')(2363,2373)
          PsiWhiteSpace(' ')(2373,2374)
          TypeSpecifier(TypeSpecifier)(2374,2387)
            NamedTypeSpecifier(NamedTypeSpecifier)(2374,2387)
              Qualifier(Qualifier)(2374,2380)
                Identifier(Identifier)(2374,2380)
                  PsiElement(IDENTIFIER)('System')(2374,2380)
              PsiElement('.')('.')(2380,2381)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2381,2387)
                ReferentialIdentifier(ReferentialIdentifier)(2381,2387)
                  Identifier(Identifier)(2381,2387)
                    PsiElement(IDENTIFIER)('String')(2381,2387)
        PsiElement(')')(')')(2387,2388)
        PsiElement(':')(':')(2388,2389)
        PsiWhiteSpace('\n    ')(2389,2394)
        FunctionBody(FunctionBody)(2394,2468)
          TermExpression(TermExpression)(2394,2468)
            TermExpressionTerm(TermExpressionTerm)(2394,2468)
              InvocationTerm(InvocationTerm)(2394,2468)
                FunctionInvocation(FunctionInvocation)(2394,2468)
                  Function(Function)(2394,2468)
                    ReferentialIdentifier(ReferentialIdentifier)(2394,2410)
                      Identifier(Identifier)(2394,2410)
                        PsiElement(IDENTIFIER)('assesObservation')(2394,2410)
                    PsiElement('(')('(')(2410,2411)
                    ParamList(ParamList)(2411,2467)
                      TermExpression(TermExpression)(2411,2467)
                        TermExpressionTerm(TermExpressionTerm)(2411,2467)
                          InvocationTerm(InvocationTerm)(2411,2467)
                            FunctionInvocation(FunctionInvocation)(2411,2467)
                              Function(Function)(2411,2467)
                                ReferentialIdentifier(ReferentialIdentifier)(2411,2440)
                                  Identifier(Identifier)(2411,2440)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2411,2440)
                                PsiElement('(')('(')(2440,2441)
                                ParamList(ParamList)(2441,2466)
                                  TermExpression(TermExpression)(2441,2447)
                                    TermExpressionTerm(TermExpressionTerm)(2441,2447)
                                      InvocationTerm(InvocationTerm)(2441,2447)
                                        MemberInvocation(MemberInvocation)(2441,2447)
                                          ReferentialIdentifier(ReferentialIdentifier)(2441,2447)
                                            Identifier(Identifier)(2441,2447)
                                              PsiElement(IDENTIFIER)('idlist')(2441,2447)
                                  PsiElement(',')(',')(2447,2448)
                                  PsiWhiteSpace(' ')(2448,2449)
                                  TermExpression(TermExpression)(2449,2466)
                                    TermExpressionTerm(TermExpressionTerm)(2449,2466)
                                      InvocationTerm(InvocationTerm)(2449,2466)
                                        FunctionInvocation(FunctionInvocation)(2449,2466)
                                          Function(Function)(2449,2466)
                                            ReferentialIdentifier(ReferentialIdentifier)(2449,2454)
                                              Identifier(Identifier)(2449,2454)
                                                PsiElement(IDENTIFIER)('ToUrl')(2449,2454)
                                            PsiElement('(')('(')(2454,2455)
                                            ParamList(ParamList)(2455,2465)
                                              TermExpression(TermExpression)(2455,2465)
                                                TermExpressionTerm(TermExpressionTerm)(2455,2465)
                                                  InvocationTerm(InvocationTerm)(2455,2465)
                                                    MemberInvocation(MemberInvocation)(2455,2465)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2455,2465)
                                                        KeywordIdentifier(KeywordIdentifier)(2455,2465)
                                                          PsiElement('codesystem')('codesystem')(2455,2465)
                                            PsiElement(')')(')')(2465,2466)
                                PsiElement(')')(')')(2466,2467)
                    PsiElement(')')(')')(2467,2468)
    PsiWhiteSpace('\n\n')(2468,2470)
    Statement(Statement)(2470,2610)
      FunctionDefinition(FunctionDefinition)(2470,2610)
        PsiElement('define')('define')(2470,2476)
        PsiWhiteSpace(' ')(2476,2477)
        PsiElement('function')('function')(2477,2485)
        PsiWhiteSpace(' ')(2485,2486)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2486,2492)
          Identifier(Identifier)(2486,2492)
            PsiElement(IDENTIFIER)('HasObs')(2486,2492)
        PsiElement('(')('(')(2492,2493)
        OperandDefinition(OperandDefinition)(2493,2505)
          ReferentialIdentifier(ReferentialIdentifier)(2493,2495)
            Identifier(Identifier)(2493,2495)
              PsiElement(IDENTIFIER)('id')(2493,2495)
          PsiWhiteSpace(' ')(2495,2496)
          TypeSpecifier(TypeSpecifier)(2496,2505)
            NamedTypeSpecifier(NamedTypeSpecifier)(2496,2505)
              Qualifier(Qualifier)(2496,2500)
                Identifier(Identifier)(2496,2500)
                  PsiElement(IDENTIFIER)('FHIR')(2496,2500)
              PsiElement('.')('.')(2500,2501)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2501,2505)
                ReferentialIdentifier(ReferentialIdentifier)(2501,2505)
                  KeywordIdentifier(KeywordIdentifier)(2501,2505)
                    PsiElement('code')('code')(2501,2505)
        PsiElement(',')(',')(2505,2506)
        PsiWhiteSpace(' ')(2506,2507)
        OperandDefinition(OperandDefinition)(2507,2531)
          ReferentialIdentifier(ReferentialIdentifier)(2507,2517)
            KeywordIdentifier(KeywordIdentifier)(2507,2517)
              PsiElement('codesystem')('codesystem')(2507,2517)
          PsiWhiteSpace(' ')(2517,2518)
          TypeSpecifier(TypeSpecifier)(2518,2531)
            NamedTypeSpecifier(NamedTypeSpecifier)(2518,2531)
              Qualifier(Qualifier)(2518,2524)
                Identifier(Identifier)(2518,2524)
                  PsiElement(IDENTIFIER)('System')(2518,2524)
              PsiElement('.')('.')(2524,2525)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2525,2531)
                ReferentialIdentifier(ReferentialIdentifier)(2525,2531)
                  Identifier(Identifier)(2525,2531)
                    PsiElement(IDENTIFIER)('String')(2525,2531)
        PsiElement(')')(')')(2531,2532)
        PsiElement(':')(':')(2532,2533)
        PsiWhiteSpace('\n    ')(2533,2538)
        FunctionBody(FunctionBody)(2538,2610)
          TermExpression(TermExpression)(2538,2610)
            TermExpressionTerm(TermExpressionTerm)(2538,2610)
              InvocationTerm(InvocationTerm)(2538,2610)
                FunctionInvocation(FunctionInvocation)(2538,2610)
                  Function(Function)(2538,2610)
                    ReferentialIdentifier(ReferentialIdentifier)(2538,2554)
                      Identifier(Identifier)(2538,2554)
                        PsiElement(IDENTIFIER)('assesObservation')(2538,2554)
                    PsiElement('(')('(')(2554,2555)
                    ParamList(ParamList)(2555,2609)
                      TermExpression(TermExpression)(2555,2609)
                        TermExpressionTerm(TermExpressionTerm)(2555,2609)
                          InvocationTerm(InvocationTerm)(2555,2609)
                            FunctionInvocation(FunctionInvocation)(2555,2609)
                              Function(Function)(2555,2609)
                                ReferentialIdentifier(ReferentialIdentifier)(2555,2584)
                                  Identifier(Identifier)(2555,2584)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2555,2584)
                                PsiElement('(')('(')(2584,2585)
                                ParamList(ParamList)(2585,2608)
                                  TermExpression(TermExpression)(2585,2589)
                                    TermExpressionTerm(TermExpressionTerm)(2585,2589)
                                      ListSelectorTerm(ListSelectorTerm)(2585,2589)
                                        ListSelector(ListSelector)(2585,2589)
                                          PsiElement('{')('{')(2585,2586)
                                          TermExpression(TermExpression)(2586,2588)
                                            TermExpressionTerm(TermExpressionTerm)(2586,2588)
                                              InvocationTerm(InvocationTerm)(2586,2588)
                                                MemberInvocation(MemberInvocation)(2586,2588)
                                                  ReferentialIdentifier(ReferentialIdentifier)(2586,2588)
                                                    Identifier(Identifier)(2586,2588)
                                                      PsiElement(IDENTIFIER)('id')(2586,2588)
                                          PsiElement('}')('}')(2588,2589)
                                  PsiElement(',')(',')(2589,2590)
                                  PsiWhiteSpace(' ')(2590,2591)
                                  TermExpression(TermExpression)(2591,2608)
                                    TermExpressionTerm(TermExpressionTerm)(2591,2608)
                                      InvocationTerm(InvocationTerm)(2591,2608)
                                        FunctionInvocation(FunctionInvocation)(2591,2608)
                                          Function(Function)(2591,2608)
                                            ReferentialIdentifier(ReferentialIdentifier)(2591,2596)
                                              Identifier(Identifier)(2591,2596)
                                                PsiElement(IDENTIFIER)('ToUrl')(2591,2596)
                                            PsiElement('(')('(')(2596,2597)
                                            ParamList(ParamList)(2597,2607)
                                              TermExpression(TermExpression)(2597,2607)
                                                TermExpressionTerm(TermExpressionTerm)(2597,2607)
                                                  InvocationTerm(InvocationTerm)(2597,2607)
                                                    MemberInvocation(MemberInvocation)(2597,2607)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2597,2607)
                                                        KeywordIdentifier(KeywordIdentifier)(2597,2607)
                                                          PsiElement('codesystem')('codesystem')(2597,2607)
                                            PsiElement(')')(')')(2607,2608)
                                PsiElement(')')(')')(2608,2609)
                    PsiElement(')')(')')(2609,2610)
    PsiWhiteSpace('\n\n')(2610,2612)
    Statement(Statement)(2612,2759)
      FunctionDefinition(FunctionDefinition)(2612,2759)
        PsiElement('define')('define')(2612,2618)
        PsiWhiteSpace(' ')(2618,2619)
        PsiElement('function')('function')(2619,2627)
        PsiWhiteSpace(' ')(2627,2628)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2628,2634)
          Identifier(Identifier)(2628,2634)
            PsiElement(IDENTIFIER)('HasObs')(2628,2634)
        PsiElement('(')('(')(2634,2635)
        OperandDefinition(OperandDefinition)(2635,2651)
          ReferentialIdentifier(ReferentialIdentifier)(2635,2637)
            Identifier(Identifier)(2635,2637)
              PsiElement(IDENTIFIER)('id')(2635,2637)
          PsiWhiteSpace(' ')(2637,2638)
          TypeSpecifier(TypeSpecifier)(2638,2651)
            NamedTypeSpecifier(NamedTypeSpecifier)(2638,2651)
              Qualifier(Qualifier)(2638,2644)
                Identifier(Identifier)(2638,2644)
                  PsiElement(IDENTIFIER)('System')(2638,2644)
              PsiElement('.')('.')(2644,2645)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2645,2651)
                ReferentialIdentifier(ReferentialIdentifier)(2645,2651)
                  Identifier(Identifier)(2645,2651)
                    PsiElement(IDENTIFIER)('String')(2645,2651)
        PsiElement(',')(',')(2651,2652)
        PsiWhiteSpace(' ')(2652,2653)
        OperandDefinition(OperandDefinition)(2653,2677)
          ReferentialIdentifier(ReferentialIdentifier)(2653,2663)
            KeywordIdentifier(KeywordIdentifier)(2653,2663)
              PsiElement('codesystem')('codesystem')(2653,2663)
          PsiWhiteSpace(' ')(2663,2664)
          TypeSpecifier(TypeSpecifier)(2664,2677)
            NamedTypeSpecifier(NamedTypeSpecifier)(2664,2677)
              Qualifier(Qualifier)(2664,2670)
                Identifier(Identifier)(2664,2670)
                  PsiElement(IDENTIFIER)('System')(2664,2670)
              PsiElement('.')('.')(2670,2671)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2671,2677)
                ReferentialIdentifier(ReferentialIdentifier)(2671,2677)
                  Identifier(Identifier)(2671,2677)
                    PsiElement(IDENTIFIER)('String')(2671,2677)
        PsiElement(')')(')')(2677,2678)
        PsiElement(':')(':')(2678,2679)
        PsiWhiteSpace('\n    ')(2679,2684)
        FunctionBody(FunctionBody)(2684,2759)
          TermExpression(TermExpression)(2684,2759)
            TermExpressionTerm(TermExpressionTerm)(2684,2759)
              InvocationTerm(InvocationTerm)(2684,2759)
                FunctionInvocation(FunctionInvocation)(2684,2759)
                  Function(Function)(2684,2759)
                    ReferentialIdentifier(ReferentialIdentifier)(2684,2700)
                      Identifier(Identifier)(2684,2700)
                        PsiElement(IDENTIFIER)('assesObservation')(2684,2700)
                    PsiElement('(')('(')(2700,2701)
                    ParamList(ParamList)(2701,2758)
                      TermExpression(TermExpression)(2701,2758)
                        TermExpressionTerm(TermExpressionTerm)(2701,2758)
                          InvocationTerm(InvocationTerm)(2701,2758)
                            FunctionInvocation(FunctionInvocation)(2701,2758)
                              Function(Function)(2701,2758)
                                ReferentialIdentifier(ReferentialIdentifier)(2701,2730)
                                  Identifier(Identifier)(2701,2730)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2701,2730)
                                PsiElement('(')('(')(2730,2731)
                                ParamList(ParamList)(2731,2757)
                                  TermExpression(TermExpression)(2731,2738)
                                    TermExpressionTerm(TermExpressionTerm)(2731,2738)
                                      ListSelectorTerm(ListSelectorTerm)(2731,2738)
                                        ListSelector(ListSelector)(2731,2738)
                                          PsiElement('{')('{')(2731,2732)
                                          TermExpression(TermExpression)(2732,2737)
                                            TermExpressionTerm(TermExpressionTerm)(2732,2737)
                                              InvocationTerm(InvocationTerm)(2732,2737)
                                                FunctionInvocation(FunctionInvocation)(2732,2737)
                                                  Function(Function)(2732,2737)
                                                    ReferentialIdentifier(ReferentialIdentifier)(2732,2733)
                                                      Identifier(Identifier)(2732,2733)
                                                        PsiElement(IDENTIFIER)('c')(2732,2733)
                                                    PsiElement('(')('(')(2733,2734)
                                                    ParamList(ParamList)(2734,2736)
                                                      TermExpression(TermExpression)(2734,2736)
                                                        TermExpressionTerm(TermExpressionTerm)(2734,2736)
                                                          InvocationTerm(InvocationTerm)(2734,2736)
                                                            MemberInvocation(MemberInvocation)(2734,2736)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2734,2736)
                                                                Identifier(Identifier)(2734,2736)
                                                                  PsiElement(IDENTIFIER)('id')(2734,2736)
                                                    PsiElement(')')(')')(2736,2737)
                                          PsiElement('}')('}')(2737,2738)
                                  PsiElement(',')(',')(2738,2739)
                                  PsiWhiteSpace(' ')(2739,2740)
                                  TermExpression(TermExpression)(2740,2757)
                                    TermExpressionTerm(TermExpressionTerm)(2740,2757)
                                      InvocationTerm(InvocationTerm)(2740,2757)
                                        FunctionInvocation(FunctionInvocation)(2740,2757)
                                          Function(Function)(2740,2757)
                                            ReferentialIdentifier(ReferentialIdentifier)(2740,2745)
                                              Identifier(Identifier)(2740,2745)
                                                PsiElement(IDENTIFIER)('ToUrl')(2740,2745)
                                            PsiElement('(')('(')(2745,2746)
                                            ParamList(ParamList)(2746,2756)
                                              TermExpression(TermExpression)(2746,2756)
                                                TermExpressionTerm(TermExpressionTerm)(2746,2756)
                                                  InvocationTerm(InvocationTerm)(2746,2756)
                                                    MemberInvocation(MemberInvocation)(2746,2756)
                                                      ReferentialIdentifier(ReferentialIdentifier)(2746,2756)
                                                        KeywordIdentifier(KeywordIdentifier)(2746,2756)
                                                          PsiElement('codesystem')('codesystem')(2746,2756)
                                            PsiElement(')')(')')(2756,2757)
                                PsiElement(')')(')')(2757,2758)
                    PsiElement(')')(')')(2758,2759)
    PsiWhiteSpace('\n\n')(2759,2761)
    Statement(Statement)(2761,2920)
      FunctionDefinition(FunctionDefinition)(2761,2920)
        PsiElement('define')('define')(2761,2767)
        PsiWhiteSpace(' ')(2767,2768)
        PsiElement('function')('function')(2768,2776)
        PsiWhiteSpace(' ')(2776,2777)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2777,2783)
          Identifier(Identifier)(2777,2783)
            PsiElement(IDENTIFIER)('HasObs')(2777,2783)
        PsiElement('(')('(')(2783,2784)
        OperandDefinition(OperandDefinition)(2784,2800)
          ReferentialIdentifier(ReferentialIdentifier)(2784,2786)
            Identifier(Identifier)(2784,2786)
              PsiElement(IDENTIFIER)('id')(2784,2786)
          PsiWhiteSpace(' ')(2786,2787)
          TypeSpecifier(TypeSpecifier)(2787,2800)
            NamedTypeSpecifier(NamedTypeSpecifier)(2787,2800)
              Qualifier(Qualifier)(2787,2793)
                Identifier(Identifier)(2787,2793)
                  PsiElement(IDENTIFIER)('System')(2787,2793)
              PsiElement('.')('.')(2793,2794)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2794,2800)
                ReferentialIdentifier(ReferentialIdentifier)(2794,2800)
                  Identifier(Identifier)(2794,2800)
                    PsiElement(IDENTIFIER)('String')(2794,2800)
        PsiElement(')')(')')(2800,2801)
        PsiElement(':')(':')(2801,2802)
        PsiWhiteSpace('\n    ')(2802,2807)
        FunctionBody(FunctionBody)(2807,2920)
          TermExpression(TermExpression)(2807,2920)
            TermExpressionTerm(TermExpressionTerm)(2807,2920)
              InvocationTerm(InvocationTerm)(2807,2920)
                FunctionInvocation(FunctionInvocation)(2807,2920)
                  Function(Function)(2807,2920)
                    ReferentialIdentifier(ReferentialIdentifier)(2807,2823)
                      Identifier(Identifier)(2807,2823)
                        PsiElement(IDENTIFIER)('assesObservation')(2807,2823)
                    PsiElement('(')('(')(2823,2824)
                    ParamList(ParamList)(2824,2919)
                      TermExpression(TermExpression)(2824,2919)
                        TermExpressionTerm(TermExpressionTerm)(2824,2919)
                          InvocationTerm(InvocationTerm)(2824,2919)
                            FunctionInvocation(FunctionInvocation)(2824,2919)
                              Function(Function)(2824,2919)
                                ReferentialIdentifier(ReferentialIdentifier)(2824,2853)
                                  Identifier(Identifier)(2824,2853)
                                    PsiElement(IDENTIFIER)('GetObservationDuringEncounter')(2824,2853)
                                PsiElement('(')('(')(2853,2854)
                                ParamList(ParamList)(2854,2918)
                                  TermExpression(TermExpression)(2854,2861)
                                    TermExpressionTerm(TermExpressionTerm)(2854,2861)
                                      ListSelectorTerm(ListSelectorTerm)(2854,2861)
                                        ListSelector(ListSelector)(2854,2861)
                                          PsiElement('{')('{')(2854,2855)
                                          TermExpression(TermExpression)(2855,2860)
                                            TermExpressionTerm(TermExpressionTerm)(2855,2860)
                                              InvocationTerm(InvocationTerm)(2855,2860)
                                                FunctionInvocation(FunctionInvocation)(2855,2860)
                                                  Function(Function)(2855,2860)
                                                    ReferentialIdentifier(ReferentialIdentifier)(2855,2856)
                                                      Identifier(Identifier)(2855,2856)
                                                        PsiElement(IDENTIFIER)('c')(2855,2856)
                                                    PsiElement('(')('(')(2856,2857)
                                                    ParamList(ParamList)(2857,2859)
                                                      TermExpression(TermExpression)(2857,2859)
                                                        TermExpressionTerm(TermExpressionTerm)(2857,2859)
                                                          InvocationTerm(InvocationTerm)(2857,2859)
                                                            MemberInvocation(MemberInvocation)(2857,2859)
                                                              ReferentialIdentifier(ReferentialIdentifier)(2857,2859)
                                                                Identifier(Identifier)(2857,2859)
                                                                  PsiElement(IDENTIFIER)('id')(2857,2859)
                                                    PsiElement(')')(')')(2859,2860)
                                          PsiElement('}')('}')(2860,2861)
                                  PsiElement(',')(',')(2861,2862)
                                  PsiWhiteSpace(' ')(2862,2863)
                                  TermExpression(TermExpression)(2863,2918)
                                    TermExpressionTerm(TermExpressionTerm)(2863,2918)
                                      InvocationTerm(InvocationTerm)(2863,2918)
                                        FunctionInvocation(FunctionInvocation)(2863,2918)
                                          Function(Function)(2863,2918)
                                            ReferentialIdentifier(ReferentialIdentifier)(2863,2868)
                                              Identifier(Identifier)(2863,2868)
                                                PsiElement(IDENTIFIER)('ToUrl')(2863,2868)
                                            PsiElement('(')('(')(2868,2869)
                                            ParamList(ParamList)(2869,2917)
                                              TermExpression(TermExpression)(2869,2917)
                                                TermExpressionTerm(TermExpressionTerm)(2869,2917)
                                                  LiteralTerm(LiteralTerm)(2869,2917)
                                                    StringLiteral(StringLiteral)(2869,2917)
                                                      PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(2869,2917)
                                            PsiElement(')')(')')(2917,2918)
                                PsiElement(')')(')')(2918,2919)
                    PsiElement(')')(')')(2919,2920)
    PsiWhiteSpace('\n\n\n\n')(2920,2924)
    Statement(Statement)(2924,3240)
      FunctionDefinition(FunctionDefinition)(2924,3240)
        PsiElement('define')('define')(2924,2930)
        PsiWhiteSpace(' ')(2930,2931)
        PsiElement('function')('function')(2931,2939)
        PsiWhiteSpace(' ')(2939,2940)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(2940,2962)
          Identifier(Identifier)(2940,2962)
            PsiElement(IDENTIFIER)('GetHistoricObservation')(2940,2962)
        PsiElement('(')('(')(2962,2963)
        OperandDefinition(OperandDefinition)(2963,2980)
          ReferentialIdentifier(ReferentialIdentifier)(2963,2969)
            Identifier(Identifier)(2963,2969)
              PsiElement(IDENTIFIER)('idlist')(2963,2969)
          PsiWhiteSpace(' ')(2969,2970)
          TypeSpecifier(TypeSpecifier)(2970,2980)
            ListTypeSpecifier(ListTypeSpecifier)(2970,2980)
              PsiElement('List')('List')(2970,2974)
              PsiElement('<')('<')(2974,2975)
              TypeSpecifier(TypeSpecifier)(2975,2979)
                NamedTypeSpecifier(NamedTypeSpecifier)(2975,2979)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2975,2979)
                    ReferentialIdentifier(ReferentialIdentifier)(2975,2979)
                      KeywordIdentifier(KeywordIdentifier)(2975,2979)
                        PsiElement('code')('code')(2975,2979)
              PsiElement('>')('>')(2979,2980)
        PsiElement(',')(',')(2980,2981)
        PsiWhiteSpace(' ')(2981,2982)
        OperandDefinition(OperandDefinition)(2982,3001)
          ReferentialIdentifier(ReferentialIdentifier)(2982,2992)
            KeywordIdentifier(KeywordIdentifier)(2982,2992)
              PsiElement('codesystem')('codesystem')(2982,2992)
          PsiWhiteSpace(' ')(2992,2993)
          TypeSpecifier(TypeSpecifier)(2993,3001)
            NamedTypeSpecifier(NamedTypeSpecifier)(2993,3001)
              Qualifier(Qualifier)(2993,2997)
                Identifier(Identifier)(2993,2997)
                  PsiElement(IDENTIFIER)('FHIR')(2993,2997)
              PsiElement('.')('.')(2997,2998)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(2998,3001)
                ReferentialIdentifier(ReferentialIdentifier)(2998,3001)
                  Identifier(Identifier)(2998,3001)
                    PsiElement(IDENTIFIER)('url')(2998,3001)
        PsiElement(',')(',')(3001,3002)
        PsiWhiteSpace(' ')(3002,3003)
        OperandDefinition(OperandDefinition)(3003,3017)
          ReferentialIdentifier(ReferentialIdentifier)(3003,3009)
            Identifier(Identifier)(3003,3009)
              PsiElement(IDENTIFIER)('nbdays')(3003,3009)
          PsiWhiteSpace(' ')(3009,3010)
          TypeSpecifier(TypeSpecifier)(3010,3017)
            NamedTypeSpecifier(NamedTypeSpecifier)(3010,3017)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3010,3017)
                ReferentialIdentifier(ReferentialIdentifier)(3010,3017)
                  Identifier(Identifier)(3010,3017)
                    PsiElement(IDENTIFIER)('Integer')(3010,3017)
        PsiElement(')')(')')(3017,3018)
        PsiElement(':')(':')(3018,3019)
        PsiWhiteSpace('\n  ')(3019,3022)
        FunctionBody(FunctionBody)(3022,3240)
          TermExpression(TermExpression)(3022,3240)
            IfThenElseExpressionTerm(IfThenElseExpressionTerm)(3022,3240)
              PsiElement('if')('if')(3022,3024)
              PsiWhiteSpace(' ')(3024,3025)
              BooleanExpression(BooleanExpression)(3025,3094)
                TermExpression(TermExpression)(3025,3086)
                  TermExpressionTerm(TermExpressionTerm)(3025,3086)
                    InvocationTerm(InvocationTerm)(3025,3086)
                      FunctionInvocation(FunctionInvocation)(3025,3086)
                        Function(Function)(3025,3086)
                          ReferentialIdentifier(ReferentialIdentifier)(3025,3055)
                            Identifier(Identifier)(3025,3055)
                              PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3025,3055)
                          PsiElement('(')('(')(3055,3056)
                          ParamList(ParamList)(3056,3084)
                            TermExpression(TermExpression)(3056,3062)
                              TermExpressionTerm(TermExpressionTerm)(3056,3062)
                                InvocationTerm(InvocationTerm)(3056,3062)
                                  MemberInvocation(MemberInvocation)(3056,3062)
                                    ReferentialIdentifier(ReferentialIdentifier)(3056,3062)
                                      Identifier(Identifier)(3056,3062)
                                        PsiElement(IDENTIFIER)('idlist')(3056,3062)
                            PsiWhiteSpace(' ')(3062,3063)
                            PsiElement(',')(',')(3063,3064)
                            PsiWhiteSpace(' ')(3064,3065)
                            TermExpression(TermExpression)(3065,3075)
                              TermExpressionTerm(TermExpressionTerm)(3065,3075)
                                InvocationTerm(InvocationTerm)(3065,3075)
                                  MemberInvocation(MemberInvocation)(3065,3075)
                                    ReferentialIdentifier(ReferentialIdentifier)(3065,3075)
                                      KeywordIdentifier(KeywordIdentifier)(3065,3075)
                                        PsiElement('codesystem')('codesystem')(3065,3075)
                            PsiWhiteSpace(' ')(3075,3076)
                            PsiElement(',')(',')(3076,3077)
                            PsiWhiteSpace(' ')(3077,3078)
                            TermExpression(TermExpression)(3078,3084)
                              TermExpressionTerm(TermExpressionTerm)(3078,3084)
                                InvocationTerm(InvocationTerm)(3078,3084)
                                  MemberInvocation(MemberInvocation)(3078,3084)
                                    ReferentialIdentifier(ReferentialIdentifier)(3078,3084)
                                      Identifier(Identifier)(3078,3084)
                                        PsiElement(IDENTIFIER)('nbdays')(3078,3084)
                          PsiWhiteSpace(' ')(3084,3085)
                          PsiElement(')')(')')(3085,3086)
                PsiWhiteSpace(' ')(3086,3087)
                PsiElement('is')('is')(3087,3089)
                PsiWhiteSpace(' ')(3089,3090)
                PsiElement('null')('null')(3090,3094)
              PsiWhiteSpace(' ')(3094,3095)
              PsiElement('then')('then')(3095,3099)
              PsiWhiteSpace('\n      ')(3099,3106)
              TermExpression(TermExpression)(3106,3167)
                TermExpressionTerm(TermExpressionTerm)(3106,3167)
                  InvocationTerm(InvocationTerm)(3106,3167)
                    FunctionInvocation(FunctionInvocation)(3106,3167)
                      Function(Function)(3106,3167)
                        ReferentialIdentifier(ReferentialIdentifier)(3106,3136)
                          Identifier(Identifier)(3106,3136)
                            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3106,3136)
                        PsiElement('(')('(')(3136,3137)
                        ParamList(ParamList)(3137,3165)
                          TermExpression(TermExpression)(3137,3143)
                            TermExpressionTerm(TermExpressionTerm)(3137,3143)
                              InvocationTerm(InvocationTerm)(3137,3143)
                                MemberInvocation(MemberInvocation)(3137,3143)
                                  ReferentialIdentifier(ReferentialIdentifier)(3137,3143)
                                    Identifier(Identifier)(3137,3143)
                                      PsiElement(IDENTIFIER)('idlist')(3137,3143)
                          PsiWhiteSpace(' ')(3143,3144)
                          PsiElement(',')(',')(3144,3145)
                          PsiWhiteSpace(' ')(3145,3146)
                          TermExpression(TermExpression)(3146,3156)
                            TermExpressionTerm(TermExpressionTerm)(3146,3156)
                              InvocationTerm(InvocationTerm)(3146,3156)
                                MemberInvocation(MemberInvocation)(3146,3156)
                                  ReferentialIdentifier(ReferentialIdentifier)(3146,3156)
                                    KeywordIdentifier(KeywordIdentifier)(3146,3156)
                                      PsiElement('codesystem')('codesystem')(3146,3156)
                          PsiWhiteSpace(' ')(3156,3157)
                          PsiElement(',')(',')(3157,3158)
                          PsiWhiteSpace(' ')(3158,3159)
                          TermExpression(TermExpression)(3159,3165)
                            TermExpressionTerm(TermExpressionTerm)(3159,3165)
                              InvocationTerm(InvocationTerm)(3159,3165)
                                MemberInvocation(MemberInvocation)(3159,3165)
                                  ReferentialIdentifier(ReferentialIdentifier)(3159,3165)
                                    Identifier(Identifier)(3159,3165)
                                      PsiElement(IDENTIFIER)('nbdays')(3159,3165)
                        PsiWhiteSpace(' ')(3165,3166)
                        PsiElement(')')(')')(3166,3167)
              PsiWhiteSpace('\n  ')(3167,3170)
              PsiElement('else')('else')(3170,3174)
              PsiWhiteSpace('\n    ')(3174,3179)
              TermExpression(TermExpression)(3179,3240)
                TermExpressionTerm(TermExpressionTerm)(3179,3240)
                  InvocationTerm(InvocationTerm)(3179,3240)
                    FunctionInvocation(FunctionInvocation)(3179,3240)
                      Function(Function)(3179,3240)
                        ReferentialIdentifier(ReferentialIdentifier)(3179,3209)
                          Identifier(Identifier)(3179,3209)
                            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3179,3209)
                        PsiElement('(')('(')(3209,3210)
                        ParamList(ParamList)(3210,3238)
                          TermExpression(TermExpression)(3210,3216)
                            TermExpressionTerm(TermExpressionTerm)(3210,3216)
                              InvocationTerm(InvocationTerm)(3210,3216)
                                MemberInvocation(MemberInvocation)(3210,3216)
                                  ReferentialIdentifier(ReferentialIdentifier)(3210,3216)
                                    Identifier(Identifier)(3210,3216)
                                      PsiElement(IDENTIFIER)('idlist')(3210,3216)
                          PsiWhiteSpace(' ')(3216,3217)
                          PsiElement(',')(',')(3217,3218)
                          PsiWhiteSpace(' ')(3218,3219)
                          TermExpression(TermExpression)(3219,3229)
                            TermExpressionTerm(TermExpressionTerm)(3219,3229)
                              InvocationTerm(InvocationTerm)(3219,3229)
                                MemberInvocation(MemberInvocation)(3219,3229)
                                  ReferentialIdentifier(ReferentialIdentifier)(3219,3229)
                                    KeywordIdentifier(KeywordIdentifier)(3219,3229)
                                      PsiElement('codesystem')('codesystem')(3219,3229)
                          PsiWhiteSpace(' ')(3229,3230)
                          PsiElement(',')(',')(3230,3231)
                          PsiWhiteSpace(' ')(3231,3232)
                          TermExpression(TermExpression)(3232,3238)
                            TermExpressionTerm(TermExpressionTerm)(3232,3238)
                              InvocationTerm(InvocationTerm)(3232,3238)
                                MemberInvocation(MemberInvocation)(3232,3238)
                                  ReferentialIdentifier(ReferentialIdentifier)(3232,3238)
                                    Identifier(Identifier)(3232,3238)
                                      PsiElement(IDENTIFIER)('nbdays')(3232,3238)
                        PsiWhiteSpace(' ')(3238,3239)
                        PsiElement(')')(')')(3239,3240)
    PsiWhiteSpace('\n\n')(3240,3242)
    Statement(Statement)(3242,3593)
      FunctionDefinition(FunctionDefinition)(3242,3593)
        PsiElement('define')('define')(3242,3248)
        PsiWhiteSpace(' ')(3248,3249)
        PsiElement('function')('function')(3249,3257)
        PsiWhiteSpace(' ')(3257,3258)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(3258,3284)
          Identifier(Identifier)(3258,3284)
            PsiElement(IDENTIFIER)('GetHistoricObservationDone')(3258,3284)
        PsiElement('(')('(')(3284,3285)
        OperandDefinition(OperandDefinition)(3285,3302)
          ReferentialIdentifier(ReferentialIdentifier)(3285,3291)
            Identifier(Identifier)(3285,3291)
              PsiElement(IDENTIFIER)('idlist')(3285,3291)
          PsiWhiteSpace(' ')(3291,3292)
          TypeSpecifier(TypeSpecifier)(3292,3302)
            ListTypeSpecifier(ListTypeSpecifier)(3292,3302)
              PsiElement('List')('List')(3292,3296)
              PsiElement('<')('<')(3296,3297)
              TypeSpecifier(TypeSpecifier)(3297,3301)
                NamedTypeSpecifier(NamedTypeSpecifier)(3297,3301)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3297,3301)
                    ReferentialIdentifier(ReferentialIdentifier)(3297,3301)
                      KeywordIdentifier(KeywordIdentifier)(3297,3301)
                        PsiElement('code')('code')(3297,3301)
              PsiElement('>')('>')(3301,3302)
        PsiElement(',')(',')(3302,3303)
        PsiWhiteSpace(' ')(3303,3304)
        OperandDefinition(OperandDefinition)(3304,3323)
          ReferentialIdentifier(ReferentialIdentifier)(3304,3314)
            KeywordIdentifier(KeywordIdentifier)(3304,3314)
              PsiElement('codesystem')('codesystem')(3304,3314)
          PsiWhiteSpace(' ')(3314,3315)
          TypeSpecifier(TypeSpecifier)(3315,3323)
            NamedTypeSpecifier(NamedTypeSpecifier)(3315,3323)
              Qualifier(Qualifier)(3315,3319)
                Identifier(Identifier)(3315,3319)
                  PsiElement(IDENTIFIER)('FHIR')(3315,3319)
              PsiElement('.')('.')(3319,3320)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3320,3323)
                ReferentialIdentifier(ReferentialIdentifier)(3320,3323)
                  Identifier(Identifier)(3320,3323)
                    PsiElement(IDENTIFIER)('url')(3320,3323)
        PsiElement(',')(',')(3323,3324)
        PsiWhiteSpace(' ')(3324,3325)
        OperandDefinition(OperandDefinition)(3325,3339)
          ReferentialIdentifier(ReferentialIdentifier)(3325,3331)
            Identifier(Identifier)(3325,3331)
              PsiElement(IDENTIFIER)('nbdays')(3325,3331)
          PsiWhiteSpace(' ')(3331,3332)
          TypeSpecifier(TypeSpecifier)(3332,3339)
            NamedTypeSpecifier(NamedTypeSpecifier)(3332,3339)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3332,3339)
                ReferentialIdentifier(ReferentialIdentifier)(3332,3339)
                  Identifier(Identifier)(3332,3339)
                    PsiElement(IDENTIFIER)('Integer')(3332,3339)
        PsiElement(')')(')')(3339,3340)
        PsiElement(':')(':')(3340,3341)
        PsiWhiteSpace('\n      ')(3341,3348)
        FunctionBody(FunctionBody)(3348,3593)
          TermExpression(TermExpression)(3348,3593)
            TermExpressionTerm(TermExpressionTerm)(3348,3593)
              InvocationTerm(InvocationTerm)(3348,3593)
                FunctionInvocation(FunctionInvocation)(3348,3593)
                  Function(Function)(3348,3593)
                    ReferentialIdentifier(ReferentialIdentifier)(3348,3352)
                      Identifier(Identifier)(3348,3352)
                        PsiElement(IDENTIFIER)('Last')(3348,3352)
                    PsiElement('(')('(')(3352,3353)
                    ParamList(ParamList)(3353,3592)
                      QueryExpression(QueryExpression)(3353,3592)
                        Query(Query)(3353,3592)
                          SourceClause(SourceClause)(3353,3368)
                            AliasedQuerySource(AliasedQuerySource)(3353,3368)
                              QuerySource(QuerySource)(3353,3366)
                                Retrieve(Retrieve)(3353,3366)
                                  PsiElement('[')('[')(3353,3354)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(3354,3365)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3354,3365)
                                      ReferentialIdentifier(ReferentialIdentifier)(3354,3365)
                                        Identifier(Identifier)(3354,3365)
                                          PsiElement(IDENTIFIER)('Observation')(3354,3365)
                                  PsiElement(']')(']')(3365,3366)
                              PsiWhiteSpace(' ')(3366,3367)
                              Alias(Alias)(3367,3368)
                                Identifier(Identifier)(3367,3368)
                                  PsiElement(IDENTIFIER)('O')(3367,3368)
                          PsiWhiteSpace('\n        ')(3368,3377)
                          WhereClause(WhereClause)(3377,3592)
                            PsiElement('where')('where')(3377,3382)
                            PsiWhiteSpace('  ')(3382,3384)
                            AndExpression(AndExpression)(3384,3592)
                              AndExpression(AndExpression)(3384,3499)
                                MembershipExpression(MembershipExpression)(3384,3430)
                                  TermExpression(TermExpression)(3384,3392)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3384,3392)
                                      TermExpressionTerm(TermExpressionTerm)(3384,3385)
                                        InvocationTerm(InvocationTerm)(3384,3385)
                                          MemberInvocation(MemberInvocation)(3384,3385)
                                            ReferentialIdentifier(ReferentialIdentifier)(3384,3385)
                                              Identifier(Identifier)(3384,3385)
                                                PsiElement(IDENTIFIER)('O')(3384,3385)
                                      PsiElement('.')('.')(3385,3386)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3386,3392)
                                        ReferentialIdentifier(ReferentialIdentifier)(3386,3392)
                                          Identifier(Identifier)(3386,3392)
                                            PsiElement(IDENTIFIER)('status')(3386,3392)
                                  PsiWhiteSpace(' ')(3392,3393)
                                  PsiElement('in')('in')(3393,3395)
                                  PsiWhiteSpace(' ')(3395,3396)
                                  TermExpression(TermExpression)(3396,3430)
                                    TermExpressionTerm(TermExpressionTerm)(3396,3430)
                                      ListSelectorTerm(ListSelectorTerm)(3396,3430)
                                        ListSelector(ListSelector)(3396,3430)
                                          PsiElement('{')('{')(3396,3397)
                                          PsiWhiteSpace(' ')(3397,3398)
                                          TermExpression(TermExpression)(3398,3405)
                                            TermExpressionTerm(TermExpressionTerm)(3398,3405)
                                              LiteralTerm(LiteralTerm)(3398,3405)
                                                StringLiteral(StringLiteral)(3398,3405)
                                                  PsiElement(STRING)(''final'')(3398,3405)
                                          PsiElement(',')(',')(3405,3406)
                                          PsiWhiteSpace(' ')(3406,3407)
                                          TermExpression(TermExpression)(3407,3416)
                                            TermExpressionTerm(TermExpressionTerm)(3407,3416)
                                              LiteralTerm(LiteralTerm)(3407,3416)
                                                StringLiteral(StringLiteral)(3407,3416)
                                                  PsiElement(STRING)(''amended'')(3407,3416)
                                          PsiElement(',')(',')(3416,3417)
                                          PsiWhiteSpace(' ')(3417,3418)
                                          TermExpression(TermExpression)(3418,3429)
                                            TermExpressionTerm(TermExpressionTerm)(3418,3429)
                                              LiteralTerm(LiteralTerm)(3418,3429)
                                                StringLiteral(StringLiteral)(3418,3429)
                                                  PsiElement(STRING)(''corrected'')(3418,3429)
                                          PsiElement('}')('}')(3429,3430)
                                PsiWhiteSpace('\n        ')(3430,3439)
                                PsiElement('and')('and')(3439,3442)
                                PsiWhiteSpace(' ')(3442,3443)
                                InequalityExpression(InequalityExpression)(3443,3499)
                                  DifferenceBetweenExpression(DifferenceBetweenExpression)(3443,3490)
                                    PsiElement('difference')('difference')(3443,3453)
                                    PsiWhiteSpace(' ')(3453,3454)
                                    PsiElement('in')('in')(3454,3456)
                                    PsiWhiteSpace(' ')(3456,3457)
                                    PluralDateTimePrecision(PluralDateTimePrecision)(3457,3461)
                                      PsiElement('days')('days')(3457,3461)
                                    PsiWhiteSpace(' ')(3461,3462)
                                    PsiElement('between')('between')(3462,3469)
                                    PsiWhiteSpace(' ')(3469,3470)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3470,3478)
                                      TermExpressionTerm(TermExpressionTerm)(3470,3471)
                                        InvocationTerm(InvocationTerm)(3470,3471)
                                          MemberInvocation(MemberInvocation)(3470,3471)
                                            ReferentialIdentifier(ReferentialIdentifier)(3470,3471)
                                              Identifier(Identifier)(3470,3471)
                                                PsiElement(IDENTIFIER)('O')(3470,3471)
                                      PsiElement('.')('.')(3471,3472)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3472,3478)
                                        ReferentialIdentifier(ReferentialIdentifier)(3472,3478)
                                          Identifier(Identifier)(3472,3478)
                                            PsiElement(IDENTIFIER)('issued')(3472,3478)
                                    PsiWhiteSpace(' ')(3478,3479)
                                    PsiElement('and')('and')(3479,3482)
                                    PsiWhiteSpace(' ')(3482,3483)
                                    TermExpressionTerm(TermExpressionTerm)(3483,3490)
                                      InvocationTerm(InvocationTerm)(3483,3490)
                                        FunctionInvocation(FunctionInvocation)(3483,3490)
                                          Function(Function)(3483,3490)
                                            ReferentialIdentifier(ReferentialIdentifier)(3483,3488)
                                              Identifier(Identifier)(3483,3488)
                                                PsiElement(IDENTIFIER)('Today')(3483,3488)
                                            PsiElement('(')('(')(3488,3489)
                                            PsiElement(')')(')')(3489,3490)
                                  PsiWhiteSpace(' ')(3490,3491)
                                  PsiElement('<')('<')(3491,3492)
                                  PsiWhiteSpace(' ')(3492,3493)
                                  TermExpression(TermExpression)(3493,3499)
                                    TermExpressionTerm(TermExpressionTerm)(3493,3499)
                                      InvocationTerm(InvocationTerm)(3493,3499)
                                        MemberInvocation(MemberInvocation)(3493,3499)
                                          ReferentialIdentifier(ReferentialIdentifier)(3493,3499)
                                            Identifier(Identifier)(3493,3499)
                                              PsiElement(IDENTIFIER)('nbdays')(3493,3499)
                              PsiWhiteSpace('\n        ')(3499,3508)
                              PsiElement('and')('and')(3508,3511)
                              PsiWhiteSpace(' ')(3511,3512)
                              ExistenceExpression(ExistenceExpression)(3512,3592)
                                PsiElement('exists')('exists')(3512,3518)
                                TermExpression(TermExpression)(3518,3592)
                                  TermExpressionTerm(TermExpressionTerm)(3518,3592)
                                    ParenthesizedTerm(ParenthesizedTerm)(3518,3592)
                                      PsiElement('(')('(')(3518,3519)
                                      QueryExpression(QueryExpression)(3519,3591)
                                        Query(Query)(3519,3591)
                                          SourceClause(SourceClause)(3519,3534)
                                            AliasedQuerySource(AliasedQuerySource)(3519,3534)
                                              QuerySource(QuerySource)(3519,3532)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(3519,3532)
                                                  QualifierExpression(QualifierExpression)(3519,3520)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3519,3520)
                                                      Identifier(Identifier)(3519,3520)
                                                        PsiElement(IDENTIFIER)('O')(3519,3520)
                                                  PsiElement('.')('.')(3520,3521)
                                                  QualifierExpression(QualifierExpression)(3521,3525)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3521,3525)
                                                      KeywordIdentifier(KeywordIdentifier)(3521,3525)
                                                        PsiElement('code')('code')(3521,3525)
                                                  PsiElement('.')('.')(3525,3526)
                                                  ReferentialIdentifier(ReferentialIdentifier)(3526,3532)
                                                    Identifier(Identifier)(3526,3532)
                                                      PsiElement(IDENTIFIER)('coding')(3526,3532)
                                              PsiWhiteSpace(' ')(3532,3533)
                                              Alias(Alias)(3533,3534)
                                                Identifier(Identifier)(3533,3534)
                                                  PsiElement(IDENTIFIER)('C')(3533,3534)
                                          PsiWhiteSpace(' ')(3534,3535)
                                          WhereClause(WhereClause)(3535,3591)
                                            PsiElement('where')('where')(3535,3540)
                                            PsiWhiteSpace(' ')(3540,3541)
                                            AndExpression(AndExpression)(3541,3591)
                                              MembershipExpression(MembershipExpression)(3541,3557)
                                                TermExpression(TermExpression)(3541,3547)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3541,3547)
                                                    TermExpressionTerm(TermExpressionTerm)(3541,3542)
                                                      InvocationTerm(InvocationTerm)(3541,3542)
                                                        MemberInvocation(MemberInvocation)(3541,3542)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3541,3542)
                                                            Identifier(Identifier)(3541,3542)
                                                              PsiElement(IDENTIFIER)('C')(3541,3542)
                                                    PsiElement('.')('.')(3542,3543)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3543,3547)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3543,3547)
                                                        KeywordIdentifier(KeywordIdentifier)(3543,3547)
                                                          PsiElement('code')('code')(3543,3547)
                                                PsiWhiteSpace(' ')(3547,3548)
                                                PsiElement('in')('in')(3548,3550)
                                                PsiWhiteSpace(' ')(3550,3551)
                                                TermExpression(TermExpression)(3551,3557)
                                                  TermExpressionTerm(TermExpressionTerm)(3551,3557)
                                                    InvocationTerm(InvocationTerm)(3551,3557)
                                                      MemberInvocation(MemberInvocation)(3551,3557)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3551,3557)
                                                          Identifier(Identifier)(3551,3557)
                                                            PsiElement(IDENTIFIER)('idlist')(3551,3557)
                                              PsiWhiteSpace('\n        ')(3557,3566)
                                              PsiElement('and')('and')(3566,3569)
                                              PsiWhiteSpace(' ')(3569,3570)
                                              EqualityExpression(EqualityExpression)(3570,3591)
                                                TermExpression(TermExpression)(3570,3578)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3570,3578)
                                                    TermExpressionTerm(TermExpressionTerm)(3570,3571)
                                                      InvocationTerm(InvocationTerm)(3570,3571)
                                                        MemberInvocation(MemberInvocation)(3570,3571)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3570,3571)
                                                            Identifier(Identifier)(3570,3571)
                                                              PsiElement(IDENTIFIER)('C')(3570,3571)
                                                    PsiElement('.')('.')(3571,3572)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3572,3578)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3572,3578)
                                                        Identifier(Identifier)(3572,3578)
                                                          PsiElement(IDENTIFIER)('system')(3572,3578)
                                                PsiWhiteSpace(' ')(3578,3579)
                                                PsiElement('=')('=')(3579,3580)
                                                PsiWhiteSpace(' ')(3580,3581)
                                                TermExpression(TermExpression)(3581,3591)
                                                  TermExpressionTerm(TermExpressionTerm)(3581,3591)
                                                    InvocationTerm(InvocationTerm)(3581,3591)
                                                      MemberInvocation(MemberInvocation)(3581,3591)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3581,3591)
                                                          KeywordIdentifier(KeywordIdentifier)(3581,3591)
                                                            PsiElement('codesystem')('codesystem')(3581,3591)
                                      PsiElement(')')(')')(3591,3592)
                    PsiElement(')')(')')(3592,3593)
    PsiWhiteSpace('\n\n')(3593,3595)
    Statement(Statement)(3595,3935)
      FunctionDefinition(FunctionDefinition)(3595,3935)
        PsiElement('define')('define')(3595,3601)
        PsiWhiteSpace(' ')(3601,3602)
        PsiElement('function')('function')(3602,3610)
        PsiWhiteSpace(' ')(3610,3611)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(3611,3641)
          Identifier(Identifier)(3611,3641)
            PsiElement(IDENTIFIER)('GetHistoricObservationNotfound')(3611,3641)
        PsiElement('(')('(')(3641,3642)
        OperandDefinition(OperandDefinition)(3642,3659)
          ReferentialIdentifier(ReferentialIdentifier)(3642,3648)
            Identifier(Identifier)(3642,3648)
              PsiElement(IDENTIFIER)('idlist')(3642,3648)
          PsiWhiteSpace(' ')(3648,3649)
          TypeSpecifier(TypeSpecifier)(3649,3659)
            ListTypeSpecifier(ListTypeSpecifier)(3649,3659)
              PsiElement('List')('List')(3649,3653)
              PsiElement('<')('<')(3653,3654)
              TypeSpecifier(TypeSpecifier)(3654,3658)
                NamedTypeSpecifier(NamedTypeSpecifier)(3654,3658)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3654,3658)
                    ReferentialIdentifier(ReferentialIdentifier)(3654,3658)
                      KeywordIdentifier(KeywordIdentifier)(3654,3658)
                        PsiElement('code')('code')(3654,3658)
              PsiElement('>')('>')(3658,3659)
        PsiElement(',')(',')(3659,3660)
        PsiWhiteSpace(' ')(3660,3661)
        OperandDefinition(OperandDefinition)(3661,3680)
          ReferentialIdentifier(ReferentialIdentifier)(3661,3671)
            KeywordIdentifier(KeywordIdentifier)(3661,3671)
              PsiElement('codesystem')('codesystem')(3661,3671)
          PsiWhiteSpace(' ')(3671,3672)
          TypeSpecifier(TypeSpecifier)(3672,3680)
            NamedTypeSpecifier(NamedTypeSpecifier)(3672,3680)
              Qualifier(Qualifier)(3672,3676)
                Identifier(Identifier)(3672,3676)
                  PsiElement(IDENTIFIER)('FHIR')(3672,3676)
              PsiElement('.')('.')(3676,3677)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3677,3680)
                ReferentialIdentifier(ReferentialIdentifier)(3677,3680)
                  Identifier(Identifier)(3677,3680)
                    PsiElement(IDENTIFIER)('url')(3677,3680)
        PsiElement(',')(',')(3680,3681)
        PsiWhiteSpace(' ')(3681,3682)
        OperandDefinition(OperandDefinition)(3682,3696)
          ReferentialIdentifier(ReferentialIdentifier)(3682,3688)
            Identifier(Identifier)(3682,3688)
              PsiElement(IDENTIFIER)('nbdays')(3682,3688)
          PsiWhiteSpace(' ')(3688,3689)
          TypeSpecifier(TypeSpecifier)(3689,3696)
            NamedTypeSpecifier(NamedTypeSpecifier)(3689,3696)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3689,3696)
                ReferentialIdentifier(ReferentialIdentifier)(3689,3696)
                  Identifier(Identifier)(3689,3696)
                    PsiElement(IDENTIFIER)('Integer')(3689,3696)
        PsiElement(')')(')')(3696,3697)
        PsiElement(':')(':')(3697,3698)
        PsiWhiteSpace('\n      ')(3698,3705)
        FunctionBody(FunctionBody)(3705,3935)
          TermExpression(TermExpression)(3705,3935)
            TermExpressionTerm(TermExpressionTerm)(3705,3935)
              InvocationTerm(InvocationTerm)(3705,3935)
                FunctionInvocation(FunctionInvocation)(3705,3935)
                  Function(Function)(3705,3935)
                    ReferentialIdentifier(ReferentialIdentifier)(3705,3709)
                      Identifier(Identifier)(3705,3709)
                        PsiElement(IDENTIFIER)('Last')(3705,3709)
                    PsiElement('(')('(')(3709,3710)
                    ParamList(ParamList)(3710,3934)
                      QueryExpression(QueryExpression)(3710,3934)
                        Query(Query)(3710,3934)
                          SourceClause(SourceClause)(3710,3725)
                            AliasedQuerySource(AliasedQuerySource)(3710,3725)
                              QuerySource(QuerySource)(3710,3723)
                                Retrieve(Retrieve)(3710,3723)
                                  PsiElement('[')('[')(3710,3711)
                                  NamedTypeSpecifier(NamedTypeSpecifier)(3711,3722)
                                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(3711,3722)
                                      ReferentialIdentifier(ReferentialIdentifier)(3711,3722)
                                        Identifier(Identifier)(3711,3722)
                                          PsiElement(IDENTIFIER)('Observation')(3711,3722)
                                  PsiElement(']')(']')(3722,3723)
                              PsiWhiteSpace(' ')(3723,3724)
                              Alias(Alias)(3724,3725)
                                Identifier(Identifier)(3724,3725)
                                  PsiElement(IDENTIFIER)('O')(3724,3725)
                          PsiWhiteSpace('\n        ')(3725,3734)
                          WhereClause(WhereClause)(3734,3934)
                            PsiElement('where')('where')(3734,3739)
                            PsiWhiteSpace('  ')(3739,3741)
                            AndExpression(AndExpression)(3741,3934)
                              AndExpression(AndExpression)(3741,3837)
                                MembershipExpression(MembershipExpression)(3741,3766)
                                  TermExpression(TermExpression)(3741,3749)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3741,3749)
                                      TermExpressionTerm(TermExpressionTerm)(3741,3742)
                                        InvocationTerm(InvocationTerm)(3741,3742)
                                          MemberInvocation(MemberInvocation)(3741,3742)
                                            ReferentialIdentifier(ReferentialIdentifier)(3741,3742)
                                              Identifier(Identifier)(3741,3742)
                                                PsiElement(IDENTIFIER)('O')(3741,3742)
                                      PsiElement('.')('.')(3742,3743)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3743,3749)
                                        ReferentialIdentifier(ReferentialIdentifier)(3743,3749)
                                          Identifier(Identifier)(3743,3749)
                                            PsiElement(IDENTIFIER)('status')(3743,3749)
                                  PsiWhiteSpace(' ')(3749,3750)
                                  PsiElement('in')('in')(3750,3752)
                                  PsiWhiteSpace(' ')(3752,3753)
                                  TermExpression(TermExpression)(3753,3766)
                                    TermExpressionTerm(TermExpressionTerm)(3753,3766)
                                      ListSelectorTerm(ListSelectorTerm)(3753,3766)
                                        ListSelector(ListSelector)(3753,3766)
                                          PsiElement('{')('{')(3753,3754)
                                          TermExpression(TermExpression)(3754,3765)
                                            TermExpressionTerm(TermExpressionTerm)(3754,3765)
                                              LiteralTerm(LiteralTerm)(3754,3765)
                                                StringLiteral(StringLiteral)(3754,3765)
                                                  PsiElement(STRING)(''cancelled'')(3754,3765)
                                          PsiElement('}')('}')(3765,3766)
                                PsiWhiteSpace('\n          ')(3766,3777)
                                PsiElement('and')('and')(3777,3780)
                                PsiWhiteSpace(' ')(3780,3781)
                                InequalityExpression(InequalityExpression)(3781,3837)
                                  DifferenceBetweenExpression(DifferenceBetweenExpression)(3781,3828)
                                    PsiElement('difference')('difference')(3781,3791)
                                    PsiWhiteSpace(' ')(3791,3792)
                                    PsiElement('in')('in')(3792,3794)
                                    PsiWhiteSpace(' ')(3794,3795)
                                    PluralDateTimePrecision(PluralDateTimePrecision)(3795,3799)
                                      PsiElement('days')('days')(3795,3799)
                                    PsiWhiteSpace(' ')(3799,3800)
                                    PsiElement('between')('between')(3800,3807)
                                    PsiWhiteSpace(' ')(3807,3808)
                                    InvocationExpressionTerm(InvocationExpressionTerm)(3808,3816)
                                      TermExpressionTerm(TermExpressionTerm)(3808,3809)
                                        InvocationTerm(InvocationTerm)(3808,3809)
                                          MemberInvocation(MemberInvocation)(3808,3809)
                                            ReferentialIdentifier(ReferentialIdentifier)(3808,3809)
                                              Identifier(Identifier)(3808,3809)
                                                PsiElement(IDENTIFIER)('O')(3808,3809)
                                      PsiElement('.')('.')(3809,3810)
                                      QualifiedMemberInvocation(QualifiedMemberInvocation)(3810,3816)
                                        ReferentialIdentifier(ReferentialIdentifier)(3810,3816)
                                          Identifier(Identifier)(3810,3816)
                                            PsiElement(IDENTIFIER)('issued')(3810,3816)
                                    PsiWhiteSpace(' ')(3816,3817)
                                    PsiElement('and')('and')(3817,3820)
                                    PsiWhiteSpace(' ')(3820,3821)
                                    TermExpressionTerm(TermExpressionTerm)(3821,3828)
                                      InvocationTerm(InvocationTerm)(3821,3828)
                                        FunctionInvocation(FunctionInvocation)(3821,3828)
                                          Function(Function)(3821,3828)
                                            ReferentialIdentifier(ReferentialIdentifier)(3821,3826)
                                              Identifier(Identifier)(3821,3826)
                                                PsiElement(IDENTIFIER)('Today')(3821,3826)
                                            PsiElement('(')('(')(3826,3827)
                                            PsiElement(')')(')')(3827,3828)
                                  PsiWhiteSpace(' ')(3828,3829)
                                  PsiElement('<')('<')(3829,3830)
                                  PsiWhiteSpace(' ')(3830,3831)
                                  TermExpression(TermExpression)(3831,3837)
                                    TermExpressionTerm(TermExpressionTerm)(3831,3837)
                                      InvocationTerm(InvocationTerm)(3831,3837)
                                        MemberInvocation(MemberInvocation)(3831,3837)
                                          ReferentialIdentifier(ReferentialIdentifier)(3831,3837)
                                            Identifier(Identifier)(3831,3837)
                                              PsiElement(IDENTIFIER)('nbdays')(3831,3837)
                              PsiWhiteSpace('\n          ')(3837,3848)
                              PsiElement('and')('and')(3848,3851)
                              PsiWhiteSpace(' ')(3851,3852)
                              ExistenceExpression(ExistenceExpression)(3852,3934)
                                PsiElement('exists')('exists')(3852,3858)
                                TermExpression(TermExpression)(3858,3934)
                                  TermExpressionTerm(TermExpressionTerm)(3858,3934)
                                    ParenthesizedTerm(ParenthesizedTerm)(3858,3934)
                                      PsiElement('(')('(')(3858,3859)
                                      QueryExpression(QueryExpression)(3859,3933)
                                        Query(Query)(3859,3933)
                                          SourceClause(SourceClause)(3859,3874)
                                            AliasedQuerySource(AliasedQuerySource)(3859,3874)
                                              QuerySource(QuerySource)(3859,3872)
                                                QualifiedIdentifierExpression(QualifiedIdentifierExpression)(3859,3872)
                                                  QualifierExpression(QualifierExpression)(3859,3860)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3859,3860)
                                                      Identifier(Identifier)(3859,3860)
                                                        PsiElement(IDENTIFIER)('O')(3859,3860)
                                                  PsiElement('.')('.')(3860,3861)
                                                  QualifierExpression(QualifierExpression)(3861,3865)
                                                    ReferentialIdentifier(ReferentialIdentifier)(3861,3865)
                                                      KeywordIdentifier(KeywordIdentifier)(3861,3865)
                                                        PsiElement('code')('code')(3861,3865)
                                                  PsiElement('.')('.')(3865,3866)
                                                  ReferentialIdentifier(ReferentialIdentifier)(3866,3872)
                                                    Identifier(Identifier)(3866,3872)
                                                      PsiElement(IDENTIFIER)('coding')(3866,3872)
                                              PsiWhiteSpace(' ')(3872,3873)
                                              Alias(Alias)(3873,3874)
                                                Identifier(Identifier)(3873,3874)
                                                  PsiElement(IDENTIFIER)('C')(3873,3874)
                                          PsiWhiteSpace(' ')(3874,3875)
                                          WhereClause(WhereClause)(3875,3933)
                                            PsiElement('where')('where')(3875,3880)
                                            PsiWhiteSpace(' ')(3880,3881)
                                            AndExpression(AndExpression)(3881,3933)
                                              MembershipExpression(MembershipExpression)(3881,3897)
                                                TermExpression(TermExpression)(3881,3887)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3881,3887)
                                                    TermExpressionTerm(TermExpressionTerm)(3881,3882)
                                                      InvocationTerm(InvocationTerm)(3881,3882)
                                                        MemberInvocation(MemberInvocation)(3881,3882)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3881,3882)
                                                            Identifier(Identifier)(3881,3882)
                                                              PsiElement(IDENTIFIER)('C')(3881,3882)
                                                    PsiElement('.')('.')(3882,3883)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3883,3887)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3883,3887)
                                                        KeywordIdentifier(KeywordIdentifier)(3883,3887)
                                                          PsiElement('code')('code')(3883,3887)
                                                PsiWhiteSpace(' ')(3887,3888)
                                                PsiElement('in')('in')(3888,3890)
                                                PsiWhiteSpace(' ')(3890,3891)
                                                TermExpression(TermExpression)(3891,3897)
                                                  TermExpressionTerm(TermExpressionTerm)(3891,3897)
                                                    InvocationTerm(InvocationTerm)(3891,3897)
                                                      MemberInvocation(MemberInvocation)(3891,3897)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3891,3897)
                                                          Identifier(Identifier)(3891,3897)
                                                            PsiElement(IDENTIFIER)('idlist')(3891,3897)
                                              PsiWhiteSpace('\n          ')(3897,3908)
                                              PsiElement('and')('and')(3908,3911)
                                              PsiWhiteSpace(' ')(3911,3912)
                                              EqualityExpression(EqualityExpression)(3912,3933)
                                                TermExpression(TermExpression)(3912,3920)
                                                  InvocationExpressionTerm(InvocationExpressionTerm)(3912,3920)
                                                    TermExpressionTerm(TermExpressionTerm)(3912,3913)
                                                      InvocationTerm(InvocationTerm)(3912,3913)
                                                        MemberInvocation(MemberInvocation)(3912,3913)
                                                          ReferentialIdentifier(ReferentialIdentifier)(3912,3913)
                                                            Identifier(Identifier)(3912,3913)
                                                              PsiElement(IDENTIFIER)('C')(3912,3913)
                                                    PsiElement('.')('.')(3913,3914)
                                                    QualifiedMemberInvocation(QualifiedMemberInvocation)(3914,3920)
                                                      ReferentialIdentifier(ReferentialIdentifier)(3914,3920)
                                                        Identifier(Identifier)(3914,3920)
                                                          PsiElement(IDENTIFIER)('system')(3914,3920)
                                                PsiWhiteSpace(' ')(3920,3921)
                                                PsiElement('=')('=')(3921,3922)
                                                PsiWhiteSpace(' ')(3922,3923)
                                                TermExpression(TermExpression)(3923,3933)
                                                  TermExpressionTerm(TermExpressionTerm)(3923,3933)
                                                    InvocationTerm(InvocationTerm)(3923,3933)
                                                      MemberInvocation(MemberInvocation)(3923,3933)
                                                        ReferentialIdentifier(ReferentialIdentifier)(3923,3933)
                                                          KeywordIdentifier(KeywordIdentifier)(3923,3933)
                                                            PsiElement('codesystem')('codesystem')(3923,3933)
                                      PsiElement(')')(')')(3933,3934)
                    PsiElement(')')(')')(3934,3935)
    PsiWhiteSpace('\n\n\n')(3935,3938)
    PsiComment(LINE_COMMENT)('// ************************   PatientHasHistoryOfObservation ************************/')(3938,4024)
    PsiWhiteSpace('\n\n\n')(4024,4027)
    Statement(Statement)(4027,4201)
      FunctionDefinition(FunctionDefinition)(4027,4201)
        PsiElement('define')('define')(4027,4033)
        PsiWhiteSpace(' ')(4033,4034)
        PsiElement('function')('function')(4034,4042)
        PsiWhiteSpace(' ')(4042,4043)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4043,4056)
          Identifier(Identifier)(4043,4056)
            PsiElement(IDENTIFIER)('HasObsHistory')(4043,4056)
        PsiElement('(')('(')(4056,4057)
        OperandDefinition(OperandDefinition)(4057,4079)
          ReferentialIdentifier(ReferentialIdentifier)(4057,4063)
            Identifier(Identifier)(4057,4063)
              PsiElement(IDENTIFIER)('idlist')(4057,4063)
          PsiWhiteSpace(' ')(4063,4064)
          TypeSpecifier(TypeSpecifier)(4064,4079)
            ListTypeSpecifier(ListTypeSpecifier)(4064,4079)
              PsiElement('List')('List')(4064,4068)
              PsiElement('<')('<')(4068,4069)
              TypeSpecifier(TypeSpecifier)(4069,4078)
                NamedTypeSpecifier(NamedTypeSpecifier)(4069,4078)
                  Qualifier(Qualifier)(4069,4073)
                    Identifier(Identifier)(4069,4073)
                      PsiElement(IDENTIFIER)('FHIR')(4069,4073)
                  PsiElement('.')('.')(4073,4074)
                  ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4074,4078)
                    ReferentialIdentifier(ReferentialIdentifier)(4074,4078)
                      KeywordIdentifier(KeywordIdentifier)(4074,4078)
                        PsiElement('code')('code')(4074,4078)
              PsiElement('>')('>')(4078,4079)
        PsiElement(',')(',')(4079,4080)
        PsiWhiteSpace(' ')(4080,4081)
        OperandDefinition(OperandDefinition)(4081,4105)
          ReferentialIdentifier(ReferentialIdentifier)(4081,4091)
            KeywordIdentifier(KeywordIdentifier)(4081,4091)
              PsiElement('codesystem')('codesystem')(4081,4091)
          PsiWhiteSpace(' ')(4091,4092)
          TypeSpecifier(TypeSpecifier)(4092,4105)
            NamedTypeSpecifier(NamedTypeSpecifier)(4092,4105)
              Qualifier(Qualifier)(4092,4098)
                Identifier(Identifier)(4092,4098)
                  PsiElement(IDENTIFIER)('System')(4092,4098)
              PsiElement('.')('.')(4098,4099)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4099,4105)
                ReferentialIdentifier(ReferentialIdentifier)(4099,4105)
                  Identifier(Identifier)(4099,4105)
                    PsiElement(IDENTIFIER)('String')(4099,4105)
        PsiElement(',')(',')(4105,4106)
        PsiWhiteSpace(' ')(4106,4107)
        OperandDefinition(OperandDefinition)(4107,4121)
          ReferentialIdentifier(ReferentialIdentifier)(4107,4113)
            Identifier(Identifier)(4107,4113)
              PsiElement(IDENTIFIER)('nbdays')(4107,4113)
          PsiWhiteSpace(' ')(4113,4114)
          TypeSpecifier(TypeSpecifier)(4114,4121)
            NamedTypeSpecifier(NamedTypeSpecifier)(4114,4121)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4114,4121)
                ReferentialIdentifier(ReferentialIdentifier)(4114,4121)
                  Identifier(Identifier)(4114,4121)
                    PsiElement(IDENTIFIER)('Integer')(4114,4121)
        PsiElement(')')(')')(4121,4122)
        PsiElement(':')(':')(4122,4123)
        PsiWhiteSpace('\n  ')(4123,4126)
        FunctionBody(FunctionBody)(4126,4201)
          TermExpression(TermExpression)(4126,4201)
            TermExpressionTerm(TermExpressionTerm)(4126,4201)
              InvocationTerm(InvocationTerm)(4126,4201)
                FunctionInvocation(FunctionInvocation)(4126,4201)
                  Function(Function)(4126,4201)
                    ReferentialIdentifier(ReferentialIdentifier)(4126,4142)
                      Identifier(Identifier)(4126,4142)
                        PsiElement(IDENTIFIER)('assesObservation')(4126,4142)
                    PsiElement('(')('(')(4142,4143)
                    ParamList(ParamList)(4143,4200)
                      TermExpression(TermExpression)(4143,4200)
                        TermExpressionTerm(TermExpressionTerm)(4143,4200)
                          InvocationTerm(InvocationTerm)(4143,4200)
                            FunctionInvocation(FunctionInvocation)(4143,4200)
                              Function(Function)(4143,4200)
                                ReferentialIdentifier(ReferentialIdentifier)(4143,4165)
                                  Identifier(Identifier)(4143,4165)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4143,4165)
                                PsiElement('(')('(')(4165,4166)
                                ParamList(ParamList)(4166,4199)
                                  TermExpression(TermExpression)(4166,4172)
                                    TermExpressionTerm(TermExpressionTerm)(4166,4172)
                                      InvocationTerm(InvocationTerm)(4166,4172)
                                        MemberInvocation(MemberInvocation)(4166,4172)
                                          ReferentialIdentifier(ReferentialIdentifier)(4166,4172)
                                            Identifier(Identifier)(4166,4172)
                                              PsiElement(IDENTIFIER)('idlist')(4166,4172)
                                  PsiElement(',')(',')(4172,4173)
                                  PsiWhiteSpace(' ')(4173,4174)
                                  TermExpression(TermExpression)(4174,4191)
                                    TermExpressionTerm(TermExpressionTerm)(4174,4191)
                                      InvocationTerm(InvocationTerm)(4174,4191)
                                        FunctionInvocation(FunctionInvocation)(4174,4191)
                                          Function(Function)(4174,4191)
                                            ReferentialIdentifier(ReferentialIdentifier)(4174,4179)
                                              Identifier(Identifier)(4174,4179)
                                                PsiElement(IDENTIFIER)('ToUrl')(4174,4179)
                                            PsiElement('(')('(')(4179,4180)
                                            ParamList(ParamList)(4180,4190)
                                              TermExpression(TermExpression)(4180,4190)
                                                TermExpressionTerm(TermExpressionTerm)(4180,4190)
                                                  InvocationTerm(InvocationTerm)(4180,4190)
                                                    MemberInvocation(MemberInvocation)(4180,4190)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4180,4190)
                                                        KeywordIdentifier(KeywordIdentifier)(4180,4190)
                                                          PsiElement('codesystem')('codesystem')(4180,4190)
                                            PsiElement(')')(')')(4190,4191)
                                  PsiElement(',')(',')(4191,4192)
                                  PsiWhiteSpace(' ')(4192,4193)
                                  TermExpression(TermExpression)(4193,4199)
                                    TermExpressionTerm(TermExpressionTerm)(4193,4199)
                                      InvocationTerm(InvocationTerm)(4193,4199)
                                        MemberInvocation(MemberInvocation)(4193,4199)
                                          ReferentialIdentifier(ReferentialIdentifier)(4193,4199)
                                            Identifier(Identifier)(4193,4199)
                                              PsiElement(IDENTIFIER)('nbdays')(4193,4199)
                                PsiElement(')')(')')(4199,4200)
                    PsiElement(')')(')')(4200,4201)
    PsiWhiteSpace('\n\n\n')(4201,4204)
    Statement(Statement)(4204,4366)
      FunctionDefinition(FunctionDefinition)(4204,4366)
        PsiElement('define')('define')(4204,4210)
        PsiWhiteSpace(' ')(4210,4211)
        PsiElement('function')('function')(4211,4219)
        PsiWhiteSpace(' ')(4219,4220)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4220,4233)
          Identifier(Identifier)(4220,4233)
            PsiElement(IDENTIFIER)('HasObsHistory')(4220,4233)
        PsiElement('(')('(')(4233,4234)
        OperandDefinition(OperandDefinition)(4234,4246)
          ReferentialIdentifier(ReferentialIdentifier)(4234,4236)
            Identifier(Identifier)(4234,4236)
              PsiElement(IDENTIFIER)('id')(4234,4236)
          PsiWhiteSpace(' ')(4236,4237)
          TypeSpecifier(TypeSpecifier)(4237,4246)
            NamedTypeSpecifier(NamedTypeSpecifier)(4237,4246)
              Qualifier(Qualifier)(4237,4241)
                Identifier(Identifier)(4237,4241)
                  PsiElement(IDENTIFIER)('FHIR')(4237,4241)
              PsiElement('.')('.')(4241,4242)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4242,4246)
                ReferentialIdentifier(ReferentialIdentifier)(4242,4246)
                  KeywordIdentifier(KeywordIdentifier)(4242,4246)
                    PsiElement('code')('code')(4242,4246)
        PsiElement(',')(',')(4246,4247)
        PsiWhiteSpace(' ')(4247,4248)
        OperandDefinition(OperandDefinition)(4248,4272)
          ReferentialIdentifier(ReferentialIdentifier)(4248,4258)
            KeywordIdentifier(KeywordIdentifier)(4248,4258)
              PsiElement('codesystem')('codesystem')(4248,4258)
          PsiWhiteSpace(' ')(4258,4259)
          TypeSpecifier(TypeSpecifier)(4259,4272)
            NamedTypeSpecifier(NamedTypeSpecifier)(4259,4272)
              Qualifier(Qualifier)(4259,4265)
                Identifier(Identifier)(4259,4265)
                  PsiElement(IDENTIFIER)('System')(4259,4265)
              PsiElement('.')('.')(4265,4266)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4266,4272)
                ReferentialIdentifier(ReferentialIdentifier)(4266,4272)
                  Identifier(Identifier)(4266,4272)
                    PsiElement(IDENTIFIER)('String')(4266,4272)
        PsiElement(',')(',')(4272,4273)
        PsiWhiteSpace(' ')(4273,4274)
        OperandDefinition(OperandDefinition)(4274,4288)
          ReferentialIdentifier(ReferentialIdentifier)(4274,4280)
            Identifier(Identifier)(4274,4280)
              PsiElement(IDENTIFIER)('nbdays')(4274,4280)
          PsiWhiteSpace(' ')(4280,4281)
          TypeSpecifier(TypeSpecifier)(4281,4288)
            NamedTypeSpecifier(NamedTypeSpecifier)(4281,4288)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4281,4288)
                ReferentialIdentifier(ReferentialIdentifier)(4281,4288)
                  Identifier(Identifier)(4281,4288)
                    PsiElement(IDENTIFIER)('Integer')(4281,4288)
        PsiElement(')')(')')(4288,4289)
        PsiElement(':')(':')(4289,4290)
        PsiWhiteSpace('\n  ')(4290,4293)
        FunctionBody(FunctionBody)(4293,4366)
          TermExpression(TermExpression)(4293,4366)
            TermExpressionTerm(TermExpressionTerm)(4293,4366)
              InvocationTerm(InvocationTerm)(4293,4366)
                FunctionInvocation(FunctionInvocation)(4293,4366)
                  Function(Function)(4293,4366)
                    ReferentialIdentifier(ReferentialIdentifier)(4293,4309)
                      Identifier(Identifier)(4293,4309)
                        PsiElement(IDENTIFIER)('assesObservation')(4293,4309)
                    PsiElement('(')('(')(4309,4310)
                    ParamList(ParamList)(4310,4365)
                      TermExpression(TermExpression)(4310,4365)
                        TermExpressionTerm(TermExpressionTerm)(4310,4365)
                          InvocationTerm(InvocationTerm)(4310,4365)
                            FunctionInvocation(FunctionInvocation)(4310,4365)
                              Function(Function)(4310,4365)
                                ReferentialIdentifier(ReferentialIdentifier)(4310,4332)
                                  Identifier(Identifier)(4310,4332)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4310,4332)
                                PsiElement('(')('(')(4332,4333)
                                ParamList(ParamList)(4333,4364)
                                  TermExpression(TermExpression)(4333,4337)
                                    TermExpressionTerm(TermExpressionTerm)(4333,4337)
                                      ListSelectorTerm(ListSelectorTerm)(4333,4337)
                                        ListSelector(ListSelector)(4333,4337)
                                          PsiElement('{')('{')(4333,4334)
                                          TermExpression(TermExpression)(4334,4336)
                                            TermExpressionTerm(TermExpressionTerm)(4334,4336)
                                              InvocationTerm(InvocationTerm)(4334,4336)
                                                MemberInvocation(MemberInvocation)(4334,4336)
                                                  ReferentialIdentifier(ReferentialIdentifier)(4334,4336)
                                                    Identifier(Identifier)(4334,4336)
                                                      PsiElement(IDENTIFIER)('id')(4334,4336)
                                          PsiElement('}')('}')(4336,4337)
                                  PsiElement(',')(',')(4337,4338)
                                  PsiWhiteSpace(' ')(4338,4339)
                                  TermExpression(TermExpression)(4339,4356)
                                    TermExpressionTerm(TermExpressionTerm)(4339,4356)
                                      InvocationTerm(InvocationTerm)(4339,4356)
                                        FunctionInvocation(FunctionInvocation)(4339,4356)
                                          Function(Function)(4339,4356)
                                            ReferentialIdentifier(ReferentialIdentifier)(4339,4344)
                                              Identifier(Identifier)(4339,4344)
                                                PsiElement(IDENTIFIER)('ToUrl')(4339,4344)
                                            PsiElement('(')('(')(4344,4345)
                                            ParamList(ParamList)(4345,4355)
                                              TermExpression(TermExpression)(4345,4355)
                                                TermExpressionTerm(TermExpressionTerm)(4345,4355)
                                                  InvocationTerm(InvocationTerm)(4345,4355)
                                                    MemberInvocation(MemberInvocation)(4345,4355)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4345,4355)
                                                        KeywordIdentifier(KeywordIdentifier)(4345,4355)
                                                          PsiElement('codesystem')('codesystem')(4345,4355)
                                            PsiElement(')')(')')(4355,4356)
                                  PsiElement(',')(',')(4356,4357)
                                  PsiWhiteSpace(' ')(4357,4358)
                                  TermExpression(TermExpression)(4358,4364)
                                    TermExpressionTerm(TermExpressionTerm)(4358,4364)
                                      InvocationTerm(InvocationTerm)(4358,4364)
                                        MemberInvocation(MemberInvocation)(4358,4364)
                                          ReferentialIdentifier(ReferentialIdentifier)(4358,4364)
                                            Identifier(Identifier)(4358,4364)
                                              PsiElement(IDENTIFIER)('nbdays')(4358,4364)
                                PsiElement(')')(')')(4364,4365)
                    PsiElement(')')(')')(4365,4366)
    PsiWhiteSpace('\n\n')(4366,4368)
    Statement(Statement)(4368,4537)
      FunctionDefinition(FunctionDefinition)(4368,4537)
        PsiElement('define')('define')(4368,4374)
        PsiWhiteSpace(' ')(4374,4375)
        PsiElement('function')('function')(4375,4383)
        PsiWhiteSpace(' ')(4383,4384)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4384,4397)
          Identifier(Identifier)(4384,4397)
            PsiElement(IDENTIFIER)('HasObsHistory')(4384,4397)
        PsiElement('(')('(')(4397,4398)
        OperandDefinition(OperandDefinition)(4398,4414)
          ReferentialIdentifier(ReferentialIdentifier)(4398,4400)
            Identifier(Identifier)(4398,4400)
              PsiElement(IDENTIFIER)('id')(4398,4400)
          PsiWhiteSpace(' ')(4400,4401)
          TypeSpecifier(TypeSpecifier)(4401,4414)
            NamedTypeSpecifier(NamedTypeSpecifier)(4401,4414)
              Qualifier(Qualifier)(4401,4407)
                Identifier(Identifier)(4401,4407)
                  PsiElement(IDENTIFIER)('System')(4401,4407)
              PsiElement('.')('.')(4407,4408)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4408,4414)
                ReferentialIdentifier(ReferentialIdentifier)(4408,4414)
                  Identifier(Identifier)(4408,4414)
                    PsiElement(IDENTIFIER)('String')(4408,4414)
        PsiElement(',')(',')(4414,4415)
        PsiWhiteSpace(' ')(4415,4416)
        OperandDefinition(OperandDefinition)(4416,4440)
          ReferentialIdentifier(ReferentialIdentifier)(4416,4426)
            KeywordIdentifier(KeywordIdentifier)(4416,4426)
              PsiElement('codesystem')('codesystem')(4416,4426)
          PsiWhiteSpace(' ')(4426,4427)
          TypeSpecifier(TypeSpecifier)(4427,4440)
            NamedTypeSpecifier(NamedTypeSpecifier)(4427,4440)
              Qualifier(Qualifier)(4427,4433)
                Identifier(Identifier)(4427,4433)
                  PsiElement(IDENTIFIER)('System')(4427,4433)
              PsiElement('.')('.')(4433,4434)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4434,4440)
                ReferentialIdentifier(ReferentialIdentifier)(4434,4440)
                  Identifier(Identifier)(4434,4440)
                    PsiElement(IDENTIFIER)('String')(4434,4440)
        PsiElement(',')(',')(4440,4441)
        PsiWhiteSpace(' ')(4441,4442)
        OperandDefinition(OperandDefinition)(4442,4456)
          ReferentialIdentifier(ReferentialIdentifier)(4442,4448)
            Identifier(Identifier)(4442,4448)
              PsiElement(IDENTIFIER)('nbdays')(4442,4448)
          PsiWhiteSpace(' ')(4448,4449)
          TypeSpecifier(TypeSpecifier)(4449,4456)
            NamedTypeSpecifier(NamedTypeSpecifier)(4449,4456)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4449,4456)
                ReferentialIdentifier(ReferentialIdentifier)(4449,4456)
                  Identifier(Identifier)(4449,4456)
                    PsiElement(IDENTIFIER)('Integer')(4449,4456)
        PsiElement(')')(')')(4456,4457)
        PsiElement(':')(':')(4457,4458)
        PsiWhiteSpace('\n  ')(4458,4461)
        FunctionBody(FunctionBody)(4461,4537)
          TermExpression(TermExpression)(4461,4537)
            TermExpressionTerm(TermExpressionTerm)(4461,4537)
              InvocationTerm(InvocationTerm)(4461,4537)
                FunctionInvocation(FunctionInvocation)(4461,4537)
                  Function(Function)(4461,4537)
                    ReferentialIdentifier(ReferentialIdentifier)(4461,4477)
                      Identifier(Identifier)(4461,4477)
                        PsiElement(IDENTIFIER)('assesObservation')(4461,4477)
                    PsiElement('(')('(')(4477,4478)
                    ParamList(ParamList)(4478,4536)
                      TermExpression(TermExpression)(4478,4536)
                        TermExpressionTerm(TermExpressionTerm)(4478,4536)
                          InvocationTerm(InvocationTerm)(4478,4536)
                            FunctionInvocation(FunctionInvocation)(4478,4536)
                              Function(Function)(4478,4536)
                                ReferentialIdentifier(ReferentialIdentifier)(4478,4500)
                                  Identifier(Identifier)(4478,4500)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4478,4500)
                                PsiElement('(')('(')(4500,4501)
                                ParamList(ParamList)(4501,4535)
                                  TermExpression(TermExpression)(4501,4508)
                                    TermExpressionTerm(TermExpressionTerm)(4501,4508)
                                      ListSelectorTerm(ListSelectorTerm)(4501,4508)
                                        ListSelector(ListSelector)(4501,4508)
                                          PsiElement('{')('{')(4501,4502)
                                          TermExpression(TermExpression)(4502,4507)
                                            TermExpressionTerm(TermExpressionTerm)(4502,4507)
                                              InvocationTerm(InvocationTerm)(4502,4507)
                                                FunctionInvocation(FunctionInvocation)(4502,4507)
                                                  Function(Function)(4502,4507)
                                                    ReferentialIdentifier(ReferentialIdentifier)(4502,4503)
                                                      Identifier(Identifier)(4502,4503)
                                                        PsiElement(IDENTIFIER)('c')(4502,4503)
                                                    PsiElement('(')('(')(4503,4504)
                                                    ParamList(ParamList)(4504,4506)
                                                      TermExpression(TermExpression)(4504,4506)
                                                        TermExpressionTerm(TermExpressionTerm)(4504,4506)
                                                          InvocationTerm(InvocationTerm)(4504,4506)
                                                            MemberInvocation(MemberInvocation)(4504,4506)
                                                              ReferentialIdentifier(ReferentialIdentifier)(4504,4506)
                                                                Identifier(Identifier)(4504,4506)
                                                                  PsiElement(IDENTIFIER)('id')(4504,4506)
                                                    PsiElement(')')(')')(4506,4507)
                                          PsiElement('}')('}')(4507,4508)
                                  PsiElement(',')(',')(4508,4509)
                                  PsiWhiteSpace(' ')(4509,4510)
                                  TermExpression(TermExpression)(4510,4527)
                                    TermExpressionTerm(TermExpressionTerm)(4510,4527)
                                      InvocationTerm(InvocationTerm)(4510,4527)
                                        FunctionInvocation(FunctionInvocation)(4510,4527)
                                          Function(Function)(4510,4527)
                                            ReferentialIdentifier(ReferentialIdentifier)(4510,4515)
                                              Identifier(Identifier)(4510,4515)
                                                PsiElement(IDENTIFIER)('ToUrl')(4510,4515)
                                            PsiElement('(')('(')(4515,4516)
                                            ParamList(ParamList)(4516,4526)
                                              TermExpression(TermExpression)(4516,4526)
                                                TermExpressionTerm(TermExpressionTerm)(4516,4526)
                                                  InvocationTerm(InvocationTerm)(4516,4526)
                                                    MemberInvocation(MemberInvocation)(4516,4526)
                                                      ReferentialIdentifier(ReferentialIdentifier)(4516,4526)
                                                        KeywordIdentifier(KeywordIdentifier)(4516,4526)
                                                          PsiElement('codesystem')('codesystem')(4516,4526)
                                            PsiElement(')')(')')(4526,4527)
                                  PsiElement(',')(',')(4527,4528)
                                  PsiWhiteSpace(' ')(4528,4529)
                                  TermExpression(TermExpression)(4529,4535)
                                    TermExpressionTerm(TermExpressionTerm)(4529,4535)
                                      InvocationTerm(InvocationTerm)(4529,4535)
                                        MemberInvocation(MemberInvocation)(4529,4535)
                                          ReferentialIdentifier(ReferentialIdentifier)(4529,4535)
                                            Identifier(Identifier)(4529,4535)
                                              PsiElement(IDENTIFIER)('nbdays')(4529,4535)
                                PsiElement(')')(')')(4535,4536)
                    PsiElement(')')(')')(4536,4537)
    PsiWhiteSpace('\n\n\n')(4537,4540)
    Statement(Statement)(4540,4721)
      FunctionDefinition(FunctionDefinition)(4540,4721)
        PsiElement('define')('define')(4540,4546)
        PsiWhiteSpace(' ')(4546,4547)
        PsiElement('function')('function')(4547,4555)
        PsiWhiteSpace(' ')(4555,4556)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4556,4569)
          Identifier(Identifier)(4556,4569)
            PsiElement(IDENTIFIER)('HasObsHistory')(4556,4569)
        PsiElement('(')('(')(4569,4570)
        OperandDefinition(OperandDefinition)(4570,4586)
          ReferentialIdentifier(ReferentialIdentifier)(4570,4572)
            Identifier(Identifier)(4570,4572)
              PsiElement(IDENTIFIER)('id')(4570,4572)
          PsiWhiteSpace(' ')(4572,4573)
          TypeSpecifier(TypeSpecifier)(4573,4586)
            NamedTypeSpecifier(NamedTypeSpecifier)(4573,4586)
              Qualifier(Qualifier)(4573,4579)
                Identifier(Identifier)(4573,4579)
                  PsiElement(IDENTIFIER)('System')(4573,4579)
              PsiElement('.')('.')(4579,4580)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4580,4586)
                ReferentialIdentifier(ReferentialIdentifier)(4580,4586)
                  Identifier(Identifier)(4580,4586)
                    PsiElement(IDENTIFIER)('String')(4580,4586)
        PsiElement(',')(',')(4586,4587)
        PsiWhiteSpace(' ')(4587,4588)
        OperandDefinition(OperandDefinition)(4588,4602)
          ReferentialIdentifier(ReferentialIdentifier)(4588,4594)
            Identifier(Identifier)(4588,4594)
              PsiElement(IDENTIFIER)('nbdays')(4588,4594)
          PsiWhiteSpace(' ')(4594,4595)
          TypeSpecifier(TypeSpecifier)(4595,4602)
            NamedTypeSpecifier(NamedTypeSpecifier)(4595,4602)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4595,4602)
                ReferentialIdentifier(ReferentialIdentifier)(4595,4602)
                  Identifier(Identifier)(4595,4602)
                    PsiElement(IDENTIFIER)('Integer')(4595,4602)
        PsiElement(')')(')')(4602,4603)
        PsiElement(':')(':')(4603,4604)
        PsiWhiteSpace('\n  ')(4604,4607)
        FunctionBody(FunctionBody)(4607,4721)
          TermExpression(TermExpression)(4607,4721)
            TermExpressionTerm(TermExpressionTerm)(4607,4721)
              InvocationTerm(InvocationTerm)(4607,4721)
                FunctionInvocation(FunctionInvocation)(4607,4721)
                  Function(Function)(4607,4721)
                    ReferentialIdentifier(ReferentialIdentifier)(4607,4623)
                      Identifier(Identifier)(4607,4623)
                        PsiElement(IDENTIFIER)('assesObservation')(4607,4623)
                    PsiElement('(')('(')(4623,4624)
                    ParamList(ParamList)(4624,4720)
                      TermExpression(TermExpression)(4624,4720)
                        TermExpressionTerm(TermExpressionTerm)(4624,4720)
                          InvocationTerm(InvocationTerm)(4624,4720)
                            FunctionInvocation(FunctionInvocation)(4624,4720)
                              Function(Function)(4624,4720)
                                ReferentialIdentifier(ReferentialIdentifier)(4624,4646)
                                  Identifier(Identifier)(4624,4646)
                                    PsiElement(IDENTIFIER)('GetHistoricObservation')(4624,4646)
                                PsiElement('(')('(')(4646,4647)
                                ParamList(ParamList)(4647,4719)
                                  TermExpression(TermExpression)(4647,4654)
                                    TermExpressionTerm(TermExpressionTerm)(4647,4654)
                                      ListSelectorTerm(ListSelectorTerm)(4647,4654)
                                        ListSelector(ListSelector)(4647,4654)
                                          PsiElement('{')('{')(4647,4648)
                                          TermExpression(TermExpression)(4648,4653)
                                            TermExpressionTerm(TermExpressionTerm)(4648,4653)
                                              InvocationTerm(InvocationTerm)(4648,4653)
                                                FunctionInvocation(FunctionInvocation)(4648,4653)
                                                  Function(Function)(4648,4653)
                                                    ReferentialIdentifier(ReferentialIdentifier)(4648,4649)
                                                      Identifier(Identifier)(4648,4649)
                                                        PsiElement(IDENTIFIER)('c')(4648,4649)
                                                    PsiElement('(')('(')(4649,4650)
                                                    ParamList(ParamList)(4650,4652)
                                                      TermExpression(TermExpression)(4650,4652)
                                                        TermExpressionTerm(TermExpressionTerm)(4650,4652)
                                                          InvocationTerm(InvocationTerm)(4650,4652)
                                                            MemberInvocation(MemberInvocation)(4650,4652)
                                                              ReferentialIdentifier(ReferentialIdentifier)(4650,4652)
                                                                Identifier(Identifier)(4650,4652)
                                                                  PsiElement(IDENTIFIER)('id')(4650,4652)
                                                    PsiElement(')')(')')(4652,4653)
                                          PsiElement('}')('}')(4653,4654)
                                  PsiElement(',')(',')(4654,4655)
                                  PsiWhiteSpace(' ')(4655,4656)
                                  TermExpression(TermExpression)(4656,4711)
                                    TermExpressionTerm(TermExpressionTerm)(4656,4711)
                                      InvocationTerm(InvocationTerm)(4656,4711)
                                        FunctionInvocation(FunctionInvocation)(4656,4711)
                                          Function(Function)(4656,4711)
                                            ReferentialIdentifier(ReferentialIdentifier)(4656,4661)
                                              Identifier(Identifier)(4656,4661)
                                                PsiElement(IDENTIFIER)('ToUrl')(4656,4661)
                                            PsiElement('(')('(')(4661,4662)
                                            ParamList(ParamList)(4662,4710)
                                              TermExpression(TermExpression)(4662,4710)
                                                TermExpressionTerm(TermExpressionTerm)(4662,4710)
                                                  LiteralTerm(LiteralTerm)(4662,4710)
                                                    StringLiteral(StringLiteral)(4662,4710)
                                                      PsiElement(STRING)(''https://fhir.dk.swisstph-mis.ch/matchbox/fhir/'')(4662,4710)
                                            PsiElement(')')(')')(4710,4711)
                                  PsiElement(',')(',')(4711,4712)
                                  PsiWhiteSpace(' ')(4712,4713)
                                  TermExpression(TermExpression)(4713,4719)
                                    TermExpressionTerm(TermExpressionTerm)(4713,4719)
                                      InvocationTerm(InvocationTerm)(4713,4719)
                                        MemberInvocation(MemberInvocation)(4713,4719)
                                          ReferentialIdentifier(ReferentialIdentifier)(4713,4719)
                                            Identifier(Identifier)(4713,4719)
                                              PsiElement(IDENTIFIER)('nbdays')(4713,4719)
                                PsiElement(')')(')')(4719,4720)
                    PsiElement(')')(')')(4720,4721)
    PsiWhiteSpace('\n\n')(4721,4723)
    Statement(Statement)(4723,4783)
      FunctionDefinition(FunctionDefinition)(4723,4783)
        PsiElement('define')('define')(4723,4729)
        PsiWhiteSpace(' ')(4729,4730)
        PsiElement('function')('function')(4730,4738)
        PsiWhiteSpace(' ')(4738,4739)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4739,4740)
          Identifier(Identifier)(4739,4740)
            PsiElement(IDENTIFIER)('c')(4739,4740)
        PsiElement('(')('(')(4740,4741)
        OperandDefinition(OperandDefinition)(4741,4756)
          ReferentialIdentifier(ReferentialIdentifier)(4741,4742)
            Identifier(Identifier)(4741,4742)
              PsiElement(IDENTIFIER)('s')(4741,4742)
          PsiWhiteSpace(' ')(4742,4743)
          TypeSpecifier(TypeSpecifier)(4743,4756)
            NamedTypeSpecifier(NamedTypeSpecifier)(4743,4756)
              Qualifier(Qualifier)(4743,4749)
                Identifier(Identifier)(4743,4749)
                  PsiElement(IDENTIFIER)('System')(4743,4749)
              PsiElement('.')('.')(4749,4750)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4750,4756)
                ReferentialIdentifier(ReferentialIdentifier)(4750,4756)
                  Identifier(Identifier)(4750,4756)
                    PsiElement(IDENTIFIER)('String')(4750,4756)
        PsiElement(')')(')')(4756,4757)
        PsiElement(':')(':')(4757,4758)
        PsiWhiteSpace('\n  ')(4758,4761)
        FunctionBody(FunctionBody)(4761,4783)
          TermExpression(TermExpression)(4761,4783)
            TermExpressionTerm(TermExpressionTerm)(4761,4783)
              InstanceSelectorTerm(InstanceSelectorTerm)(4761,4783)
                InstanceSelector(InstanceSelector)(4761,4783)
                  NamedTypeSpecifier(NamedTypeSpecifier)(4761,4770)
                    Qualifier(Qualifier)(4761,4765)
                      Identifier(Identifier)(4761,4765)
                        PsiElement(IDENTIFIER)('FHIR')(4761,4765)
                    PsiElement('.')('.')(4765,4766)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4766,4770)
                      ReferentialIdentifier(ReferentialIdentifier)(4766,4770)
                        KeywordIdentifier(KeywordIdentifier)(4766,4770)
                          PsiElement('code')('code')(4766,4770)
                  PsiWhiteSpace(' ')(4770,4771)
                  PsiElement('{')('{')(4771,4772)
                  PsiWhiteSpace(' ')(4772,4773)
                  InstanceElementSelector(InstanceElementSelector)(4773,4781)
                    ReferentialIdentifier(ReferentialIdentifier)(4773,4778)
                      Identifier(Identifier)(4773,4778)
                        PsiElement(IDENTIFIER)('value')(4773,4778)
                    PsiElement(':')(':')(4778,4779)
                    PsiWhiteSpace(' ')(4779,4780)
                    TermExpression(TermExpression)(4780,4781)
                      TermExpressionTerm(TermExpressionTerm)(4780,4781)
                        InvocationTerm(InvocationTerm)(4780,4781)
                          MemberInvocation(MemberInvocation)(4780,4781)
                            ReferentialIdentifier(ReferentialIdentifier)(4780,4781)
                              Identifier(Identifier)(4780,4781)
                                PsiElement(IDENTIFIER)('s')(4780,4781)
                  PsiWhiteSpace(' ')(4781,4782)
                  PsiElement('}')('}')(4782,4783)
    PsiWhiteSpace('\n\n')(4783,4785)
    Statement(Statement)(4785,5021)
      FunctionDefinition(FunctionDefinition)(4785,5021)
        PsiElement('define')('define')(4785,4791)
        PsiWhiteSpace(' ')(4791,4792)
        PsiElement('function')('function')(4792,4800)
        PsiWhiteSpace(' ')(4800,4801)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(4801,4807)
          Identifier(Identifier)(4801,4807)
            PsiElement(IDENTIFIER)('coding')(4801,4807)
        PsiElement('(')('(')(4807,4808)
        OperandDefinition(OperandDefinition)(4808,4823)
          ReferentialIdentifier(ReferentialIdentifier)(4808,4809)
            Identifier(Identifier)(4808,4809)
              PsiElement(IDENTIFIER)('s')(4808,4809)
          PsiWhiteSpace(' ')(4809,4810)
          TypeSpecifier(TypeSpecifier)(4810,4823)
            NamedTypeSpecifier(NamedTypeSpecifier)(4810,4823)
              Qualifier(Qualifier)(4810,4816)
                Identifier(Identifier)(4810,4816)
                  PsiElement(IDENTIFIER)('System')(4810,4816)
              PsiElement('.')('.')(4816,4817)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4817,4823)
                ReferentialIdentifier(ReferentialIdentifier)(4817,4823)
                  Identifier(Identifier)(4817,4823)
                    PsiElement(IDENTIFIER)('String')(4817,4823)
        PsiElement(',')(',')(4823,4824)
        PsiWhiteSpace(' ')(4824,4825)
        OperandDefinition(OperandDefinition)(4825,4842)
          ReferentialIdentifier(ReferentialIdentifier)(4825,4828)
            Identifier(Identifier)(4825,4828)
              PsiElement(IDENTIFIER)('url')(4825,4828)
          PsiWhiteSpace(' ')(4828,4829)
          TypeSpecifier(TypeSpecifier)(4829,4842)
            NamedTypeSpecifier(NamedTypeSpecifier)(4829,4842)
              Qualifier(Qualifier)(4829,4835)
                Identifier(Identifier)(4829,4835)
                  PsiElement(IDENTIFIER)('System')(4829,4835)
              PsiElement('.')('.')(4835,4836)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4836,4842)
                ReferentialIdentifier(ReferentialIdentifier)(4836,4842)
                  Identifier(Identifier)(4836,4842)
                    PsiElement(IDENTIFIER)('String')(4836,4842)
        PsiElement(')')(')')(4842,4843)
        PsiElement(':')(':')(4843,4844)
        PsiWhiteSpace('\n  ')(4844,4847)
        FunctionBody(FunctionBody)(4847,5021)
          TermExpression(TermExpression)(4847,5021)
            TermExpressionTerm(TermExpressionTerm)(4847,5021)
              InstanceSelectorTerm(InstanceSelectorTerm)(4847,5021)
                InstanceSelector(InstanceSelector)(4847,5021)
                  NamedTypeSpecifier(NamedTypeSpecifier)(4847,4858)
                    Qualifier(Qualifier)(4847,4851)
                      Identifier(Identifier)(4847,4851)
                        PsiElement(IDENTIFIER)('FHIR')(4847,4851)
                    PsiElement('.')('.')(4851,4852)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4852,4858)
                      ReferentialIdentifier(ReferentialIdentifier)(4852,4858)
                        Identifier(Identifier)(4852,4858)
                          PsiElement(IDENTIFIER)('Coding')(4852,4858)
                  PsiWhiteSpace(' ')(4858,4859)
                  PsiElement('{')('{')(4859,4860)
                  PsiWhiteSpace('\n                ')(4860,4877)
                  InstanceElementSelector(InstanceElementSelector)(4877,4905)
                    ReferentialIdentifier(ReferentialIdentifier)(4877,4881)
                      KeywordIdentifier(KeywordIdentifier)(4877,4881)
                        PsiElement('code')('code')(4877,4881)
                    PsiElement(':')(':')(4881,4882)
                    PsiWhiteSpace(' ')(4882,4883)
                    TermExpression(TermExpression)(4883,4905)
                      TermExpressionTerm(TermExpressionTerm)(4883,4905)
                        InstanceSelectorTerm(InstanceSelectorTerm)(4883,4905)
                          InstanceSelector(InstanceSelector)(4883,4905)
                            NamedTypeSpecifier(NamedTypeSpecifier)(4883,4892)
                              Qualifier(Qualifier)(4883,4887)
                                Identifier(Identifier)(4883,4887)
                                  PsiElement(IDENTIFIER)('FHIR')(4883,4887)
                              PsiElement('.')('.')(4887,4888)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4888,4892)
                                ReferentialIdentifier(ReferentialIdentifier)(4888,4892)
                                  KeywordIdentifier(KeywordIdentifier)(4888,4892)
                                    PsiElement('code')('code')(4888,4892)
                            PsiWhiteSpace(' ')(4892,4893)
                            PsiElement('{')('{')(4893,4894)
                            PsiWhiteSpace(' ')(4894,4895)
                            InstanceElementSelector(InstanceElementSelector)(4895,4903)
                              ReferentialIdentifier(ReferentialIdentifier)(4895,4900)
                                Identifier(Identifier)(4895,4900)
                                  PsiElement(IDENTIFIER)('value')(4895,4900)
                              PsiElement(':')(':')(4900,4901)
                              PsiWhiteSpace(' ')(4901,4902)
                              TermExpression(TermExpression)(4902,4903)
                                TermExpressionTerm(TermExpressionTerm)(4902,4903)
                                  InvocationTerm(InvocationTerm)(4902,4903)
                                    MemberInvocation(MemberInvocation)(4902,4903)
                                      ReferentialIdentifier(ReferentialIdentifier)(4902,4903)
                                        Identifier(Identifier)(4902,4903)
                                          PsiElement(IDENTIFIER)('s')(4902,4903)
                            PsiWhiteSpace(' ')(4903,4904)
                            PsiElement('}')('}')(4904,4905)
                  PsiElement(',')(',')(4905,4906)
                  PsiWhiteSpace('\n                ')(4906,4923)
                  InstanceElementSelector(InstanceElementSelector)(4923,4954)
                    ReferentialIdentifier(ReferentialIdentifier)(4923,4929)
                      Identifier(Identifier)(4923,4929)
                        PsiElement(IDENTIFIER)('system')(4923,4929)
                    PsiElement(':')(':')(4929,4930)
                    PsiWhiteSpace(' ')(4930,4931)
                    TermExpression(TermExpression)(4931,4954)
                      TermExpressionTerm(TermExpressionTerm)(4931,4954)
                        InstanceSelectorTerm(InstanceSelectorTerm)(4931,4954)
                          InstanceSelector(InstanceSelector)(4931,4954)
                            NamedTypeSpecifier(NamedTypeSpecifier)(4931,4939)
                              Qualifier(Qualifier)(4931,4935)
                                Identifier(Identifier)(4931,4935)
                                  PsiElement(IDENTIFIER)('FHIR')(4931,4935)
                              PsiElement('.')('.')(4935,4936)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4936,4939)
                                ReferentialIdentifier(ReferentialIdentifier)(4936,4939)
                                  Identifier(Identifier)(4936,4939)
                                    PsiElement(IDENTIFIER)('uri')(4936,4939)
                            PsiWhiteSpace(' ')(4939,4940)
                            PsiElement('{')('{')(4940,4941)
                            PsiWhiteSpace(' ')(4941,4942)
                            InstanceElementSelector(InstanceElementSelector)(4942,4952)
                              ReferentialIdentifier(ReferentialIdentifier)(4942,4947)
                                Identifier(Identifier)(4942,4947)
                                  PsiElement(IDENTIFIER)('value')(4942,4947)
                              PsiElement(':')(':')(4947,4948)
                              PsiWhiteSpace(' ')(4948,4949)
                              TermExpression(TermExpression)(4949,4952)
                                TermExpressionTerm(TermExpressionTerm)(4949,4952)
                                  InvocationTerm(InvocationTerm)(4949,4952)
                                    MemberInvocation(MemberInvocation)(4949,4952)
                                      ReferentialIdentifier(ReferentialIdentifier)(4949,4952)
                                        Identifier(Identifier)(4949,4952)
                                          PsiElement(IDENTIFIER)('url')(4949,4952)
                            PsiWhiteSpace(' ')(4952,4953)
                            PsiElement('}')('}')(4953,4954)
                  PsiElement(',')(',')(4954,4955)
                  PsiWhiteSpace('\n                ')(4955,4972)
                  InstanceElementSelector(InstanceElementSelector)(4972,5007)
                    ReferentialIdentifier(ReferentialIdentifier)(4972,4981)
                      Identifier(Identifier)(4972,4981)
                        PsiElement(QUOTEDIDENTIFIER)('"display"')(4972,4981)
                    PsiElement(':')(':')(4981,4982)
                    PsiWhiteSpace(' ')(4982,4983)
                    TermExpression(TermExpression)(4983,5007)
                      TermExpressionTerm(TermExpressionTerm)(4983,5007)
                        InstanceSelectorTerm(InstanceSelectorTerm)(4983,5007)
                          InstanceSelector(InstanceSelector)(4983,5007)
                            NamedTypeSpecifier(NamedTypeSpecifier)(4983,4994)
                              Qualifier(Qualifier)(4983,4987)
                                Identifier(Identifier)(4983,4987)
                                  PsiElement(IDENTIFIER)('FHIR')(4983,4987)
                              PsiElement('.')('.')(4987,4988)
                              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(4988,4994)
                                ReferentialIdentifier(ReferentialIdentifier)(4988,4994)
                                  Identifier(Identifier)(4988,4994)
                                    PsiElement(IDENTIFIER)('string')(4988,4994)
                            PsiWhiteSpace(' ')(4994,4995)
                            PsiElement('{')('{')(4995,4996)
                            PsiWhiteSpace(' ')(4996,4997)
                            InstanceElementSelector(InstanceElementSelector)(4997,5005)
                              ReferentialIdentifier(ReferentialIdentifier)(4997,5002)
                                Identifier(Identifier)(4997,5002)
                                  PsiElement(IDENTIFIER)('value')(4997,5002)
                              PsiElement(':')(':')(5002,5003)
                              PsiWhiteSpace(' ')(5003,5004)
                              TermExpression(TermExpression)(5004,5005)
                                TermExpressionTerm(TermExpressionTerm)(5004,5005)
                                  InvocationTerm(InvocationTerm)(5004,5005)
                                    MemberInvocation(MemberInvocation)(5004,5005)
                                      ReferentialIdentifier(ReferentialIdentifier)(5004,5005)
                                        Identifier(Identifier)(5004,5005)
                                          PsiElement(IDENTIFIER)('s')(5004,5005)
                            PsiWhiteSpace(' ')(5005,5006)
                            PsiElement('}')('}')(5006,5007)
                  PsiWhiteSpace('\n            ')(5007,5020)
                  PsiElement('}')('}')(5020,5021)
    PsiWhiteSpace('\n\n')(5021,5023)
    Statement(Statement)(5023,5078)
      FunctionDefinition(FunctionDefinition)(5023,5078)
        PsiElement('define')('define')(5023,5029)
        PsiWhiteSpace(' ')(5029,5030)
        PsiElement('function')('function')(5030,5038)
        PsiWhiteSpace(' ')(5038,5039)
        IdentifierOrFunctionIdentifier(IdentifierOrFunctionIdentifier)(5039,5044)
          Identifier(Identifier)(5039,5044)
            PsiElement(IDENTIFIER)('ToUrl')(5039,5044)
        PsiElement('(')('(')(5044,5045)
        OperandDefinition(OperandDefinition)(5045,5060)
          ReferentialIdentifier(ReferentialIdentifier)(5045,5046)
            Identifier(Identifier)(5045,5046)
              PsiElement(IDENTIFIER)('s')(5045,5046)
          PsiWhiteSpace(' ')(5046,5047)
          TypeSpecifier(TypeSpecifier)(5047,5060)
            NamedTypeSpecifier(NamedTypeSpecifier)(5047,5060)
              Qualifier(Qualifier)(5047,5053)
                Identifier(Identifier)(5047,5053)
                  PsiElement(IDENTIFIER)('System')(5047,5053)
              PsiElement('.')('.')(5053,5054)
              ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(5054,5060)
                ReferentialIdentifier(ReferentialIdentifier)(5054,5060)
                  Identifier(Identifier)(5054,5060)
                    PsiElement(IDENTIFIER)('String')(5054,5060)
        PsiElement(')')(')')(5060,5061)
        PsiElement(':')(':')(5061,5062)
        PsiWhiteSpace('\n  ')(5062,5065)
        FunctionBody(FunctionBody)(5065,5078)
          TermExpression(TermExpression)(5065,5078)
            TermExpressionTerm(TermExpressionTerm)(5065,5078)
              InstanceSelectorTerm(InstanceSelectorTerm)(5065,5078)
                InstanceSelector(InstanceSelector)(5065,5078)
                  NamedTypeSpecifier(NamedTypeSpecifier)(5065,5068)
                    ReferentialOrTypeNameIdentifier(ReferentialOrTypeNameIdentifier)(5065,5068)
                      ReferentialIdentifier(ReferentialIdentifier)(5065,5068)
                        Identifier(Identifier)(5065,5068)
                          PsiElement(IDENTIFIER)('url')(5065,5068)
                  PsiWhiteSpace(' ')(5068,5069)
                  PsiElement('{')('{')(5069,5070)
                  InstanceElementSelector(InstanceElementSelector)(5070,5077)
                    ReferentialIdentifier(ReferentialIdentifier)(5070,5075)
                      Identifier(Identifier)(5070,5075)
                        PsiElement(IDENTIFIER)('value')(5070,5075)
                    PsiElement(':')(':')(5075,5076)
                    TermExpression(TermExpression)(5076,5077)
                      TermExpressionTerm(TermExpressionTerm)(5076,5077)
                        InvocationTerm(InvocationTerm)(5076,5077)
                          MemberInvocation(MemberInvocation)(5076,5077)
                            ReferentialIdentifier(ReferentialIdentifier)(5076,5077)
                              Identifier(Identifier)(5076,5077)
                                PsiElement(IDENTIFIER)('s')(5076,5077)
                  PsiElement('}')('}')(5077,5078)
  PsiWhiteSpace('\n\n')(5078,5080)
  PsiComment(LINE_COMMENT)('//define function PatientHasConditionDuringEncounter(id String, codesystem url, duration Integer)):')(5080,5179)
  PsiWhiteSpace('\n\n')(5179,5181)
  PsiComment(LINE_COMMENT)('//define function PatientHasConditionFromValueSetDuringEncounter(id String, codesystem url, duration Integer)):')(5181,5292)
  PsiWhiteSpace('\n\n')(5292,5294)
  PsiComment(LINE_COMMENT)('//define function PatientHasHsistoryCondition(id String,codesystem url , duration Integer):')(5294,5385)
  PsiWhiteSpace('\n')(5385,5386)
  PsiComment(LINE_COMMENT)('//define function PatientHasHsistoryConditionFromValueSet(id String,codesystem url , duration Integer):')(5386,5489)
  PsiWhiteSpace('\n\n\n')(5489,5492)
  PsiComment(LINE_COMMENT)('// PatientHasSymptom("symptom name"): symptom in the encounter')(5492,5554)
  PsiWhiteSpace('\n\n\n')(5554,5557)
  PsiComment(LINE_COMMENT)('// PatientLastMeasureOf("measure name"): measure in the encounter')(5557,5622)
  PsiWhiteSpace('\n\n')(5622,5624)
  PsiComment(LINE_COMMENT)('// PatientLastHistoricMeasureOf("measure name", duration): measure in the patient history during duration')(5624,5729)
  PsiWhiteSpace('\n\n')(5729,5731)
  PsiComment(LINE_COMMENT)('// PatientHasDiagnostic("Diagnostic name" ): Diagnostic in the encounter')(5731,5803)
  PsiWhiteSpace('\n\n')(5803,5805)
  PsiComment(LINE_COMMENT)('// PatientHasHistoryOfDiagnostic("Diagnostic name", duration ): Diagnostic in the patient history during duration')(5805,5918)
  PsiWhiteSpace('\n\n')(5918,5920)
  PsiComment(LINE_COMMENT)('// PatientHasProposedorConfirmedDianostic("Diagnostic name" ): Diagnostic in the encounter')(5920,6010)
  PsiWhiteSpace('\n\n')(6010,6012)
  PsiComment(LINE_COMMENT)('// PatientHasHistoryOfProposedorConfirmedDianostic("Diagnostic name", duration ): Diagnostic in the patient history during duration')(6012,6143)
  PsiWhiteSpace('\n\n')(6143,6145)
  PsiComment(LINE_COMMENT)('// PatientZScoreWfA(wieght, age)')(6145,6177)
  PsiWhiteSpace('\n\n')(6177,6179)
  PsiComment(LINE_COMMENT)('// PatientWeightFromWfA(age, Muac)')(6179,6213)